<!DOCTYPE html>
<html class="client-nojs" lang="en" dir="ltr">
<head>
<meta charset="UTF-8">
<title>Qualcomm SDM845 (qualcomm-sdm845) - postmarketOS</title>
<link rel="stylesheet" href="../PostmarketOSWikiOffline.css">
<meta name="ResourceLoaderDynamicStyles" content="">
<meta name="generator" content="MediaWiki 1.39.6">
<meta name="format-detection" content="telephone=no">
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes, minimum-scale=0.25, maximum-scale=5.0">
<link rel="icon" href="/favicon.ico">
<link rel="search" type="application/opensearchdescription+xml" href="/opensearch_desc.php" title="postmarketOS (en)">
<link rel="EditURI" type="application/rsd+xml" href="https://wiki.postmarketos.org/api.php?action=rsd">
<link rel="license" href="https://creativecommons.org/licenses/by-sa/4.0/">
<link rel="alternate" type="application/atom+xml" title="postmarketOS Atom feed" href="/index.php?title=Special:RecentChanges&amp;feed=atom">
</head>
<body class="skin-vector skin-vector-search-vue mediawiki ltr sitedir-ltr mw-hide-empty-elt ns-0 ns-subject page-Qualcomm_SDM845_qualcomm-sdm845 rootpage-Qualcomm_SDM845_qualcomm-sdm845 skin-vector-2022 action-view skin--responsive vector-feature-language-in-header-enabled vector-feature-language-in-main-page-header-disabled vector-feature-language-alert-in-sidebar-disabled vector-feature-sticky-header-disabled vector-feature-sticky-header-edit-disabled vector-feature-table-of-contents-disabled vector-feature-visual-enhancement-next-disabled">
<div class="mw-page-container">
	<span id="top-page"></span>
	<a class="mw-jump-link" href="#content">Jump to content</a>
	<div class="mw-page-container-inner">
		<input type="checkbox" id="mw-sidebar-checkbox" class="mw-checkbox-hack-checkbox">
		<header class="mw-header">
			<div class="mw-header-aside">
			<label id="mw-sidebar-button" class="mw-checkbox-hack-button mw-ui-icon mw-ui-button mw-ui-quiet mw-ui-icon-element" for="mw-sidebar-checkbox" role="button" aria-controls="mw-panel" data-event-name="ui.sidebar" tabindex="0" title="Main menu">
				<span>Toggle sidebar</span>
			</label>
			
<a href="../en/Main_Page.html" class="mw-logo">
	<img class="mw-logo-icon" src="/logo_50x50.svg" alt="" aria-hidden="true" height="50" width="50">
	<span class="mw-logo-container">
		<strong class="mw-logo-wordmark">postmarketOS</strong>
	</span>
</a>

			</div>
			<div class="mw-header-content">
			
<div id="p-search" role="search" class="vector-search-box-vue  vector-search-box-collapses  vector-search-box-show-thumbnail vector-search-box-auto-expand-width vector-search-box">
	<a href="../Special:Search.html" title="Search postmarketOS [f]" accesskey="f" class="mw-ui-button mw-ui-quiet mw-ui-icon mw-ui-icon-element mw-ui-icon-wikimedia-search search-toggle">
		<span>Search</span>
	</a>
	
	<div>
		<form action="/index.php" id="searchform" class="vector-search-box-form">
			<div id="simpleSearch" class="vector-search-box-inner" data-search-loc="header-moved">
				<input class="vector-search-box-input" type="search" name="search" placeholder="Search postmarketOS" aria-label="Search postmarketOS" autocapitalize="sentences" title="Search postmarketOS [f]" accesskey="f" id="searchInput">
				<input type="hidden" name="title" value="Special:Search">
				<input id="mw-searchButton" class="searchButton mw-fallbackSearchButton" type="submit" name="fulltext" title="Search the pages for this text" value="Search">
				<input id="searchButton" class="searchButton" type="submit" name="go" title="Go to a page with this exact name if it exists" value="Go">
			</div>
		</form>
	</div>
</div>

			<nav class="vector-user-links" aria-label="Personal tools" role="navigation">
	

<div id="p-vector-user-menu-overflow" class="vector-menu mw-portlet mw-portlet-vector-user-menu-overflow vector-user-menu-overflow">
	<div class="vector-menu-content">
		
		<ul class="vector-menu-content-list"><li id="pt-createaccount-2" class="user-links-collapsible-item mw-list-item"><a href="../Special:RequestAccount.html"><span>Request account</span></a></li></ul>
		
	</div>
</div>

	

<div id="p-personal" class="vector-menu mw-portlet mw-portlet-personal vector-user-menu vector-user-menu-logged-out vector-menu-dropdown" title="More options">
	<input type="checkbox" id="p-personal-checkbox" role="button" aria-haspopup="true" data-event-name="ui.dropdown-p-personal" class="vector-menu-checkbox">
	<label id="p-personal-label" for="p-personal-checkbox" class="vector-menu-heading mw-ui-button mw-ui-quiet mw-ui-icon mw-ui-icon-element mw-ui-icon-ellipsis mw-ui-icon-wikimedia-ellipsis">
		<span class="vector-menu-heading-label">Personal tools</span>
	</label>
	<div class="vector-menu-content">
		<div class="vector-user-menu-create-account"><a href="/index.php?title=Special:CreateAccount&amp;returnto=Qualcomm+SDM845+%28qualcomm-sdm845%29" class="vector-menu-content-item user-links-collapsible-item" title="You are encouraged to create an account and log in; however, it is not mandatory"><span class="mw-ui-icon mw-ui-icon-userAdd mw-ui-icon-wikimedia-userAdd"></span> <span>Create account</span></a></div>
<div class="vector-user-menu-login"><a href="/index.php?title=Special:UserLogin&amp;returnto=Qualcomm+SDM845+%28qualcomm-sdm845%29" class="vector-menu-content-item vector-menu-content-item-login" title="You are encouraged to log in; however, it is not mandatory [o]" accesskey="o"><span class="mw-ui-icon mw-ui-icon-logIn mw-ui-icon-wikimedia-logIn"></span> <span>Log in</span></a></div>

		<ul class="vector-menu-content-list"></ul>
		
	</div>
</div>

</nav>

			</div>
		</header>
		<div class="vector-sidebar-container ">
			</div>
		<div class="vector-sitenotice-container">
			<div id="siteNotice"></div>
		</div>
		<input type="checkbox" id="vector-toc-collapsed-checkbox" class="mw-checkbox-hack-checkbox">
		<div class="mw-table-of-contents-container">
			<div class="vector-sticky-toc-container mw-sticky-header-element">
				<nav id="mw-panel-toc" class="sidebar-toc" role="navigation" aria-labelledby="sidebar-toc-label" data-event-name="ui.sidebar-toc">
	<div id="sidebar-toc-label" class="sidebar-toc-header">
		<p class="sidebar-toc-title">
		Contents
		<button class="vector-toc-uncollapse-button">move to sidebar</button>
		<button class="vector-toc-collapse-button">hide</button>
		</p>
	</div>
	<ul class="sidebar-toc-contents" id="mw-panel-toc-list">
		<li id="toc-mw-content-text" class="sidebar-toc-list-item sidebar-toc-level-1">
			<a href="#top-page" class="sidebar-toc-link">
				<div class="sidebar-toc-text">Beginning</div>
			</a>
		</li>
		<li id="toc-Supported_Devices" class="sidebar-toc-list-item sidebar-toc-level-1 sidebar-toc-list-item-expanded">
			<a class="sidebar-toc-link" href="#Supported_Devices">
				<div class="sidebar-toc-text">
				<span class="sidebar-toc-numb">1</span>Supported Devices</div>
			</a>
			
			<ul id="toc-Supported_Devices-sublist" class="sidebar-toc-list">
			</ul>
		</li>
		<li id="toc-Installing" class="sidebar-toc-list-item sidebar-toc-level-1 sidebar-toc-list-item-expanded">
			<a class="sidebar-toc-link" href="#Installing">
				<div class="sidebar-toc-text">
				<span class="sidebar-toc-numb">2</span>Installing</div>
			</a>
			
				<button aria-controls="toc-Installing-sublist" class="mw-ui-icon mw-ui-icon-wikimedia-expand mw-ui-icon-small sidebar-toc-toggle">
					Toggle Installing subsection
				</button>
			
			<ul id="toc-Installing-sublist" class="sidebar-toc-list">
				<li id="toc-Flashing" class="sidebar-toc-list-item sidebar-toc-level-2">
			<a class="sidebar-toc-link" href="#Flashing">
				<div class="sidebar-toc-text">
				<span class="sidebar-toc-numb">2.1</span>Flashing</div>
			</a>
			
			<ul id="toc-Flashing-sublist" class="sidebar-toc-list">
			</ul>
		</li>
		<li id="toc-Installing_U-Boot" class="sidebar-toc-list-item sidebar-toc-level-2">
			<a class="sidebar-toc-link" href="#Installing_U-Boot">
				<div class="sidebar-toc-text">
				<span class="sidebar-toc-numb">2.2</span>Installing U-Boot</div>
			</a>
			
			<ul id="toc-Installing_U-Boot-sublist" class="sidebar-toc-list">
			</ul>
		</li>
	</ul>
		</li>
		<li id="toc-Interacting_with_U-Boot" class="sidebar-toc-list-item sidebar-toc-level-1 sidebar-toc-list-item-expanded">
			<a class="sidebar-toc-link" href="#Interacting_with_U-Boot">
				<div class="sidebar-toc-text">
				<span class="sidebar-toc-numb">3</span>Interacting with U-Boot</div>
			</a>
			
				<button aria-controls="toc-Interacting_with_U-Boot-sublist" class="mw-ui-icon mw-ui-icon-wikimedia-expand mw-ui-icon-small sidebar-toc-toggle">
					Toggle Interacting with U-Boot subsection
				</button>
			
			<ul id="toc-Interacting_with_U-Boot-sublist" class="sidebar-toc-list">
				<li id="toc-Boot_first_available_device" class="sidebar-toc-list-item sidebar-toc-level-2">
			<a class="sidebar-toc-link" href="#Boot_first_available_device">
				<div class="sidebar-toc-text">
				<span class="sidebar-toc-numb">3.1</span>Boot first available device</div>
			</a>
			
			<ul id="toc-Boot_first_available_device-sublist" class="sidebar-toc-list">
			</ul>
		</li>
		<li id="toc-Enable_USB_mass_storage" class="sidebar-toc-list-item sidebar-toc-level-2">
			<a class="sidebar-toc-link" href="#Enable_USB_mass_storage">
				<div class="sidebar-toc-text">
				<span class="sidebar-toc-numb">3.2</span>Enable USB mass storage</div>
			</a>
			
			<ul id="toc-Enable_USB_mass_storage-sublist" class="sidebar-toc-list">
			</ul>
		</li>
		<li id="toc-Enable_fastboot_mode" class="sidebar-toc-list-item sidebar-toc-level-2">
			<a class="sidebar-toc-link" href="#Enable_fastboot_mode">
				<div class="sidebar-toc-text">
				<span class="sidebar-toc-numb">3.3</span>Enable fastboot mode</div>
			</a>
			
			<ul id="toc-Enable_fastboot_mode-sublist" class="sidebar-toc-list">
			</ul>
		</li>
		<li id="toc-Enable_serial_console_gadget" class="sidebar-toc-list-item sidebar-toc-level-2">
			<a class="sidebar-toc-link" href="#Enable_serial_console_gadget">
				<div class="sidebar-toc-text">
				<span class="sidebar-toc-numb">3.4</span>Enable serial console gadget</div>
			</a>
			
			<ul id="toc-Enable_serial_console_gadget-sublist" class="sidebar-toc-list">
			</ul>
		</li>
	</ul>
		</li>
		<li id="toc-Background_info" class="sidebar-toc-list-item sidebar-toc-level-1 sidebar-toc-list-item-expanded">
			<a class="sidebar-toc-link" href="#Background_info">
				<div class="sidebar-toc-text">
				<span class="sidebar-toc-numb">4</span>Background info</div>
			</a>
			
			<ul id="toc-Background_info-sublist" class="sidebar-toc-list">
			</ul>
		</li>
		<li id="toc-Migrating_an_existing_installation" class="sidebar-toc-list-item sidebar-toc-level-1 sidebar-toc-list-item-expanded">
			<a class="sidebar-toc-link" href="#Migrating_an_existing_installation">
				<div class="sidebar-toc-text">
				<span class="sidebar-toc-numb">5</span>Migrating an existing installation</div>
			</a>
			
			<ul id="toc-Migrating_an_existing_installation-sublist" class="sidebar-toc-list">
			</ul>
		</li>
		<li id="toc-See_also" class="sidebar-toc-list-item sidebar-toc-level-1 sidebar-toc-list-item-expanded">
			<a class="sidebar-toc-link" href="#See_also">
				<div class="sidebar-toc-text">
				<span class="sidebar-toc-numb">6</span>See also</div>
			</a>
			
			<ul id="toc-See_also-sublist" class="sidebar-toc-list">
			</ul>
		</li>
	</ul>
</nav>

			</div>
		</div>
		<div class="mw-content-container">
			<main id="content" class="mw-body" role="main" style="margin: 0">
				<a id="top"></a>
				<header class="mw-body-header">
				
				
					<label id="vector-toc-collapsed-button" class="mw-ui-button mw-ui-quiet mw-ui-icon mw-ui-icon-element mw-ui-icon-wikimedia-listBullet mw-checkbox-hack-button" for="vector-toc-collapsed-checkbox" role="button" aria-controls="toc-toggle-list" data-event-name="vector.toc-toggle-list" tabindex="0" title="Table of Contents">
						Toggle the table of contents
					</label>
				    <h1 id="firstHeading" class="firstHeading mw-first-heading"><span class="mw-page-title-main">Qualcomm SDM845 (qualcomm-sdm845)</span></h1>
				</header>
				<nav class="vector-article-toolbar" aria-label="Tools" role="navigation">
					<div class="mw-article-toolbar-container">
						<div id="left-navigation">
							

<div id="p-associated-pages" class="vector-menu mw-portlet mw-portlet-associated-pages vector-menu-tabs">
	<div class="vector-menu-content">
		
		<ul class="vector-menu-content-list">
<li id="ca-nstab-main" class="selected mw-list-item"><a href="../en/Qualcomm_SDM845_(qualcomm-sdm845).html" title="View the content page [c]" accesskey="c"><span>Page</span></a></li>
<li id="ca-talk" class="new mw-list-item"><a href="/index.php?title=Talk:Qualcomm_SDM845_(qualcomm-sdm845)&amp;action=edit&amp;redlink=1" rel="discussion" title="Discussion about the content page (page does not exist) [t]" accesskey="t"><span>Discussion</span></a></li>
</ul>
		
	</div>
</div>

							

<div id="p-variants" class="vector-menu mw-portlet mw-portlet-variants emptyPortlet vector-menu-dropdown">
	<input type="checkbox" id="p-variants-checkbox" role="button" aria-haspopup="true" data-event-name="ui.dropdown-p-variants" class="vector-menu-checkbox" aria-label="Change language variant">
	<label id="p-variants-label" for="p-variants-checkbox" class="vector-menu-heading ">
		<span class="vector-menu-heading-label">English</span>
	</label>
	<div class="vector-menu-content">
		
		<ul class="vector-menu-content-list"></ul>
		
	</div>
</div>

						</div>
						<div id="right-navigation" class="vector-collapsible ">
							

<div id="p-views" class="vector-menu mw-portlet mw-portlet-views vector-menu-tabs">
	<div class="vector-menu-content">
		
		<ul class="vector-menu-content-list">
<li id="ca-view" class="selected mw-list-item"><a href="../en/Qualcomm_SDM845_(qualcomm-sdm845).html"><span>Read</span></a></li>
<li id="ca-viewsource" class="mw-list-item"><a href="/index.php?title=Qualcomm_SDM845_(qualcomm-sdm845)&amp;action=edit" title="This page is protected.
You can view its source [e]" accesskey="e"><span>View source</span></a></li>
<li id="ca-history" class="mw-list-item"><a href="/index.php?title=Qualcomm_SDM845_(qualcomm-sdm845)&amp;action=history" title="Past revisions of this page [h]" accesskey="h"><span>View history</span></a></li>
</ul>
		
	</div>
</div>

							

<div id="p-cactions" class="vector-menu mw-portlet mw-portlet-cactions emptyPortlet vector-menu-dropdown vector-has-collapsible-items" title="More options">
	<input type="checkbox" id="p-cactions-checkbox" role="button" aria-haspopup="true" data-event-name="ui.dropdown-p-cactions" class="vector-menu-checkbox">
	<label id="p-cactions-label" for="p-cactions-checkbox" class="vector-menu-heading ">
		<span class="vector-menu-heading-label">More</span>
	</label>
	<div class="vector-menu-content">
		
		<ul class="vector-menu-content-list">
<li id="ca-more-view" class="selected vector-more-collapsible-item mw-list-item"><a href="../en/Qualcomm_SDM845_(qualcomm-sdm845).html"><span>Read</span></a></li>
<li id="ca-more-viewsource" class="vector-more-collapsible-item mw-list-item"><a href="/index.php?title=Qualcomm_SDM845_(qualcomm-sdm845)&amp;action=edit"><span>View source</span></a></li>
<li id="ca-more-history" class="vector-more-collapsible-item mw-list-item"><a href="/index.php?title=Qualcomm_SDM845_(qualcomm-sdm845)&amp;action=history"><span>View history</span></a></li>
</ul>
		
	</div>
</div>

						</div>
					</div>
				</nav>
				<div id="bodyContent" class="vector-body" data-mw-ve-target-container>
					<div class="mw-body-subheader">
					        <div class="mw-indicators">
        </div>

					    <div id="siteSub" class="noprint">From postmarketOS</div>
					</div>
					
					
					
					<div id="mw-content-text" class="mw-body-content mw-content-ltr" lang="en" dir="ltr">
<div class="mw-parser-output">
<table class="infobox" cellspacing="3" style="border-spacing: 3px; width:22em;">
<caption class="" style="">Qualcomm Snapdragon 845</caption>
<tbody>
<tr class="">
<th scope="row" style="text-align:left;">Manufacturer</th>
    <td class="" style="">
<a href="../en/Category:Qualcomm.html" title="Category:Qualcomm">Qualcomm</a>
</td>
</tr>
<tr class="">
<th scope="row" style="text-align:left;">Name</th>
    <td class="" style="">
Snapdragon 845</td>
</tr>
<tr class="">
<th scope="row" style="text-align:left;">Codename</th>
    <td class="" style="">
generic-sdm845</td>
</tr>
<tr class="">
<th scope="row" style="text-align:left;">Released</th>
    <td class="" style="">
2020</td>
</tr>
<tr class="">
<th scope="row" style="text-align:left;">Category</th>
    <td class="" style="">
testing</td>
</tr>
<tr class="">
<th scope="row" style="text-align:left;">Original software</th>
    <td class="" style="">
<a href="../en/Category:Android.html" title="Category:Android">Android</a>
</td>
</tr>
<tr class="">
<th scope="row" style="text-align:left;"><abbr title="The version the device was shipped with.">Original version</abbr></th>
    <td class="" style="">
8.0</td>
</tr>
<tr class="">
<th scope="row" style="text-align:left;"><abbr title="The most recent supported version from the manufacturer.">Extended version</abbr></th>
    <td class="" style="">
13 on Linux 4.9</td>
</tr>
<tr class="">
<th scope="row" style="text-align:left;">postmarketOS kernel</th>
    <td class="" style="">
Mainline</td>
</tr>
<tr><th colspan="2" class="" style="text-align:center;">Hardware</th></tr>
<tr class="">
<th scope="row" style="text-align:left;">Chipset</th>
    <td class="" style="">
<a href="../en/Qualcomm_Snapdragon_845_850_(SDM845_SDM850).html" class="mw-redirect" title="Qualcomm Snapdragon 845 (SDM845)">Qualcomm Snapdragon 845 (SDM845)</a>
</td>
</tr>
<tr class="">
<th scope="row" style="text-align:left;">CPU</th>
    <td class="" style="">
Octa-core (4x 2.8 GHz Kryo 385 Gold &amp; 4x 1.7 GHz Kryo 385 Silver)</td>
</tr>
<tr class="">
<th scope="row" style="text-align:left;">GPU</th>
    <td class="" style="">
Adreno 630</td>
</tr>
<tr class="">
<th scope="row" style="text-align:left;">Display</th>
    <td class="" style="">
1080 x 2280 AMOLED</td>
</tr>
<tr class="">
<th scope="row" style="text-align:left;">Storage</th>
    <td class="" style="">
64/128/256 GB</td>
</tr>
<tr class="">
<th scope="row" style="text-align:left;">Memory</th>
    <td class="" style="">
4/6/8 GB</td>
</tr>
<tr class="">
<th scope="row" style="text-align:left;">Architecture</th>
    <td class="" style="">
<a href="../en/Category:AArch64.html" title="Category:AArch64">AArch64</a>
</td>
</tr>
<tr class="">
<th scope="row" style="text-align:left;">Type</th>
    <td class="" style="">
<a href="../en/Category:Generic.html" title="Category:Generic">generic</a>
</td>
</tr>
<tr class="">
<th scope="row" style="text-align:left;">Unixbench Whet/Dhry score</th>
    <td class="" style="">
6029.9</td>
</tr>
<tr><td colspan="2" style="text-align:right"></td></tr>
</tbody>
</table>
<table class="infobox" cellspacing="3" style="border-spacing: 3px; width:22em;">
<caption class="" style="">Features</caption>
<tbody>
<tr class="">
<th scope="row" style="text-align:left;"><abbr title="After connecting the device with USB to your PC, you can connect to it via telnet (initramfs) or SSH (booted system).">USB Networking</abbr></th>
    <td class="" style="">
<div class="feature feature-yes">Works</div>
</td>
</tr>
<tr class="">
<th scope="row" style="text-align:left;"><abbr title="It is possible to flash the device with `pmbootstrap flasher`.">Flashing</abbr></th>
    <td class="" style="">
<div class="feature feature-yes">Works</div>
</td>
</tr>
<tr class="">
<th scope="row" style="text-align:left;">Touchscreen</th>
    <td class="" style="">
<div class="feature feature-yes">Works</div>
</td>
</tr>
<tr class="">
<th scope="row" style="text-align:left;"><abbr title="Display works. Ideally with sleep mode and brightness control.">Display</abbr></th>
    <td class="" style="">
<div class="feature feature-yes">Works</div>
</td>
</tr>
<tr class="">
<th scope="row" style="text-align:left;">WiFi</th>
    <td class="" style="">
<div class="feature feature-yes">Works</div>
</td>
</tr>
<tr class="">
<th scope="row" style="text-align:left;"><abbr title="Full disk encryption and unlocking with osk-sdl.">FDE</abbr></th>
    <td class="" style="">
<div class="feature feature-yes">Works</div>
</td>
</tr>
<tr class="">
<th scope="row" style="text-align:left;"><abbr title="Instead of a Linux kernel fork, it is possible to run mainline.">Mainline</abbr></th>
    <td class="" style="">
<div class="feature feature-yes">Works</div>
</td>
</tr>
<tr class="">
<th scope="row" style="text-align:left;"><abbr title="Charging and battery level reporting works">Battery</abbr></th>
    <td class="" style="">
<div class="feature feature-yes">Works</div>
</td>
</tr>
<tr class="">
<th scope="row" style="text-align:left;">3D Acceleration</th>
    <td class="" style="">
<div class="feature feature-yes">Works</div>
</td>
</tr>
<tr class="">
<th scope="row" style="text-align:left;"><abbr title="Audio playback, microphone, headset and buttons.">Audio</abbr></th>
    <td class="" style="">
<div class="feature feature-yes">Works</div>
</td>
</tr>
<tr class="">
<th scope="row" style="text-align:left;">Bluetooth</th>
    <td class="" style="">
<div class="feature feature-yes">Works</div>
</td>
</tr>
<tr class="">
<th scope="row" style="text-align:left;">Camera</th>
    <td class="" style="">
<div class="feature feature-no">Broken</div>
</td>
</tr>
<tr class="">
<th scope="row" style="text-align:left;">GPS</th>
    <td class="" style="">
<div class="feature feature-partial">Partial</div>
</td>
</tr>
<tr class="">
<th scope="row" style="text-align:left;">Mobile data</th>
    <td class="" style="">
<div class="feature feature-yes">Works</div>
</td>
</tr>
<tr class="">
<th scope="row" style="text-align:left;">Internal storage</th>
    <td class="" style="">
<div></div>
</td>
</tr>
<tr class="">
<th scope="row" style="text-align:left;">SMS</th>
    <td class="" style="">
<div class="feature feature-yes">Works</div>
</td>
</tr>
<tr class="">
<th scope="row" style="text-align:left;">Calls</th>
    <td class="" style="">
<div class="feature feature-yes">Works</div>
</td>
</tr>
<tr class="">
<th scope="row" style="text-align:left;"><abbr title="USB On-The-Go or USB-C Role switching">USB OTG</abbr></th>
    <td class="" style="">
<div class="feature feature-partial">Partial</div>
</td>
</tr>
<tr class="">
<th scope="row" style="text-align:left;"><abbr title="Near Field Communication">NFC</abbr></th>
    <td class="" style="">
<div class="feature feature-no">Broken</div>
</td>
</tr>
<tr><td colspan="2" style="text-align:right"></td></tr>
</tbody>
</table>
<table class="infobox" cellspacing="3" style="border-spacing: 3px; width:22em;">
<caption class="" style="">Sensors</caption>
<tbody>
<tr class="">
<th scope="row" style="text-align:left;"><abbr title="Auto screen rotation works in desktops e.g. Phosh or Plasma Mobile">Accelerometer</abbr></th>
    <td class="" style="">
<div class="feature feature-no">Broken</div>
</td>
</tr>
<tr class="">
<th scope="row" style="text-align:left;"><abbr title="Sensor to measure magnetism">Magnetometer</abbr></th>
    <td class="" style="">
<div></div>
</td>
</tr>
<tr class="">
<th scope="row" style="text-align:left;">Ambient Light</th>
    <td class="" style="">
<div></div>
</td>
</tr>
<tr class="">
<th scope="row" style="text-align:left;">Proximity</th>
    <td class="" style="">
<div></div>
</td>
</tr>
<tr class="">
<th scope="row" style="text-align:left;"><abbr title="Also known as flip cover sensor">Hall Effect</abbr></th>
    <td class="" style="">
<div></div>
</td>
</tr>
<tr class="">
<th scope="row" style="text-align:left;"><abbr title="Sensor to measure air pressure">Barometer</abbr></th>
    <td class="" style="">
<div></div>
</td>
</tr>
<tr class="">
<th scope="row" style="text-align:left;"><abbr title="Sensor to monitor current, voltage and power. Not fuel gauge!">Power Sensor</abbr></th>
    <td class="" style="">
<div></div>
</td>
</tr>
<tr><td colspan="2" style="text-align:right"></td></tr>
</tbody>
</table>
<table class="infobox" cellspacing="3" style="border-spacing: 3px; width:22em;">
<caption class="" style="">Misc</caption>
<tbody>
<tr class="">
<th scope="row" style="text-align:left;"><abbr title="Device that allows you for receive TV signals See [[Dvb device]]">Built-in DVB</abbr></th>
    <td class="" style="">
<div></div>
</td>
</tr>
<tr class="">
<th scope="row" style="text-align:left;">Camera Flash</th>
    <td class="" style="">
<div></div>
</td>
</tr>
<tr class="">
<th scope="row" style="text-align:left;">Keyboard</th>
    <td class="" style="">
<div></div>
</td>
</tr>
<tr class="">
<th scope="row" style="text-align:left;">Touchpad</th>
    <td class="" style="">
<div></div>
</td>
</tr>
<tr class="">
<th scope="row" style="text-align:left;"><abbr title="Full-sized USB-A port works (Usually applicable to SBCs and laptops).">USB-A</abbr></th>
    <td class="" style="">
<div></div>
</td>
</tr>
<tr class="">
<th scope="row" style="text-align:left;"><abbr title="Video and audio output with HDMI or Display Port works.">HDMI/DP</abbr></th>
    <td class="" style="">
<div></div>
</td>
</tr>
<tr class="">
<th scope="row" style="text-align:left;">Ir TX</th>
    <td class="" style="">
<div></div>
</td>
</tr>
<tr class="">
<th scope="row" style="text-align:left;">Ir RX</th>
    <td class="" style="">
<div></div>
</td>
</tr>
<tr class="">
<th scope="row" style="text-align:left;">Stylus</th>
    <td class="" style="">
<div></div>
</td>
</tr>
<tr class="">
<th scope="row" style="text-align:left;"><abbr title="A card that can store digital data">Memory Card</abbr></th>
    <td class="" style="">
<div></div>
</td>
</tr>
<tr class="">
<th scope="row" style="text-align:left;">Haptics</th>
    <td class="" style="">
<div class="feature feature-yes">Works</div>
</td>
</tr>
<tr class="">
<th scope="row" style="text-align:left;">Ethernet</th>
    <td class="" style="">
<div></div>
</td>
</tr>
<tr class="">
<th scope="row" style="text-align:left;">FOSS bootloader</th>
    <td class="" style="">
<div></div>
</td>
</tr>
<tr><td colspan="2" style="text-align:right"></td></tr>
</tbody>
</table>
<p><br>
</p>
<table class="infobox" style="float: right; width: 22em; color: inherit; background-color: #f7fff7; border: 3px solid #8a8;"><tbody><tr><td>
<b>This device is based on the <a href="../en/Qualcomm_Snapdragon_845_850_(SDM845_SDM850).html" class="mw-redirect" title="Qualcomm Snapdragon 845 (SDM845)">Snapdragon 845</a>.</b><br>See the SoC page for common tips, guides and troubleshooting steps</td></tr></tbody></table>
<table role="text container" style="color: inherit; background-color: #fee7e6; border: 1px solid #d33; margin: 4px 0; border-collapse: collapse;"><tbody><tr>
<td style="padding: 2px 0 2px 0.9em; text-align: center;"><span style="white-space: nowrap;"><img alt="Icon" src="../Red_warning_icon.svg" decoding="async" title="Icon" width="20" height="20" srcset="../Red_warning_icon.svg 1.5x ../Red_warning_icon.svg 2x"></span></td>
<td style="padding: 0.35em 0.9em; width: 100%;">
<b>WARNING:</b> Support for booting these devices using U-Boot and UEFI is still a work in progress and implementation details are subject to change, be careful if you plan on tinkering with this.</td>
</tr></tbody></table>
<p>Some SDM845 devices in the <a href="../en/Device_categorization.html" title="Device categorization">Community</a> category are supported by a new generic device target where U-Boot is used as an intermediary bootloader to provide a standard UEFI environment and allow for bootloaders like systemd-boot to be used. This allows for nicer multi-booting, the potential to revert to previous kernels if an upgrade causes regressions, and a whole myriad of other benefits.
</p>
<tocplace></tocplace>
<h2><span class="mw-headline" id="Supported_Devices">Supported Devices</span></h2>
<table class="cargoTable noMerge sortable">
<thead><tr>
<th class="field_Device">Device</th>
<th class="field_Codename">Codename</th>
<th class="field_Category">Category</th>
</tr></thead>
<tbody>
<tr>
<td class="field_Device"><a href="../en/OnePlus_6_(oneplus-enchilada).html" title="OnePlus 6 (oneplus-enchilada)">OnePlus 6</a></td>
<td class="field_Codename">oneplus-enchilada</td>
<td class="field_Category">community</td>
</tr>
<tr>
<td class="field_Device"><a href="../en/OnePlus_6T_(oneplus-fajita).html" title="OnePlus 6T (oneplus-fajita)">OnePlus 6T</a></td>
<td class="field_Codename">oneplus-fajita</td>
<td class="field_Category">community</td>
</tr>
<tr>
<td class="field_Device"><a href="../en/SHIFT_SHIFT6mq_(shift-axolotl).html" title="SHIFT SHIFT6mq (shift-axolotl)">SHIFT SHIFT6mq</a></td>
<td class="field_Codename">shift-axolotl</td>
<td class="field_Category">community</td>
</tr>
<tr>
<td class="field_Device"><a href="../en/Xiaomi_POCO_F1_(xiaomi-beryllium).html" title="Xiaomi POCO F1 (xiaomi-beryllium)">Xiaomi Pocophone F1 / POCO F1</a></td>
<td class="field_Codename">xiaomi-beryllium</td>
<td class="field_Category">community</td>
</tr>
</tbody>
</table>
<h2><span class="mw-headline" id="Installing">Installing</span></h2>
<p>Where we flash the boot partition (the ESP which U-Boot must access) depends on the device. We ideally need a partition of at least 128MiB, although 96MiB is probably enough. The simplest option is to use one of the system partitions, on devices like the SHIFT6mq which don't have one, the recovery partition is a safe bet.
On the OnePlus 6 there is a partition called "op2" which seems to contain some firstboot logs, it's plenty big so a good option as well.
</p>
<p>No matter which partition you choose, U-Boot will find it automatically on boot, just ensure that it's big enough!
</p>
<p>If the partition you chose is smaller than 256M, adjust the <code>boot_size</code> config option in pmbootstrap to ensure that the image pmbootstrap generates will fit, e.g. for a 96M ESP do <code>pmbootstrap config boot_size 92</code>.
</p>
<p>Follow the <a href="../en/Installation.html" title="Installation">standard installation guide</a>, choose <code>generic-sdm845</code> as the device codename. You MUST add <code>--split</code> as an argument when invoking <code>pmbootstrap install</code>!
</p>
<h3><span class="mw-headline" id="Flashing">Flashing</span></h3>
<p>Follow the instructions on the wiki page for you device to enter fastboot mode.
</p>
<p>The rootfs should be flashed to userdata, pmbootstrap doesn't integrate super nicely with split images, so we have to flash with fastboot manually:
</p>
<pre>fastboot flash userdata ~/.local/var/pmbootstrap/chroot_native/home/pmos/rootfs/generic-sdm845-root.img
</pre>
<p>Then flash the boot image, run (replacing "system" with your partition of choice):
</p>
<pre>fastboot flash system ~/.local/var/pmbootstrap/chroot_native/home/pmos/rootfs/generic-sdm845-boot.img
</pre>
<h3><span class="mw-headline" id="Installing_U-Boot">Installing U-Boot</span></h3>
<p>U-Boot is flashed to the boot partition, tricking ABL into thinking that it's running a Linux kernel, as well as letting ABL populate some useful properties in the devicetree.
</p>
<table role="text container" style="color: inherit; background-color: #fdd1d1; border: 1px solid #b60000; margin: 4px 0; border-collapse: collapse;"><tbody><tr>
<td style="padding: 2px 0 2px 0.9em; text-align: center;"><span style="white-space: nowrap;"><img alt="Icon" src="../Red_warning_icon.svg" decoding="async" title="Icon" width="20" height="20" srcset="../Red_warning_icon.svg 1.5x ../Red_warning_icon.svg 2x"></span></td>
<td style="padding: 0.35em 0.9em; width: 100%;">
<b>TODO:</b> Detect beryllium variant from cmdline and adjust DTB selection</td>
</tr></tbody></table>
<p>Initial U-Boot binaries <a rel="nofollow" class="external text" href="https://gitlab.com/sdm845-mainline/u-boot/-/releases">can be found here</a>, you may want to check for a newer release. Download the one corresponding to your device (see the table at the top of this page), for PocoPhone F1 users, see the device wiki page to determine which display variant you have. How to handle upgrading U-Boot is still undecided.
</p>
<p>Having flashed postmarketOS, you can now flash U-Boot and reboot into your new installation as follows (replacing $CODENAME) with your device codename.
</p>
<pre>fastboot erase dtbo flash boot u-boot-$CODENAME.img reboot
</pre>
<h2><span class="mw-headline" id="Interacting_with_U-Boot">Interacting with U-Boot</span></h2>
<p>The U-Boot build includes some nice-to-haves for mobile users, by default it will boot the first EFI binary it can find (which will be our systemd-boot usually), however by pressing the power button at the autoboot prompt you can access a boot menu with some additional utilities.
</p>
<h4><span class="mw-headline" id="Boot_first_available_device">Boot first available device</span></h4>
<p>This will boot into postmarketOS
</p>
<h4><span class="mw-headline" id="Enable_USB_mass_storage">Enable USB mass storage</span></h4>
<p>This will expose the entirety of the devices internal storage to your PC via USB. Be EXTREMELY careful not to overwrite the partition table as it's extremely easy to brick your device this way (although usually it's possible to recovery using EDL mode tools).
</p>
<p>This is also super useful to retrieve logs from a device that won't boot, to fix booting by editing some config file, or whatever else you might want to do. Note that U-Boot upstream doesn't support the 4K block size used by UFS storage, support for this was added by me (Caleb) and hasn't been reviewed or extensively tested. While I haven't hit any corruption, it's certainly within the realm of possibility.
</p>
<h4><span class="mw-headline" id="Enable_fastboot_mode">Enable fastboot mode</span></h4>
<p>The fastboot implementation in U-Boot doesn't currently support SCSI/UFS storage, and many other features aren't working properly. There isn't much useful stuff to do here for now.
</p>
<h4><span class="mw-headline" id="Enable_serial_console_gadget">Enable serial console gadget</span></h4>
<p>The console gadget will expose a serial port to your PC from which you can access the U-Boot console, this is helpful for poking around U-Boot if you don't have access to the real serial port on your device.
</p>
<h2><span class="mw-headline" id="Background_info">Background info</span></h2>
<p>There is a major difference between this generic support compared to how these devices run mainline currently. By running U-Boot, we get rid of almost all of the Android specific quirks. We run a normal UEFI bootloader (systemd-boot), and really the only odd part is the lack of a keyboard.
</p>
<p>The requirements for a nice UEFI experience are pretty simple, we need a UEFI capable bootloader like U-Boot, and an EFI System Partition (ESP) on the device. The ESP is a special partition which the bootloader can read, systemd-boot is installed as <code>/EFI/BOOT/BOOTAA64.efi</code>, this well-known path is checked by U-Boot which will then run the EFI binary. The ESP also contains the kernel, initramfs, DTBs, and any bootloader configuration.
</p>
<h2><span class="mw-headline" id="Migrating_an_existing_installation">Migrating an existing installation</span></h2>
<p>On postmarketOS, the pmOS_boot partition (mounted to /boot) doubles as the ESP. The current installation method for sdm845 devices involves shoving the boot and root partitions into a single disk image and then flashing that entire disk image to the userdata partition on the device. We refer to this as "subpartitioning".
</p>
<p>U-Boot doesn't know how to access the boot partition in this nested form, hence, it is non-trivial to migrate an existing postmarketOS installation (although possible with some caveats).
</p>
<table role="text container" style="color: inherit; background-color: #fee7e6; border: 1px solid #d33; margin: 4px 0; border-collapse: collapse;"><tbody><tr>
<td style="padding: 2px 0 2px 0.9em; text-align: center;"><span style="white-space: nowrap;"><img alt="Icon" src="../Red_warning_icon.svg" decoding="async" title="Icon" width="20" height="20" srcset="../Red_warning_icon.svg 1.5x ../Red_warning_icon.svg 2x"></span></td>
<td style="padding: 0.35em 0.9em; width: 100%;">
<b>WARNING:</b> The below rough guide depends on changes to the initramfs from the pmaports MR, specifically the initramfs changes, ensure that you install these packages if attempting before the MR has been merged.</td>
</tr></tbody></table>
<p>Format the partition (delete and re-create) you want to use as your ESP (see above on how to pick) as fat32 and give it the pmOS_boot label. You should also set the type to EFI system partition. Then copy the old boot partition contents to it and re-format the old boot partition with a label like old_boot to avoid it getting picked up by mistake. 
</p>
<pre>sudo apk add gptfdisk
sudo cgdisk /dev/sda # OnePlus 6 example using op2 partition (/dev/sda7)
# Delete op2 and re-create it, set the partition type to ef00
# then write and quit

# Format the new partition
sudo mkfs.vfat -n pmOS_boot /dev/sda7
</pre>
<p>Now adjust /etc/fstab with the new UUID.
</p>
<pre>~ # blkid | grep ESP
/dev/sda7: SEC_TYPE="msdos" LABEL_FATBOOT="pmOS_boot" LABEL="pmOS_boot" UUID="13A4-6D99" BLOCK_SIZE="4096" TYPE="vfat" PARTLABEL="ESP" PARTUUID="9d2028c9-09b6-451a-b5e7-d3151a3916e2"
</pre>
<p>We care about the UUID <code>UUID="13A4-6D99"</code>, also be sure to check the partition type in /etc/fstab, it should be fat32.
</p>
<p>Now get things ready to switch over the device package
</p>
<pre>mount /dev/sda7 /mnt
cp -r /boot/* /mnt/
rm /mnt/boot.img
rm /mnt/vmlinuz-dtb
umount /boot
mount --move /mnt /boot
</pre>
<p>Install the new device package, it will replace your existing one and pull in all the necessary dependencies
</p>
<pre>apk add device-generic-sdm845
</pre>
<p>You can then fetch U-Boot and flash it using DD, or flash via fastboot as explained above. With that done, reboot into your device (now with UEFI!).
</p>
<p>Validated by Caleb on a OnePlus 6 with FDE.
</p>
<p>The only downside to this approach is the old and defunct boot partition, and having the rootfs be a loop-mounted subpartition.
</p>
<h2><span class="mw-headline" id="See_also">See also</span></h2>
<ul><li>
<a rel="nofollow" class="external text" href="https://gitlab.com/postmarketOS/pmaports/-/merge_requests/4599">pmaports!4599</a> - MR to pmaports adding Generic SDM845 device support</li></ul>
</div>
</div>
					<div id="catlinks" class="catlinks" data-mw="interface"><div id="mw-normal-catlinks" class="mw-normal-catlinks">
<a href="../Special:Categories.html" title="Special:Categories">Categories</a>: <ul>
<li><a href="../en/Category:Devices.html" title="Category:Devices">Devices</a></li>
<li><a href="../en/Category:Generic.html" title="Category:Generic">Generic</a></li>
<li><a href="../en/Category:AArch64.html" title="Category:AArch64">AArch64</a></li>
<li><a href="../en/Category:Qualcomm.html" title="Category:Qualcomm">Qualcomm</a></li>
<li><a href="../en/Category:Android.html" title="Category:Android">Android</a></li>
<li><a href="../en/Category:Todo_Items.html" title="Category:Todo Items">Todo Items</a></li>
</ul>
</div></div>
				</div>
			</main>
			
		</div>
		<div class="mw-footer-container">
			
<footer id="footer" class="mw-footer" role="contentinfo" style="margin: 0">
	<ul id="footer-info">
	<li data-nosnippet="">Retrieved from "<a dir="ltr" href="https://wiki.postmarketos.org/index.php?title=Qualcomm_SDM845_(qualcomm-sdm845)&amp;oldid=54554">https://wiki.postmarketos.org/index.php?title=Qualcomm_SDM845_(qualcomm-sdm845)&amp;oldid=54554</a>"</li>
<li id="footer-info-lastmod"> This page was last edited on 7 January 2024, at 22:57.</li>
	<li id="footer-info-copyright">Content is available under <a class="external" rel="nofollow" href="https://creativecommons.org/licenses/by-sa/4.0/">Creative Commons Attribution-ShareAlike</a> unless otherwise noted.</li>
<br>
</ul>

	<ul id="footer-places">
	<li id="footer-places-privacy"><a href="../en/PostmarketOS:Privacy_policy.html">Privacy policy</a></li>
	<li id="footer-places-about"><a href="../en/About_postmarketOS.html">About postmarketOS</a></li>
	<li id="footer-places-disclaimer"><a href="../en/PostmarketOS:General_disclaimer.html">Disclaimers</a></li>
</ul>

	<ul id="footer-icons" class="noprint">
	<li id="footer-copyrightico"><a href="https://creativecommons.org/licenses/by-sa/4.0/"><img src="../cc-by-sa.png" alt="Creative Commons Attribution-ShareAlike" width="88" height="31" loading="lazy"></a></li>
	<li id="footer-poweredbyico"><a href="https://www.mediawiki.org/"><img src="../poweredby_mediawiki_88x31.png" alt="Powered by MediaWiki" srcset="" width="88" height="31" loading="lazy"></a></li>
</ul>

</footer>

		</div>
	</div> 
</div> 

</body>
</html>
