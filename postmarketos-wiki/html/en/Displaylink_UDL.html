<!DOCTYPE html>
<html class="client-nojs" lang="en" dir="ltr">
<head>
<meta charset="UTF-8">
<title>Displaylink/UDL - postmarketOS Wiki</title>
<link rel="stylesheet" href="../PostmarketOSWikiOffline.css">
<meta name="ResourceLoaderDynamicStyles" content="">
<meta name="generator" content="MediaWiki 1.39.8">
<meta name="format-detection" content="telephone=no">
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes, minimum-scale=0.25, maximum-scale=5.0">
<link rel="icon" href="/favicon.ico">
<link rel="search" type="application/opensearchdescription+xml" href="/opensearch_desc.php" title="postmarketOS Wiki (en)">
<link rel="EditURI" type="application/rsd+xml" href="https://wiki.postmarketos.org/api.php?action=rsd">
<link rel="license" href="https://creativecommons.org/licenses/by-sa/4.0/">
<link rel="alternate" type="application/atom+xml" title="postmarketOS Wiki Atom feed" href="/index.php?title=Special:RecentChanges&amp;feed=atom">
</head>
<body class="skin-vector skin-vector-search-vue mediawiki ltr sitedir-ltr mw-hide-empty-elt ns-0 ns-subject page-Displaylink_UDL rootpage-Displaylink_UDL skin-vector-2022 action-view skin--responsive vector-feature-language-in-header-enabled vector-feature-language-in-main-page-header-disabled vector-feature-language-alert-in-sidebar-disabled vector-feature-sticky-header-disabled vector-feature-sticky-header-edit-disabled vector-feature-table-of-contents-disabled vector-feature-visual-enhancement-next-disabled">
<div class="mw-page-container">
	<span id="top-page"></span>
	<a class="mw-jump-link" href="#content">Jump to content</a>
	<div class="mw-page-container-inner">
		<input type="checkbox" id="mw-sidebar-checkbox" class="mw-checkbox-hack-checkbox">
		<header class="mw-header">
			<div class="mw-header-aside">
			<label id="mw-sidebar-button" class="mw-checkbox-hack-button mw-ui-icon mw-ui-button mw-ui-quiet mw-ui-icon-element" for="mw-sidebar-checkbox" role="button" aria-controls="mw-panel" data-event-name="ui.sidebar" tabindex="0" title="Main menu">
				<span>Toggle sidebar</span>
			</label>
			
<a href="../en/Main_Page.html" class="mw-logo">
	<img class="mw-logo-icon" src="/logo_50x50.svg" alt="" aria-hidden="true" height="50" width="50">
	<span class="mw-logo-container">
		<strong class="mw-logo-wordmark">postmarketOS Wiki</strong>
	</span>
</a>

			</div>
			<div class="mw-header-content">
			
<div id="p-search" role="search" class="vector-search-box-vue  vector-search-box-collapses  vector-search-box-show-thumbnail vector-search-box-auto-expand-width vector-search-box">
	<a href="../Special:Search.html" title="Search postmarketOS Wiki [f]" accesskey="f" class="mw-ui-button mw-ui-quiet mw-ui-icon mw-ui-icon-element mw-ui-icon-wikimedia-search search-toggle">
		<span>Search</span>
	</a>
	
	<div>
		<form action="/index.php" id="searchform" class="vector-search-box-form">
			<div id="simpleSearch" class="vector-search-box-inner" data-search-loc="header-moved">
				<input class="vector-search-box-input" type="search" name="search" placeholder="Search postmarketOS Wiki" aria-label="Search postmarketOS Wiki" autocapitalize="sentences" title="Search postmarketOS Wiki [f]" accesskey="f" id="searchInput">
				<input type="hidden" name="title" value="Special:Search">
				<input id="mw-searchButton" class="searchButton mw-fallbackSearchButton" type="submit" name="fulltext" title="Search the pages for this text" value="Search">
				<input id="searchButton" class="searchButton" type="submit" name="go" title="Go to a page with this exact name if it exists" value="Go">
			</div>
		</form>
	</div>
</div>

			<nav class="vector-user-links" aria-label="Personal tools" role="navigation">
	

<div id="p-vector-user-menu-overflow" class="vector-menu mw-portlet mw-portlet-vector-user-menu-overflow vector-user-menu-overflow">
	<div class="vector-menu-content">
		
		<ul class="vector-menu-content-list"><li id="pt-createaccount-2" class="user-links-collapsible-item mw-list-item"><a href="../Special:RequestAccount.html"><span>Request account</span></a></li></ul>
		
	</div>
</div>

	

<div id="p-personal" class="vector-menu mw-portlet mw-portlet-personal vector-user-menu vector-user-menu-logged-out vector-menu-dropdown" title="More options">
	<input type="checkbox" id="p-personal-checkbox" role="button" aria-haspopup="true" data-event-name="ui.dropdown-p-personal" class="vector-menu-checkbox">
	<label id="p-personal-label" for="p-personal-checkbox" class="vector-menu-heading mw-ui-button mw-ui-quiet mw-ui-icon mw-ui-icon-element mw-ui-icon-ellipsis mw-ui-icon-wikimedia-ellipsis">
		<span class="vector-menu-heading-label">Personal tools</span>
	</label>
	<div class="vector-menu-content">
		<div class="vector-user-menu-create-account"><a href="/index.php?title=Special:CreateAccount&amp;returnto=Displaylink%2FUDL" class="vector-menu-content-item user-links-collapsible-item" title="You are encouraged to create an account and log in; however, it is not mandatory"><span class="mw-ui-icon mw-ui-icon-userAdd mw-ui-icon-wikimedia-userAdd"></span> <span>Create account</span></a></div>
<div class="vector-user-menu-login"><a href="/index.php?title=Special:UserLogin&amp;returnto=Displaylink%2FUDL" class="vector-menu-content-item vector-menu-content-item-login" title="You are encouraged to log in; however, it is not mandatory [o]" accesskey="o"><span class="mw-ui-icon mw-ui-icon-logIn mw-ui-icon-wikimedia-logIn"></span> <span>Log in</span></a></div>

		<ul class="vector-menu-content-list"></ul>
		
	</div>
</div>

</nav>

			</div>
		</header>
		<div class="vector-sidebar-container ">
			</div>
		<div class="vector-sitenotice-container">
			<div id="siteNotice"></div>
		</div>
		<input type="checkbox" id="vector-toc-collapsed-checkbox" class="mw-checkbox-hack-checkbox">
		<div class="mw-table-of-contents-container">
			<div class="vector-sticky-toc-container mw-sticky-header-element">
				<nav id="mw-panel-toc" class="sidebar-toc" role="navigation" aria-labelledby="sidebar-toc-label" data-event-name="ui.sidebar-toc">
	<div id="sidebar-toc-label" class="sidebar-toc-header">
		<p class="sidebar-toc-title">
		Contents
		<button class="vector-toc-uncollapse-button">move to sidebar</button>
		<button class="vector-toc-collapse-button">hide</button>
		</p>
	</div>
	<ul class="sidebar-toc-contents" id="mw-panel-toc-list">
		<li id="toc-mw-content-text" class="sidebar-toc-list-item sidebar-toc-level-1">
			<a href="#top-page" class="sidebar-toc-link">
				<div class="sidebar-toc-text">Beginning</div>
			</a>
		</li>
		<li id="toc-Theory_about_the_vendor_firmware_descriptor_issue" class="sidebar-toc-list-item sidebar-toc-level-1 sidebar-toc-list-item-expanded">
			<a class="sidebar-toc-link" href="#Theory_about_the_vendor_firmware_descriptor_issue">
				<div class="sidebar-toc-text">
				<span class="sidebar-toc-numb">1</span>Theory about the vendor firmware descriptor issue</div>
			</a>
			
			<ul id="toc-Theory_about_the_vendor_firmware_descriptor_issue-sublist" class="sidebar-toc-list">
			</ul>
		</li>
		<li id="toc-UI" class="sidebar-toc-list-item sidebar-toc-level-1 sidebar-toc-list-item-expanded">
			<a class="sidebar-toc-link" href="#UI">
				<div class="sidebar-toc-text">
				<span class="sidebar-toc-numb">2</span>UI</div>
			</a>
			
				<button aria-controls="toc-UI-sublist" class="mw-ui-icon mw-ui-icon-wikimedia-expand mw-ui-icon-small sidebar-toc-toggle">
					Toggle UI subsection
				</button>
			
			<ul id="toc-UI-sublist" class="sidebar-toc-list">
				<li id="toc-UDL" class="sidebar-toc-list-item sidebar-toc-level-2">
			<a class="sidebar-toc-link" href="#UDL">
				<div class="sidebar-toc-text">
				<span class="sidebar-toc-numb">2.1</span>UDL</div>
			</a>
			
			<ul id="toc-UDL-sublist" class="sidebar-toc-list">
				<li id="toc-Sway/Phosh" class="sidebar-toc-list-item sidebar-toc-level-3">
			<a class="sidebar-toc-link" href="#Sway/Phosh">
				<div class="sidebar-toc-text">
				<span class="sidebar-toc-numb">2.1.1</span>Sway/Phosh</div>
			</a>
			
			<ul id="toc-Sway/Phosh-sublist" class="sidebar-toc-list">
			</ul>
		</li>
		<li id="toc-Gnome" class="sidebar-toc-list-item sidebar-toc-level-3">
			<a class="sidebar-toc-link" href="#Gnome">
				<div class="sidebar-toc-text">
				<span class="sidebar-toc-numb">2.1.2</span>Gnome</div>
			</a>
			
			<ul id="toc-Gnome-sublist" class="sidebar-toc-list">
			</ul>
		</li>
		<li id="toc-Plasma" class="sidebar-toc-list-item sidebar-toc-level-3">
			<a class="sidebar-toc-link" href="#Plasma">
				<div class="sidebar-toc-text">
				<span class="sidebar-toc-numb">2.1.3</span>Plasma</div>
			</a>
			
			<ul id="toc-Plasma-sublist" class="sidebar-toc-list">
			</ul>
		</li>
		<li id="toc-Xorg" class="sidebar-toc-list-item sidebar-toc-level-3">
			<a class="sidebar-toc-link" href="#Xorg">
				<div class="sidebar-toc-text">
				<span class="sidebar-toc-numb">2.1.4</span>Xorg</div>
			</a>
			
			<ul id="toc-Xorg-sublist" class="sidebar-toc-list">
			</ul>
		</li>
	</ul>
		</li>
	</ul>
		</li>
		<li id="toc-See_Also" class="sidebar-toc-list-item sidebar-toc-level-1 sidebar-toc-list-item-expanded">
			<a class="sidebar-toc-link" href="#See_Also">
				<div class="sidebar-toc-text">
				<span class="sidebar-toc-numb">3</span>See Also</div>
			</a>
			
			<ul id="toc-See_Also-sublist" class="sidebar-toc-list">
			</ul>
		</li>
	</ul>
</nav>

			</div>
		</div>
		<div class="mw-content-container">
			<main id="content" class="mw-body" role="main" style="margin: 0">
				<a id="top"></a>
				<header class="mw-body-header">
				
				
					<label id="vector-toc-collapsed-button" class="mw-ui-button mw-ui-quiet mw-ui-icon mw-ui-icon-element mw-ui-icon-wikimedia-listBullet mw-checkbox-hack-button" for="vector-toc-collapsed-checkbox" role="button" aria-controls="toc-toggle-list" data-event-name="vector.toc-toggle-list" tabindex="0" title="Table of Contents">
						Toggle the table of contents
					</label>
				    <h1 id="firstHeading" class="firstHeading mw-first-heading"><span class="mw-page-title-main">Displaylink/UDL</span></h1>
				</header>
				<nav class="vector-article-toolbar" aria-label="Tools" role="navigation">
					<div class="mw-article-toolbar-container">
						<div id="left-navigation">
							

<div id="p-associated-pages" class="vector-menu mw-portlet mw-portlet-associated-pages vector-menu-tabs">
	<div class="vector-menu-content">
		
		<ul class="vector-menu-content-list">
<li id="ca-nstab-main" class="selected mw-list-item"><a href="../en/Displaylink_UDL.html" title="View the content page [c]" accesskey="c"><span>Page</span></a></li>
<li id="ca-talk" class="new mw-list-item"><a href="/index.php?title=Talk:Displaylink/UDL&amp;action=edit&amp;redlink=1" rel="discussion" title="Discussion about the content page (page does not exist) [t]" accesskey="t"><span>Discussion</span></a></li>
</ul>
		
	</div>
</div>

							

<div id="p-variants" class="vector-menu mw-portlet mw-portlet-variants emptyPortlet vector-menu-dropdown">
	<input type="checkbox" id="p-variants-checkbox" role="button" aria-haspopup="true" data-event-name="ui.dropdown-p-variants" class="vector-menu-checkbox" aria-label="Change language variant">
	<label id="p-variants-label" for="p-variants-checkbox" class="vector-menu-heading ">
		<span class="vector-menu-heading-label">English</span>
	</label>
	<div class="vector-menu-content">
		
		<ul class="vector-menu-content-list"></ul>
		
	</div>
</div>

						</div>
						<div id="right-navigation" class="vector-collapsible ">
							

<div id="p-views" class="vector-menu mw-portlet mw-portlet-views vector-menu-tabs">
	<div class="vector-menu-content">
		
		<ul class="vector-menu-content-list">
<li id="ca-view" class="selected mw-list-item"><a href="../en/Displaylink_UDL.html"><span>Read</span></a></li>
<li id="ca-viewsource" class="mw-list-item"><a href="/index.php?title=Displaylink/UDL&amp;action=edit" title="This page is protected.
You can view its source [e]" accesskey="e"><span>View source</span></a></li>
<li id="ca-history" class="mw-list-item"><a href="/index.php?title=Displaylink/UDL&amp;action=history" title="Past revisions of this page [h]" accesskey="h"><span>View history</span></a></li>
</ul>
		
	</div>
</div>

							

<div id="p-cactions" class="vector-menu mw-portlet mw-portlet-cactions emptyPortlet vector-menu-dropdown vector-has-collapsible-items" title="More options">
	<input type="checkbox" id="p-cactions-checkbox" role="button" aria-haspopup="true" data-event-name="ui.dropdown-p-cactions" class="vector-menu-checkbox">
	<label id="p-cactions-label" for="p-cactions-checkbox" class="vector-menu-heading ">
		<span class="vector-menu-heading-label">More</span>
	</label>
	<div class="vector-menu-content">
		
		<ul class="vector-menu-content-list">
<li id="ca-more-view" class="selected vector-more-collapsible-item mw-list-item"><a href="../en/Displaylink_UDL.html"><span>Read</span></a></li>
<li id="ca-more-viewsource" class="vector-more-collapsible-item mw-list-item"><a href="/index.php?title=Displaylink/UDL&amp;action=edit"><span>View source</span></a></li>
<li id="ca-more-history" class="vector-more-collapsible-item mw-list-item"><a href="/index.php?title=Displaylink/UDL&amp;action=history"><span>View history</span></a></li>
</ul>
		
	</div>
</div>

						</div>
					</div>
				</nav>
				<div id="bodyContent" class="vector-body" data-mw-ve-target-container>
					<div class="mw-body-subheader">
					        <div class="mw-indicators">
        </div>

					    <div id="siteSub" class="noprint">From postmarketOS Wiki</div>
					</div>
					
					
					
					<div id="mw-content-text" class="mw-body-content mw-content-ltr" lang="en" dir="ltr">
<div class="mw-parser-output">
<table role="text container" style="color: inherit; background-color: #fee7e6; border: 1px solid #d33; margin: 4px 0; border-collapse: collapse;"><tbody><tr>
<td style="padding: 2px 0 2px 0.9em; text-align: center; line-height: 1;"><span style="white-space: nowrap;"><img alt="Icon" src="../Red_warning_icon.svg" decoding="async" title="Icon" width="20" height="20"></span></td>
<td style="padding: 0.35em 0.9em; width: 100%;">
<b>WARNING:</b> udlfb is fbdev version of this driver and it is a driver for a outdated linux graphical stack(fbdev).It should be disabled on mainline kernel but there are some mainline has udlfb enabled.you can disabled it by setting FB_UDL to off. See <a rel="nofollow" class="external text" href="https://gitlab.alpinelinux.org/alpine/aports/-/issues/16414">aports#16414</a>
</td>
</tr></tbody></table>
<table role="text container" style="color: inherit; background-color: #f6efe5; border: 1px solid #ac6600; margin: 4px 0; border-collapse: collapse;"><tbody><tr>
<td style="padding: 2px 0 2px 0.9em; text-align: center; line-height: 1;"><span style="white-space: nowrap;"><img alt="Note" src="../Reference_icon.svg" decoding="async" title="Note" width="20" height="20"></span></td>
<td style="padding: 0.35em 0.9em; width: 100%;">Unlike the displaylink windows driver,udl dont support 32bit color.It only support 24/16bit color</td>
</tr></tbody></table>
<p>udl is kernel module for USB 2.0 DisplayLink devices.It is in the mainline.Not all postmarket OS's kernel dont have udl kernel module so you need to enable it in the kernel config (DRM_UDL) and recompile the kernel on those kernel that dont have it. .Also it  is quite finicky. Only Some usb 2 displaylink work with it, some dont.(Only HP NL571AA,Lenovo LT1421 wide is tested to work.)
If your USB 2.0 DisplayLink devices with udl isnt work with udl (For example : EVGA UV PLUS+16), your will get this error from dmesg.
</p>
<div class="mw-highlight mw-highlight-lang-text mw-content-ltr" dir="ltr"><pre><span></span>[  228.747008] [drm] vendor descriptor length:e0 data:00 00 00 00 00 00 00 00 00 00 00
[  228.747032] [drm:udl_init [udl]] *ERROR* Unrecognized vendor firmware descriptor
[  228.749618] [drm] Initialized udl 0.0.1 20120220 for 1-1.3:1.0 on minor 1
[  228.749637] [drm] Initialized udl on minor 1
[  228.885058] udl 1-1.3:1.0: [drm] fb1: udldrmfb frame buffer device
[  228.885358] usbcore: registered new interface driver udl
</pre></div>
<tocplace></tocplace>
<h5><span class="mw-headline" id="Theory_about_the_vendor_firmware_descriptor_issue">Theory about the vendor firmware descriptor issue</span></h5>
<table role="text container" style="color: inherit; background-color: #fee7e6; border: 1px solid #d33; margin: 4px 0; border-collapse: collapse;"><tbody><tr>
<td style="padding: 2px 0 2px 0.9em; text-align: center; line-height: 1;"><span style="white-space: nowrap;"><img alt="Icon" src="../Red_warning_icon.svg" decoding="async" title="Icon" width="20" height="20"></span></td>
<td style="padding: 0.35em 0.9em; width: 100%;">
<b>WARNING:</b> The displaylink may over heat If It is run over spec.</td>
</tr></tbody></table>
<p><a href="../User:Exkc.html" title="User:Exkc">User:exkc</a> has digged into the driver for investigating the issue and here is the theory:  UDL will check the usb descriptor 0x5f to check certain criteria of the descriptor when a usb2 displaylink is pluged in. If it failed to check the criteria, It will error out with a message of "Unrecognized vendor firmware descriptor".After doing checking, UDL will read the spec from the descriptor and set the cap on how many pixel the displaylink can output acc to the spec if the displaylink's spec has setted a cap by the vendor and udl has successfully read the spec.if not, udl wont set the cap on the displaylink thus some displaylink  might able to run overspec.
</p>
<p>For reason some usb2 displaylink(All early usb2 displaylink are behaved like that it seem?) 's vendor descriptor 0x5f is filled with  0 thus caused the check failed and udl failed to read the spec. It is possible to force udl to work on those device by removing check in the udl driver via <a rel="nofollow" class="external text" href="https://codeberg.org/exxxxkc/kernal-patch/raw/branch/main/drm/udl/Remove_descriptor_check_hack.patch">this patch</a>. 
</p>
<p>In exkc case, they managed to get EVGA UV PLUS+16 to work by removing the check.However due to the overspec issue it now can output 1920x1080 but with a bit of overheat.The hottest spot is 50c
</p>
<h2><span class="mw-headline" id="UI">UI</span></h2>
<h3><span class="mw-headline" id="UDL">UDL</span></h3>
<h4>
<span id="Sway.2FPhosh"></span><span class="mw-headline" id="Sway/Phosh">Sway/Phosh</span>
</h4>
<ul>
<li>Cant dual display with internal display of the device</li>
<li>Hot plug isnt work</li>
<li>If  the displaylink is plugged before running sway, sway will only display on the external display. It also will be quite laggy (especially in 3d acceleration).</li>
<li>If  the displaylink is plugged after running sway, sway will only display on the  internal display.</li>
</ul>
<h4><span class="mw-headline" id="Gnome">Gnome</span></h4>
<p>44.3 (Wayland) :
</p>
<p>Work well (except for small graphics glitch)
</p>
<p>45.0 (Wayland) :
</p>
<p>Ghosting
</p>
<p>Setting system variable  CLUTTER_PAINT to disable-clipped-redraws:disable-culling resort this problem
</p>
<p>In some case gnome 45 always crashed with udl.(some investigation is needed)
</p>
<p>46.0 (Wayland) :
</p>
<table role="text container" style="color: inherit; background-color: #f6efe5; border: 1px solid #ac6600; margin: 4px 0; border-collapse: collapse;"><tbody><tr>
<td style="padding: 2px 0 2px 0.9em; text-align: center; line-height: 1;"><span style="white-space: nowrap;"><img alt="Note" src="../Reference_icon.svg" decoding="async" title="Note" width="20" height="20"></span></td>
<td style="padding: 0.35em 0.9em; width: 100%;">gnome has a ton of graphical glitch on certain device (those graphical glitch will appear on those display that connected via displaylink)</td>
</tr></tbody></table>
<ul>
<li>Cant dual display with internal display of the device</li>
<li>Hot plug work</li>
<li>Can dual display with multiple displaylink</li>
</ul>
<h4><span class="mw-headline" id="Plasma">Plasma</span></h4>
<p>6.1.4(wayland):
</p>
<p>Work well (except for 1. A bit laggy 2. cant triple monitor with internal display, 2xdisplaylink 3.hot plug work but u might need wait abit for the shell to restart if it has crashed )
</p>
<h4><span class="mw-headline" id="Xorg">Xorg</span></h4>
<ul>
<li>Cant dual display with internal display of the device ( it seem to able to do that on other distro)</li>
<li>Crashed on device that has build in gpu. (Only work on device that dont have any kind of gpu)</li>
<li>Cant dual display with multiple displaylink</li>
</ul>
<h2><span class="mw-headline" id="See_Also">See Also</span></h2>
<ul><li><a rel="nofollow" class="external text" href="https://www.youtube.com/watch?v=1gXsbBf8S_Y">UDL test on oneplus 6t with postmarket os</a></li></ul>
</div>
</div>
					<div id="catlinks" class="catlinks catlinks-allhidden" data-mw="interface"></div>
				</div>
			</main>
			
		</div>
		<div class="mw-footer-container">
			
<footer id="footer" class="mw-footer" role="contentinfo" style="margin: 0">
	<ul id="footer-info">
	<li data-nosnippet="">Retrieved from "<a dir="ltr" href="https://wiki.postmarketos.org/index.php?title=Displaylink/UDL&amp;oldid=64076">https://wiki.postmarketos.org/index.php?title=Displaylink/UDL&amp;oldid=64076</a>"</li>
<li id="footer-info-lastmod"> This page was last edited on 28 September 2024, at 01:29.</li>
	<li id="footer-info-copyright">Content is available under <a class="external" rel="nofollow" href="https://creativecommons.org/licenses/by-sa/4.0/">Creative Commons Attribution-ShareAlike</a> unless otherwise noted.</li>
<br>
</ul>

	<ul id="footer-places">
	<li id="footer-places-privacy"><a href="../en/PostmarketOS:Privacy_policy.html">Privacy policy</a></li>
	<li id="footer-places-about"><a href="../en/About_postmarketOS.html">About postmarketOS Wiki</a></li>
	<li id="footer-places-disclaimer"><a href="../en/PostmarketOS:General_disclaimer.html">Disclaimers</a></li>
</ul>

	<ul id="footer-icons" class="noprint">
	<li id="footer-copyrightico"><a href="https://creativecommons.org/licenses/by-sa/4.0/"><img src="../cc-by-sa.png" alt="Creative Commons Attribution-ShareAlike" width="88" height="31" loading="lazy"></a></li>
	<li id="footer-poweredbyico"><a href="https://www.mediawiki.org/"><img src="../poweredby_mediawiki_88x31.png" alt="Powered by MediaWiki" srcset="" width="88" height="31" loading="lazy"></a></li>
</ul>

</footer>

		</div>
	</div> 
</div> 

</body>
</html>
