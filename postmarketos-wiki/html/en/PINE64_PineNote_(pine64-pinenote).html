<!DOCTYPE html>
<html class="client-nojs" lang="en" dir="ltr">
<head>
<meta charset="UTF-8">
<title>PINE64 PineNote (pine64-pinenote) - postmarketOS</title>
<link rel="stylesheet" href="../PostmarketOSWikiOffline.css">
<meta name="ResourceLoaderDynamicStyles" content="">
<meta name="generator" content="MediaWiki 1.34.2">
<link rel="shortcut icon" href="/favicon.ico">
<link rel="search" type="application/opensearchdescription+xml" href="/opensearch_desc.php" title="postmarketOS (en)">
<link rel="EditURI" type="application/rsd+xml" href="https://wiki.postmarketos.org/api.php?action=rsd">
<link rel="license" href="https://creativecommons.org/licenses/by-sa/4.0/">
<link rel="alternate" type="application/atom+xml" title="postmarketOS Atom feed" href="/index.php?title=Special:RecentChanges&amp;feed=atom">
</head>
<body class="mediawiki ltr sitedir-ltr mw-hide-empty-elt ns-0 ns-subject page-PINE64_PineNote_pine64-pinenote rootpage-PINE64_PineNote_pine64-pinenote skin-vector action-view">
<div id="content" class="mw-body" role="main" style="margin: 0">
	<a id="top"></a>
	
	<div class="mw-indicators mw-body-content">
</div>

	<h1 id="firstHeading" class="firstHeading" lang="en">PINE64 PineNote (pine64-pinenote)</h1>
	
	<div id="bodyContent" class="mw-body-content">
		<div id="siteSub" class="noprint">From postmarketOS</div>
		<div id="contentSub"></div>
		
		
		
		<div id="jump-to-nav"></div>
		<a class="mw-jump-link" href="#mw-head">Jump to navigation</a>
		<a class="mw-jump-link" href="#p-search">Jump to search</a>
		<div id="mw-content-text" lang="en" dir="ltr" class="mw-content-ltr"><div class="mw-parser-output">
<table class="infobox" cellspacing="3" style="border-spacing: 3px; width:22em;">
<caption class="" style="">PINE64 PineNote</caption>
<tbody>
<tr class=""><td colspan="2" class="" style="text-align:center;">
<a href="../Pine64-pinenote.jpg" class="image"><img alt="The PineNote showing a pdf" src="../Pine64-pinenote.jpg" decoding="async" width="200" height="133" srcset="../300px-Pine64-pinenote.jpg 1.5x ../400px-Pine64-pinenote.jpg 2x"></a><br><span style="">The PineNote showing a pdf</span>
</td></tr>
<tr class="">
<th scope="row" style="text-align:left;">Manufacturer</th>
    <td class="" style="">
PINE64</td>
</tr>
<tr class="">
<th scope="row" style="text-align:left;">Name</th>
    <td class="" style="">
PineNote</td>
</tr>
<tr class="">
<th scope="row" style="text-align:left;">Codename</th>
    <td class="" style="">
pine64-pinenote</td>
</tr>
<tr class="">
<th scope="row" style="text-align:left;">Released</th>
    <td class="" style="">
2021</td>
</tr>
<tr class="">
<th scope="row" style="text-align:left;">Category</th>
    <td class="" style="">
testing</td>
</tr>
<tr class="">
<th scope="row" style="text-align:left;">Original software</th>
    <td class="" style="">
Unknown</td>
</tr>
<tr><th colspan="2" class="" style="text-align:center;">Hardware</th></tr>
<tr class="">
<th scope="row" style="text-align:left;">Chipset</th>
    <td class="" style="">
<a href="/index.php?title=Rockchip_RK3566&amp;action=edit&amp;redlink=1" class="new" title="Rockchip RK3566 (page does not exist)">Rockchip RK3566</a>
</td>
</tr>
<tr class="">
<th scope="row" style="text-align:left;">CPU</th>
    <td class="" style="">
4x 2Ghz Cortex-A55</td>
</tr>
<tr class="">
<th scope="row" style="text-align:left;">GPU</th>
    <td class="" style="">
Mali G52 2EE</td>
</tr>
<tr class="">
<th scope="row" style="text-align:left;">Display</th>
    <td class="" style="">
1404x1872 e-paper</td>
</tr>
<tr class="">
<th scope="row" style="text-align:left;">Storage</th>
    <td class="" style="">
128 GB</td>
</tr>
<tr class="">
<th scope="row" style="text-align:left;">Memory</th>
    <td class="" style="">
4GB</td>
</tr>
<tr class="">
<th scope="row" style="text-align:left;">Architecture</th>
    <td class="" style="">
aarch64</td>
</tr>
<tr><td colspan="2" style="text-align:right"></td></tr>
</tbody>
</table>
<p><br>
</p>
<p><br>
</p>
<table class="infobox" cellspacing="3" style="border-spacing: 3px; width:22em;">
<caption class="" style="">Features</caption>
<tbody>
<tr class="">
<th scope="row" style="text-align:left;"><abbr title="After connecting the device with USB to your PC, you can connect to it via telnet (initramfs) or SSH (booted system).">USB Networking</abbr></th>
    <td class="" style="">
<div class="feature feature-no">Broken</div>
</td>
</tr>
<tr class="">
<th scope="row" style="text-align:left;"><abbr title="It is possible to flash the device with `pmbootstrap flasher`.">Flashing</abbr></th>
    <td class="" style="">
<div class="feature feature-yes">Works</div>
</td>
</tr>
<tr class="">
<th scope="row" style="text-align:left;">Touchscreen</th>
    <td class="" style="">
<div class="feature feature-yes">Works</div>
</td>
</tr>
<tr class="">
<th scope="row" style="text-align:left;"><abbr title="Display works. Ideally with sleep mode and brightness control.">Display</abbr></th>
    <td class="" style="">
<div class="feature feature-partial">Partial</div>
</td>
</tr>
<tr class="">
<th scope="row" style="text-align:left;">WiFi</th>
    <td class="" style="">
<div class="feature feature-yes">Works</div>
</td>
</tr>
<tr class="">
<th scope="row" style="text-align:left;"><abbr title="Full disk encryption and unlocking with osk-sdl.">FDE</abbr></th>
    <td class="" style="">
<div></div>
</td>
</tr>
<tr class="">
<th scope="row" style="text-align:left;"><abbr title="Instead of a Linux kernel fork, it is possible to run mainline.">Mainline</abbr></th>
    <td class="" style="">
<div class="feature feature-yes">Works</div>
</td>
</tr>
<tr class="">
<th scope="row" style="text-align:left;"><abbr title="Charging and battery level reporting works">Battery</abbr></th>
    <td class="" style="">
<div class="feature feature-yes">Works</div>
</td>
</tr>
<tr class="">
<th scope="row" style="text-align:left;">3D Acceleration</th>
    <td class="" style="">
<div class="feature feature-no">Broken</div>
</td>
</tr>
<tr class="">
<th scope="row" style="text-align:left;"><abbr title="Audio playback, microphone, headset and buttons.">Audio</abbr></th>
    <td class="" style="">
<div class="feature feature-yes">Works</div>
</td>
</tr>
<tr class="">
<th scope="row" style="text-align:left;">Bluetooth</th>
    <td class="" style="">
<div class="feature feature-yes">Works</div>
</td>
</tr>
<tr class="">
<th scope="row" style="text-align:left;">Camera</th>
    <td class="" style="">
<div class="feature feature-unavailable">Unavailable</div>
</td>
</tr>
<tr class="">
<th scope="row" style="text-align:left;">GPS</th>
    <td class="" style="">
<div class="feature feature-unavailable">Unavailable</div>
</td>
</tr>
<tr class="">
<th scope="row" style="text-align:left;">Mobile data</th>
    <td class="" style="">
<div class="feature feature-unavailable">Unavailable</div>
</td>
</tr>
<tr class="">
<th scope="row" style="text-align:left;">SMS</th>
    <td class="" style="">
<div class="feature feature-unavailable">Unavailable</div>
</td>
</tr>
<tr class="">
<th scope="row" style="text-align:left;">Calls</th>
    <td class="" style="">
<div class="feature feature-unavailable">Unavailable</div>
</td>
</tr>
<tr class="">
<th scope="row" style="text-align:left;">USB OTG</th>
    <td class="" style="">
<div class="feature feature-no">Broken</div>
</td>
</tr>
<tr class="">
<th scope="row" style="text-align:left;">NFC</th>
    <td class="" style="">
<div class="feature feature-unavailable">Unavailable</div>
</td>
</tr>
<tr><td colspan="2" style="text-align:right"></td></tr>
</tbody>
</table>
<table class="infobox" cellspacing="3" style="border-spacing: 3px; width:22em;">
<caption class="" style="">Sensors</caption>
<tbody>
<tr class="">
<th scope="row" style="text-align:left;"><abbr title="Auto screen rotation works in desktops e.g. Phosh or Plasma Mobile">Accelerometer</abbr></th>
    <td class="" style="">
<div class="feature feature-no">Broken</div>
</td>
</tr>
<tr class="">
<th scope="row" style="text-align:left;">Magnetometer</th>
    <td class="" style="">
<div></div>
</td>
</tr>
<tr class="">
<th scope="row" style="text-align:left;">Ambient Light</th>
    <td class="" style="">
<div></div>
</td>
</tr>
<tr class="">
<th scope="row" style="text-align:left;">Proximity</th>
    <td class="" style="">
<div></div>
</td>
</tr>
<tr class="">
<th scope="row" style="text-align:left;"><abbr title="Also known as flip cover sensor">Hall Effect</abbr></th>
    <td class="" style="">
<div></div>
</td>
</tr>
<tr class="">
<th scope="row" style="text-align:left;">Barometer</th>
    <td class="" style="">
<div></div>
</td>
</tr>
<tr class="">
<th scope="row" style="text-align:left;">Power Sensor</th>
    <td class="" style="">
<div></div>
</td>
</tr>
<tr><td colspan="2" style="text-align:right"></td></tr>
</tbody>
</table>
<table class="infobox" cellspacing="3" style="border-spacing: 3px; width:22em;">
<caption class="" style="">Misc</caption>
<tbody>
<tr class="">
<th scope="row" style="text-align:left;">Camera Flash</th>
    <td class="" style="">
<div></div>
</td>
</tr>
<tr class="">
<th scope="row" style="text-align:left;">Keyboard</th>
    <td class="" style="">
<div></div>
</td>
</tr>
<tr class="">
<th scope="row" style="text-align:left;">Touchpad</th>
    <td class="" style="">
<div></div>
</td>
</tr>
<tr class="">
<th scope="row" style="text-align:left;"><abbr title="Full-sized USB-A port works (Usually applicable to SBCs and laptops).">USB-A</abbr></th>
    <td class="" style="">
<div></div>
</td>
</tr>
<tr class="">
<th scope="row" style="text-align:left;"><abbr title="Video and audio output with HDMI or Display Port works.">HDMI/DP</abbr></th>
    <td class="" style="">
<div></div>
</td>
</tr>
<tr class="">
<th scope="row" style="text-align:left;">Ir TX</th>
    <td class="" style="">
<div></div>
</td>
</tr>
<tr class="">
<th scope="row" style="text-align:left;">Ir RX</th>
    <td class="" style="">
<div></div>
</td>
</tr>
<tr class="">
<th scope="row" style="text-align:left;">Stylus</th>
    <td class="" style="">
<div></div>
</td>
</tr>
<tr class="">
<th scope="row" style="text-align:left;">Haptics</th>
    <td class="" style="">
<div></div>
</td>
</tr>
<tr class="">
<th scope="row" style="text-align:left;">Ethernet</th>
    <td class="" style="">
<div></div>
</td>
</tr>
<tr class="">
<th scope="row" style="text-align:left;">FOSS bootloader</th>
    <td class="" style="">
<div></div>
</td>
</tr>
<tr><td colspan="2" style="text-align:right"></td></tr>
</tbody>
</table>
<p><br>
</p>
<p><br>
</p>
<p><br>
The PineNote is a 10.3" e-ink tablet produced by Pine64 for the Linux mobile community.
</p>
<h2><span class="mw-headline" id="Installation">Installation</span></h2>
<table role="text container" style="color: inherit; background-color: #f6efe5; border: 1px solid #ac6600; margin: 4px 0; border-collapse: collapse;"><tbody><tr>
<td style="padding: 2px 0 2px 0.9em; text-align: center;"><span style="white-space: nowrap;"><img alt="Note" src="../Reference_icon.svg" decoding="async" title="Note" width="20" height="20" srcset="../Reference_icon.svg 1.5x ../Reference_icon.svg 2x"></span></td>
<td style="padding: 0.35em 0.9em; width: 100%;">This will erase your userdata and make android unbootable, take backups of all affected partitions via ADB (rkdeveloptool read-partition only allows reading partitions &lt; 32mb)</td>
</tr></tbody></table>
<p>Currently, installing postmarketOS requires UART access to manually boot the mainline kernel. If you have a developer unit, removing the back cover will reveal the pre-soldered UART wires, if you have a production unit you will have to solder these yourself. This will be resolved as soon as we have a u-boot build which can auto-boot from extlinux.
</p>
<p>Install rkdeveloptool from <a rel="nofollow" class="external free" href="https://gitlab.com/pine64-org/quartz-bsp/rkdeveloptool">https://gitlab.com/pine64-org/quartz-bsp/rkdeveloptool</a>, put the end of the pen near the top right of the back of the device to trigger rockusb mode.
</p>
<p>We need to wipe the boot and recovery partitions to make sure u-boot doesn't try and boot Android
</p>
<pre>fallocate -l 32M blank.bin
rkdeveloptool write-partition boot blank.bin
rkdeveloptool write-partition recovery blank.bin
</pre>
<p>Now build an image with pmbootstrap, I would recommend Phosh or sway.
</p>
<pre>pmbootstrap init # pine64 pinenote
pmbootstrap install
</pre>
<p>And flash (pmbootstrap supports rkdeveloptool as of <a rel="nofollow" class="external text" href="https://gitlab.com/postmarketOS/pmbootstrap/-/merge_requests/2165">pmbootstrap!2165</a>).
</p>
<pre>pmbootstrap flasher flash_rootfs # flashes to userdata
pmbootstrap flasher flash_kernel # flashes to cache
</pre>
<p>Run pmbootstrap shutdown to exit out of pmbootstrap. If your PineNote shipped with a UART dongle, use it to connect the PineNote with your PC. Note that the LED needs to be oriented so that it points to the PineNote's screen. At this stage you no longer need to be in rockusb mode, so you don't need to worry about pen/magnet placement. Ensure that your PineNote is charged before beginning the next step.
</p>
<pre>$ picocom /dev/ttyUSB0 -b 1500000 -l
</pre>
<p>Reboot the PineNote by holding down the power button. You should see a long stream of text appear in picocom indicating that you are in the u-boot shell. 
This next command will boot the PineNote into postmarketOS.  
</p>
<pre>=&gt; sysboot ${devtype} ${devnum}:b any ${scriptaddr} extlinux.conf
</pre>
<p>b is the partition number (decimal 11 encoded in hex) for the cache partition, where we flashed the extlinux boot partition to.
</p>
<p>If the file location of extlinux.conf gives you trouble, as indicated by a 'file not found' error, run the following to ascertain where extlinux.conf is on your system (for example, in /extlinux/extlinux.conf). Then run the sysboot command again using the full path of extlinux.conf
</p>
<pre>=&gt;ls ${devtype} ${devnum}:b #To examine a specific directory, such as /extlinux, place it at the end of this command
</pre>
<p>You should now see the postmarketOS splash and the pinenote will boot.
</p>
<h2><span class="mw-headline" id="Contributors">Contributors</span></h2>
<ul>
<li>MartijnBraam</li>
<li>Petr Hodina</li>
<li>Caleb Connolly</li>
</ul>
<h2><span class="mw-headline" id="Users_owning_this_device">Users owning this device</span></h2>
<div style="-webkit-column-count: 2; -moz-column-count: 2; column-count: 2;"><ul style="margin-top: 0;">
<li><a href="../User:Aa13q.html" title="User:Aa13q">Aa13q</a></li>
<li>
<a href="../User:Kalube.html" title="User:Kalube">Kalube</a> (<span class="cargoFieldName">Notes:</span> Working on E-ink support for Mainline)</li>
<li><a href="../User:MartijnBraam.html" title="User:MartijnBraam">MartijnBraam</a></li>
</ul></div>
<p><br>
</p>
<h2><span class="mw-headline" id="How_to_enter_flash_mode">How to enter flash mode</span></h2>
<p>The device is only flashable using the rkusb bootloader mode. This can be done with the opensource rkdeveloptool utility.
</p>
<p>To trigger the bootloader hold a magnet on the backcover of the pinenote while powering it on.
</p>
<p>When it's booted correctly into bootloader mode it should show up in the device list of rkdeveloptool:
</p>
<div class="mw-highlight mw-content-ltr" dir="ltr"><pre><span></span><span class="gp">$</span> rkdeveloptool ld
<span class="go">DevNo=1 Vid=0x2207,Pid=0x350a,LocationID=100    Loader</span>
</pre></div>
<p>It's possible to overwrite the eMMC with the LBA write command:
</p>
<div class="mw-highlight mw-content-ltr" dir="ltr"><pre><span></span><span class="gp">$</span> rkdeveloptool wl <span class="m">0</span> rootfs.img
<span class="go">The 0 is the offset in blocks from the start of the eMMC, can be used to flash a partition if you know the offset</span>
</pre></div>
<h2><span class="mw-headline" id="Recover_from_a_broken_bootloader">Recover from a broken bootloader</span></h2>
<p>If uboot image is overwritten the rockusb mode won't work anymore. The device might boot into maskrom mode in which case it should show up in `rkdeveloptool list` as maskrom. 
If the uboot image is partially overwritten but still recognized by the maskrom it won't stay in maskrom mode and you'd have to open the back of the device and short TP1301 and TP1302 while powering up. This will make eMMC reads fail so maskrom always runs.
</p>
<p>Once the device is in maskrom mode the only thing you can do is push a new loader into ram and start that.
</p>
<div class="mw-highlight mw-content-ltr" dir="ltr"><pre><span></span><span class="gp">$</span> rkdeveloptool list
<span class="go">here it lists maskrom now</span>

<span class="go">The .bin file is build by u-boot and might have a slightly different version</span>
<span class="gp">$</span> rkdeveloptool db rk356x_spl_loader_v1.04.108.bin
<span class="gp">$</span> rkdeveloptool ptt
<span class="go">now it's able to read flash and list the partitions</span>
</pre></div>
<h2><span class="mw-headline" id="See_also">See also</span></h2>
<ul>
<li><a rel="nofollow" class="external text" href="https://wiki.pine64.org/wiki/PineNote">PINE64 wiki page</a></li>
<li>
<a rel="nofollow" class="external text" href="https://gitlab.com/pine64-org/quartz-bsp/rkdeveloptool">fork of rkdeveloptool with many improvements</a> this will be the version supported on the pinenote.</li>
<li>
<a rel="nofollow" class="external text" href="https://gitlab.com/postmarketOS/pmbootstrap/-/merge_requests/2165">pmbootstrap!2165</a> - support for rkdeveloptool in pmbootstrap for flashing with BSP u-boot</li>
<li>
<a rel="nofollow" class="external text" href="https://gitlab.com/postmarketOS/pmaports/-/merge_requests/2910">pmaports!2910</a>, <a rel="nofollow" class="external text" href="https://gitlab.com/postmarketOS/pmaports/-/merge_requests/3778">pmaports!3778</a> - MR for initial device support</li>
</ul>
</div></div>
		
		<div id="catlinks" class="catlinks" data-mw="interface"><div id="mw-normal-catlinks" class="mw-normal-catlinks">
<a href="../Special:Categories.html" title="Special:Categories">Categories</a>: <ul>
<li><a href="../en/Category:Devices.html" title="Category:Devices">Devices</a></li>
<li><a href="/index.php?title=Category:Unknown&amp;action=edit&amp;redlink=1" class="new" title="Category:Unknown (page does not exist)">Unknown</a></li>
<li><a href="/index.php?title=Category:PINE64&amp;action=edit&amp;redlink=1" class="new" title="Category:PINE64 (page does not exist)">PINE64</a></li>
</ul>
</div></div>
		<div class="visualClear"></div>
		
	</div>
</div>


		<div id="footer" role="contentinfo" style="margin: 0">
						<ul id="footer-info">
								<li>Retrieved from "<a dir="ltr" href="https://wiki.postmarketos.org/index.php?title=PINE64_PineNote_(pine64-pinenote)&amp;oldid=43221">https://wiki.postmarketos.org/index.php?title=PINE64_PineNote_(pine64-pinenote)&amp;oldid=43221</a>"</li>
		
		<li id="footer-info-lastmod"> This page was last edited on 23 April 2023, at 14:33.</li>
								<li id="footer-info-copyright">Content is available under <a class="external" rel="nofollow" href="https://creativecommons.org/licenses/by-sa/4.0/">Creative Commons Attribution-ShareAlike</a> unless otherwise noted.</li>
							<br>
</ul>
						<ul id="footer-places">
								<li id="footer-places-privacy"><a href="../en/PostmarketOS:Privacy_policy.html" title="PostmarketOS:Privacy policy">Privacy policy</a></li>
								<li id="footer-places-about"><a href="../en/About_postmarketOS.html" class="mw-redirect" title="PostmarketOS:About">About postmarketOS</a></li>
								<li id="footer-places-disclaimer"><a href="../en/PostmarketOS:General_disclaimer.html" title="PostmarketOS:General disclaimer">Disclaimers</a></li>
								<li id="footer-places-mobileview"><a href="https://wiki.postmarketos.org/index.php?title=PINE64_PineNote_(pine64-pinenote)&amp;mobileaction=toggle_view_mobile" class="noprint stopMobileRedirectToggle">Mobile view</a></li>
							</ul>
										<ul id="footer-icons" class="noprint">
										<li id="footer-copyrightico">
						<a href="https://creativecommons.org/licenses/by-sa/4.0/"><img src="../cc-by-sa.png" alt="Creative Commons Attribution-ShareAlike" width="88" height="31"></a>					</li>
										<li id="footer-poweredbyico">
						<a href="https://www.mediawiki.org/"><img src="../poweredby_mediawiki_88x31.png" alt="Powered by MediaWiki" srcset="" width="88" height="31"></a>					</li>
									</ul>
						<div style="clear: both;"></div>
		</div>
		

</body>
</html>
