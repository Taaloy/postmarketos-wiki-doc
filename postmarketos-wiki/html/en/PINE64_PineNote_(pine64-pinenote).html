<!DOCTYPE html>
<html class="client-nojs" dir="ltr" lang="en">
 <head>
  <meta charset="utf-8"/>
  <title>
   PINE64 PineNote (pine64-pinenote) - postmarketOS
  </title>
  <link href="../PostmarketOSWikiOffline.css" rel="stylesheet"/>
  <meta content="" name="ResourceLoaderDynamicStyles"/>
  <meta content="MediaWiki 1.34.2" name="generator"/>
  <link href="/favicon.ico" rel="shortcut icon"/>
  <link href="/opensearch_desc.php" rel="search" title="postmarketOS (en)" type="application/opensearchdescription+xml"/>
  <link href="https://wiki.postmarketos.org/api.php?action=rsd" rel="EditURI" type="application/rsd+xml"/>
  <link href="https://creativecommons.org/licenses/by-sa/4.0/" rel="license"/>
  <link href="/index.php?title=Special:RecentChanges&amp;feed=atom" rel="alternate" title="postmarketOS Atom feed" type="application/atom+xml"/>
 </head>
 <body class="mediawiki ltr sitedir-ltr mw-hide-empty-elt ns-0 ns-subject page-PINE64_PineNote_pine64-pinenote rootpage-PINE64_PineNote_pine64-pinenote skin-vector action-view">
  <div class="mw-body" id="content" role="main" style="margin: 0">
   <a id="top">
   </a>
   <div class="mw-indicators mw-body-content">
   </div>
   <h1 class="firstHeading" id="firstHeading" lang="en">
    PINE64 PineNote (pine64-pinenote)
   </h1>
   <div class="mw-body-content" id="bodyContent">
    <div class="noprint" id="siteSub">
     From postmarketOS
    </div>
    <div id="contentSub">
    </div>
    <div id="jump-to-nav">
    </div>
    <a class="mw-jump-link" href="#mw-head">
     Jump to navigation
    </a>
    <a class="mw-jump-link" href="#p-search">
     Jump to search
    </a>
    <div class="mw-content-ltr" dir="ltr" id="mw-content-text" lang="en">
     <div class="mw-parser-output">
      <table cellspacing="3" class="infobox" style="border-spacing: 3px; width:22em;">
       <caption class="" style="">
        PINE64 PineNote
       </caption>
       <tbody>
        <tr class="">
         <td class="" colspan="2" style="text-align:center;">
          <a class="image" href="../Pine64-pinenote.jpg">
           <img alt="The PineNote showing a pdf" decoding="async" height="133" src="../Pine64-pinenote.jpg" srcset="../300px-Pine64-pinenote.jpg 1.5x ../400px-Pine64-pinenote.jpg 2x" width="200"/>
          </a>
          <br/>
          <span style="">
           The PineNote showing a pdf
          </span>
         </td>
        </tr>
        <tr class="">
         <th scope="row" style="text-align:left;">
          Manufacturer
         </th>
         <td class="" style="">
          PINE64
         </td>
        </tr>
        <tr class="">
         <th scope="row" style="text-align:left;">
          Name
         </th>
         <td class="" style="">
          PineNote
         </td>
        </tr>
        <tr class="">
         <th scope="row" style="text-align:left;">
          Codename
         </th>
         <td class="" style="">
          pine64-pinenote
         </td>
        </tr>
        <tr class="">
         <th scope="row" style="text-align:left;">
          Released
         </th>
         <td class="" style="">
          2021
         </td>
        </tr>
        <tr class="">
         <th scope="row" style="text-align:left;">
          Category
         </th>
         <td class="" style="">
          testing
         </td>
        </tr>
        <tr class="">
         <th scope="row" style="text-align:left;">
          Original software
         </th>
         <td class="" style="">
          Unknown
         </td>
        </tr>
        <tr>
         <th class="" colspan="2" style="text-align:center;">
          Hardware
         </th>
        </tr>
        <tr class="">
         <th scope="row" style="text-align:left;">
          Chipset
         </th>
         <td class="" style="">
          Rockchip RK3566
         </td>
        </tr>
        <tr class="">
         <th scope="row" style="text-align:left;">
          CPU
         </th>
         <td class="" style="">
          4x 2Ghz Cortex-A55
         </td>
        </tr>
        <tr class="">
         <th scope="row" style="text-align:left;">
          GPU
         </th>
         <td class="" style="">
          Mali G52 2EE
         </td>
        </tr>
        <tr class="">
         <th scope="row" style="text-align:left;">
          Display
         </th>
         <td class="" style="">
          1404x1872 e-paper
         </td>
        </tr>
        <tr class="">
         <th scope="row" style="text-align:left;">
          Storage
         </th>
         <td class="" style="">
          128 GB
         </td>
        </tr>
        <tr class="">
         <th scope="row" style="text-align:left;">
          Memory
         </th>
         <td class="" style="">
          4GB
         </td>
        </tr>
        <tr class="">
         <th scope="row" style="text-align:left;">
          Architecture
         </th>
         <td class="" style="">
          aarch64
         </td>
        </tr>
        <tr>
         <td colspan="2" style="text-align:right">
         </td>
        </tr>
       </tbody>
      </table>
      <table cellspacing="3" class="infobox" style="border-spacing: 3px; width:22em;">
       <caption class="" style="">
        Features
       </caption>
       <tbody>
        <tr class="">
         <th scope="row" style="text-align:left;">
          <abbr title="After connecting the device with USB to your PC, you can connect to it via telnet (initramfs) or SSH (booted system).">
           USB Networking
          </abbr>
         </th>
         <td class="" style="">
          <div class="feature feature-no">
           Broken
          </div>
         </td>
        </tr>
        <tr class="">
         <th scope="row" style="text-align:left;">
          <abbr title="It is possible to flash the device with `pmbootstrap flasher`.">
           Flashing
          </abbr>
         </th>
         <td class="" style="">
          <div class="feature feature-yes">
           Works
          </div>
         </td>
        </tr>
        <tr class="">
         <th scope="row" style="text-align:left;">
          Touchscreen
         </th>
         <td class="" style="">
          <div class="feature feature-yes">
           Works
          </div>
         </td>
        </tr>
        <tr class="">
         <th scope="row" style="text-align:left;">
          <abbr title="Display works. Ideally with sleep mode and brightness control.">
           Display
          </abbr>
         </th>
         <td class="" style="">
          <div class="feature feature-partial">
           Partial
          </div>
         </td>
        </tr>
        <tr class="">
         <th scope="row" style="text-align:left;">
          WiFi
         </th>
         <td class="" style="">
          <div class="feature feature-yes">
           Works
          </div>
         </td>
        </tr>
        <tr class="">
         <th scope="row" style="text-align:left;">
          <abbr title="Full disk encryption and unlocking with osk-sdl.">
           FDE
          </abbr>
         </th>
         <td class="" style="">
          <div>
          </div>
         </td>
        </tr>
        <tr class="">
         <th scope="row" style="text-align:left;">
          <abbr title="Instead of a Linux kernel fork, it is possible to run mainline.">
           Mainline
          </abbr>
         </th>
         <td class="" style="">
          <div class="feature feature-yes">
           Works
          </div>
         </td>
        </tr>
        <tr class="">
         <th scope="row" style="text-align:left;">
          <abbr title="Charging and battery level reporting works">
           Battery
          </abbr>
         </th>
         <td class="" style="">
          <div class="feature feature-yes">
           Works
          </div>
         </td>
        </tr>
        <tr class="">
         <th scope="row" style="text-align:left;">
          3D Acceleration
         </th>
         <td class="" style="">
          <div class="feature feature-no">
           Broken
          </div>
         </td>
        </tr>
        <tr class="">
         <th scope="row" style="text-align:left;">
          <abbr title="Audio playback, microphone, headset and buttons.">
           Audio
          </abbr>
         </th>
         <td class="" style="">
          <div class="feature feature-yes">
           Works
          </div>
         </td>
        </tr>
        <tr class="">
         <th scope="row" style="text-align:left;">
          Bluetooth
         </th>
         <td class="" style="">
          <div class="feature feature-yes">
           Works
          </div>
         </td>
        </tr>
        <tr class="">
         <th scope="row" style="text-align:left;">
          Camera
         </th>
         <td class="" style="">
          <div class="feature feature-unavailable">
           Unavailable
          </div>
         </td>
        </tr>
        <tr class="">
         <th scope="row" style="text-align:left;">
          GPS
         </th>
         <td class="" style="">
          <div class="feature feature-unavailable">
           Unavailable
          </div>
         </td>
        </tr>
        <tr class="">
         <th scope="row" style="text-align:left;">
          Mobile data
         </th>
         <td class="" style="">
          <div class="feature feature-unavailable">
           Unavailable
          </div>
         </td>
        </tr>
        <tr class="">
         <th scope="row" style="text-align:left;">
          SMS
         </th>
         <td class="" style="">
          <div class="feature feature-unavailable">
           Unavailable
          </div>
         </td>
        </tr>
        <tr class="">
         <th scope="row" style="text-align:left;">
          Calls
         </th>
         <td class="" style="">
          <div class="feature feature-unavailable">
           Unavailable
          </div>
         </td>
        </tr>
        <tr class="">
         <th scope="row" style="text-align:left;">
          USB OTG
         </th>
         <td class="" style="">
          <div class="feature feature-no">
           Broken
          </div>
         </td>
        </tr>
        <tr class="">
         <th scope="row" style="text-align:left;">
          NFC
         </th>
         <td class="" style="">
          <div class="feature feature-unavailable">
           Unavailable
          </div>
         </td>
        </tr>
        <tr>
         <td colspan="2" style="text-align:right">
         </td>
        </tr>
       </tbody>
      </table>
      <table cellspacing="3" class="infobox" style="border-spacing: 3px; width:22em;">
       <caption class="" style="">
        Sensors
       </caption>
       <tbody>
        <tr class="">
         <th scope="row" style="text-align:left;">
          <abbr title="Auto screen rotation works in desktops e.g. Phosh or Plasma Mobile">
           Accelerometer
          </abbr>
         </th>
         <td class="" style="">
          <div class="feature feature-no">
           Broken
          </div>
         </td>
        </tr>
        <tr class="">
         <th scope="row" style="text-align:left;">
          Magnetometer
         </th>
         <td class="" style="">
          <div>
          </div>
         </td>
        </tr>
        <tr class="">
         <th scope="row" style="text-align:left;">
          Ambient Light
         </th>
         <td class="" style="">
          <div>
          </div>
         </td>
        </tr>
        <tr class="">
         <th scope="row" style="text-align:left;">
          Proximity
         </th>
         <td class="" style="">
          <div>
          </div>
         </td>
        </tr>
        <tr class="">
         <th scope="row" style="text-align:left;">
          <abbr title="Used as flip cover sensor, keyboard slide out sensor, etc.">
           Hall Effect
          </abbr>
         </th>
         <td class="" style="">
          <div>
          </div>
         </td>
        </tr>
        <tr>
         <td colspan="2" style="text-align:right">
         </td>
        </tr>
       </tbody>
      </table>
      <table cellspacing="3" class="infobox" style="border-spacing: 3px; width:22em;">
       <caption class="" style="">
        Misc
       </caption>
       <tbody>
        <tr class="">
         <th scope="row" style="text-align:left;">
          Ir TX
         </th>
         <td class="" style="">
          <div>
          </div>
         </td>
        </tr>
        <tr class="">
         <th scope="row" style="text-align:left;">
          TrustZone
         </th>
         <td class="" style="">
          <div>
          </div>
         </td>
        </tr>
        <tr>
         <td colspan="2" style="text-align:right">
         </td>
        </tr>
       </tbody>
      </table>
      <p>
       <br/>
      </p>
      <p>
       <br/>
       The PineNote is a 10.3" e-ink tablet produced by Pine64 for the Linux mobile community.
      </p>
      <h2>
       <span class="mw-headline" id="Installation">
        Installation
       </span>
      </h2>
      <table role="text container" style="color: inherit; background-color: #f6efe5; border: 1px solid #ac6600; margin: 4px 0; border-collapse: collapse;">
       <tbody>
        <tr>
         <td style="padding: 2px 0 2px 0.9em; text-align: center;">
          <span style="white-space: nowrap;">
           <img alt="Note" decoding="async" height="20" src="../Reference_icon.svg" srcset="../Reference_icon.svg 1.5x ../Reference_icon.svg 2x" title="Note" width="20"/>
          </span>
         </td>
         <td style="padding: 0.35em 0.9em; width: 100%;">
          This will erase your userdata and make android unbootable, take backups of all affected partitions via ADB (rkdeveloptool read-partition only allows reading partitions &lt; 32mb)
         </td>
        </tr>
       </tbody>
      </table>
      <p>
       Currently, installing postmarketOS requires UART access to manually boot the mainline kernel. If you have a developer unit, removing the back cover will reveal the pre-soldered UART wires, if you have a production unit you will have to solder these yourself. This will be resolved as soon as we have a u-boot build which can auto-boot from extlinux.
      </p>
      <p>
       Install rkdeveloptool from
       <a class="external free" href="https://gitlab.com/pine64-org/quartz-bsp/rkdeveloptool" rel="nofollow">
        https://gitlab.com/pine64-org/quartz-bsp/rkdeveloptool
       </a>
       , put the end of the pen near the top right of the back of the device to trigger rockusb mode.
      </p>
      <p>
       We need to wipe the boot and recovery partitions to make sure u-boot doesn't try and boot Android
      </p>
      <pre>fallocate 32M blank.bin
rkdeveloptool write-partition boot blank.bin
rkdeveloptool write-partition recovery blank.bin
</pre>
      <p>
       Now build an image with pmbootstrap, I would recommend Phosh or sway.
      </p>
      <pre>pmbootstrap init # pine64 pinenote
pmbootstrap install
</pre>
      <p>
       And flash (pmbootstrap supports rkdeveloptool as of
       <a class="external text" href="https://gitlab.com/postmarketOS/pmbootstrap/-/merge_requests/2165" rel="nofollow">
        pmbootstrap!2165
       </a>
       ).
      </p>
      <pre>pmbootstrap flasher flash_rootfs # flashes to userdata
pmbootstrap flasher flash_kernel # flashes to cache
</pre>
      <p>
       Alright, now for UART, reboot the device and it should put you in a u-boot shell, we can boot with:
      </p>
      <pre>$ picocom /dev/ttyUSB0 -b 1500000 -l

=&gt; sysboot ${devtype} ${devnum}:b any ${scriptaddr} extlinux.conf
</pre>
      <p>
       b is the partition number (decimal 11 encoded in hex) for the cache partition, where we flashed the extlinux boot partition to.
      </p>
      <p>
       You should now see the postmarketOS splash and the pinenote will boot.
      </p>
      <h2>
       <span class="mw-headline" id="Contributors">
        Contributors
       </span>
      </h2>
      <ul>
       <li>
        MartijnBraam
       </li>
      </ul>
      <h2>
       <span class="mw-headline" id="Users_owning_this_device">
        Users owning this device
       </span>
      </h2>
      <div style="-webkit-column-count: 2; -moz-column-count: 2; column-count: 2;">
       <ul style="margin-top: 0;">
        <li>
         <a href="../User:Aa13q.html" title="User:Aa13q">
          Aa13q
         </a>
        </li>
        <li>
         <a href="../User:Kalube.html" title="User:Kalube">
          Kalube
         </a>
         (
         <span class="cargoFieldName">
          Notes:
         </span>
         Working on E-ink support for Mainline)
        </li>
        <li>
         <a href="../User:MartijnBraam.html" title="User:MartijnBraam">
          MartijnBraam
         </a>
        </li>
       </ul>
      </div>
      <p>
       <br/>
      </p>
      <h2>
       <span class="mw-headline" id="How_to_enter_flash_mode">
        How to enter flash mode
       </span>
      </h2>
      <p>
       The device is only flashable using the rkusb bootloader mode. This can be done with the opensource rkdeveloptool utility.
      </p>
      <p>
       To trigger the bootloader hold a magnet on the backcover of the pinenote while powering it on.
      </p>
      <p>
       When it's booted correctly into bootloader mode it should show up in the device list of rkdeveloptool:
      </p>
      <div class="mw-highlight mw-content-ltr" dir="ltr">
       <pre><span></span><span class="gp">$</span> rkdeveloptool ld
<span class="go">DevNo=1 Vid=0x2207,Pid=0x350a,LocationID=100    Loader</span>
</pre>
      </div>
      <p>
       It's possible to overwrite the eMMC with the LBA write command:
      </p>
      <div class="mw-highlight mw-content-ltr" dir="ltr">
       <pre><span></span><span class="gp">$</span> rkdeveloptool wl <span class="m">0</span> rootfs.img
<span class="go">The 0 is the offset in blocks from the start of the eMMC, can be used to flash a partition if you know the offset</span>
</pre>
      </div>
      <h2>
       <span class="mw-headline" id="Recover_from_a_broken_bootloader">
        Recover from a broken bootloader
       </span>
      </h2>
      <p>
       If uboot image is overwritten the rockusb mode won't work anymore. The device might boot into maskrom mode in which case it should show up in `rkdeveloptool list` as maskrom. 
If the uboot image is partially overwritten but still recognized by the maskrom it won't stay in maskrom mode and you'd have to open the back of the device and short TP1301 and TP1302 while powering up. This will make eMMC reads fail so maskrom always runs.
      </p>
      <p>
       Once the device is in maskrom mode the only thing you can do is push a new loader into ram and start that.
      </p>
      <div class="mw-highlight mw-content-ltr" dir="ltr">
       <pre><span></span><span class="gp">$</span> rkdeveloptool list
<span class="go">here it lists maskrom now</span>

<span class="go">The .bin file is build by u-boot and might have a slightly different version</span>
<span class="gp">$</span> rkdeveloptool db rk356x_spl_loader_v1.04.108.bin
<span class="gp">$</span> rkdeveloptool ptt
<span class="go">now it's able to read flash and list the partitions</span>
</pre>
      </div>
      <h2>
       <span class="mw-headline" id="See_also">
        See also
       </span>
      </h2>
      <ul>
       <li>
        <a class="external text" href="https://wiki.pine64.org/wiki/PineNote" rel="nofollow">
         PINE64 wiki page
        </a>
       </li>
       <li>
        <a class="external text" href="https://gitlab.com/pine64-org/quartz-bsp/rkdeveloptool" rel="nofollow">
         fork of rkdeveloptool with many improvements
        </a>
        this will be the version supported on the pinenote.
       </li>
       <li>
        <a class="external text" href="https://gitlab.com/postmarketOS/pmbootstrap/-/merge_requests/2165" rel="nofollow">
         pmbootstrap!2165
        </a>
        - support for rkdeveloptool in pmbootstrap for flashing with BSP u-boot
       </li>
       <li>
        <a class="external text" href="https://gitlab.com/postmarketOS/pmaports/-/merge_requests/2910" rel="nofollow">
         pmaports!2910
        </a>
        - MR for initial device support
       </li>
      </ul>
     </div>
    </div>
    <div class="catlinks" data-mw="interface" id="catlinks">
     <div class="mw-normal-catlinks" id="mw-normal-catlinks">
      <a href="../Special:Categories.html" title="Special:Categories">
       Category
      </a>
      :
      <ul>
       <li>
        <a href="../en/Category:Devices.html" title="Category:Devices">
         Devices
        </a>
       </li>
      </ul>
     </div>
    </div>
    <div class="visualClear">
    </div>
   </div>
  </div>
  <div id="footer" role="contentinfo" style="margin: 0">
   <ul id="footer-info">
    <li>
     Retrieved from "
     <a dir="ltr" href="https://wiki.postmarketos.org/index.php?title=PINE64_PineNote_(pine64-pinenote)&amp;oldid=27739">
      https://wiki.postmarketos.org/index.php?title=PINE64_PineNote_(pine64-pinenote)&amp;oldid=27739
     </a>
     "
    </li>
    <li id="footer-info-lastmod">
     This page was last edited on 16 May 2022, at 17:39.
    </li>
    <li id="footer-info-copyright">
     Content is available under
     <a class="external" href="https://creativecommons.org/licenses/by-sa/4.0/" rel="nofollow">
      Creative Commons Attribution-ShareAlike
     </a>
     unless otherwise noted.
    </li>
    <br/>
   </ul>
   <ul id="footer-places">
    <li id="footer-places-privacy">
     <a href="../en/PostmarketOS:Privacy_policy.html" title="PostmarketOS:Privacy policy">
      Privacy policy
     </a>
    </li>
    <li id="footer-places-about">
     <a class="mw-redirect" href="../en/About_postmarketOS.html" title="PostmarketOS:About">
      About postmarketOS
     </a>
    </li>
    <li id="footer-places-disclaimer">
     <a href="../en/PostmarketOS:General_disclaimer.html" title="PostmarketOS:General disclaimer">
      Disclaimers
     </a>
    </li>
    <li id="footer-places-mobileview">
     <a class="noprint stopMobileRedirectToggle" href="https://wiki.postmarketos.org/index.php?title=PINE64_PineNote_(pine64-pinenote)&amp;mobileaction=toggle_view_mobile">
      Mobile view
     </a>
    </li>
   </ul>
   <ul class="noprint" id="footer-icons">
    <li id="footer-copyrightico">
     <a href="https://creativecommons.org/licenses/by-sa/4.0/">
      <img alt="Creative Commons Attribution-ShareAlike" height="31" src="../cc-by-sa.png" width="88"/>
     </a>
    </li>
    <li id="footer-poweredbyico">
     <a href="https://www.mediawiki.org/">
      <img alt="Powered by MediaWiki" height="31" src="../poweredby_mediawiki_88x31.png" srcset="" width="88"/>
     </a>
    </li>
   </ul>
   <div style="clear: both;">
   </div>
  </div>
 </body>
</html>
