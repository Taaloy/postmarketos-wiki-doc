<!DOCTYPE html>
<html class="client-nojs" lang="en" dir="ltr">
<head>
<meta charset="UTF-8">
<title>Samsung Galaxy Ace 2 (samsung-codina) - postmarketOS</title>
<link rel="stylesheet" href="../PostmarketOSWikiOffline.css">
<meta name="ResourceLoaderDynamicStyles" content="">
<meta name="generator" content="MediaWiki 1.34.2">
<link rel="shortcut icon" href="/favicon.ico">
<link rel="search" type="application/opensearchdescription+xml" href="/opensearch_desc.php" title="postmarketOS (en)">
<link rel="EditURI" type="application/rsd+xml" href="https://wiki.postmarketos.org/api.php?action=rsd">
<link rel="license" href="https://creativecommons.org/licenses/by-sa/4.0/">
<link rel="alternate" type="application/atom+xml" title="postmarketOS Atom feed" href="/index.php?title=Special:RecentChanges&amp;feed=atom">
</head>
<body class="mediawiki ltr sitedir-ltr mw-hide-empty-elt ns-0 ns-subject page-Samsung_Galaxy_Ace_2_samsung-codina rootpage-Samsung_Galaxy_Ace_2_samsung-codina skin-vector action-view">
<div id="content" class="mw-body" role="main" style="margin: 0">
	<a id="top"></a>
	
	<div class="mw-indicators mw-body-content">
</div>

	<h1 id="firstHeading" class="firstHeading" lang="en">Samsung Galaxy Ace 2 (samsung-codina)</h1>
	
	<div id="bodyContent" class="mw-body-content">
		<div id="siteSub" class="noprint">From postmarketOS</div>
		<div id="contentSub"></div>
		
		
		
		<div id="jump-to-nav"></div>
		<a class="mw-jump-link" href="#mw-head">Jump to navigation</a>
		<a class="mw-jump-link" href="#p-search">Jump to search</a>
		<div id="mw-content-text" lang="en" dir="ltr" class="mw-content-ltr"><div class="mw-parser-output">
<table class="infobox" cellspacing="3" style="border-spacing: 3px; width:22em;">
<caption class="" style="">Samsung Galaxy Ace 2 GT-I8160</caption>
<tbody>
<tr class=""><td colspan="2" class="" style="text-align:center;">
<a href="../Samsung-codina-phosh.jpg" class="image"><img alt="Samsung Galaxy Ace 2 GT-I8160 running Phosh under PostmarketOS" src="../Samsung-codina-phosh.jpg" decoding="async" width="200" height="235" srcset="../300px-Samsung-codina-phosh.jpg 1.5x ../400px-Samsung-codina-phosh.jpg 2x"></a><br><span style="">Samsung Galaxy Ace 2 GT-I8160 running Phosh under PostmarketOS</span>
</td></tr>
<tr class="">
<th scope="row" style="text-align:left;">Manufacturer</th>
    <td class="" style="">
Samsung</td>
</tr>
<tr class="">
<th scope="row" style="text-align:left;">Name</th>
    <td class="" style="">
Galaxy Ace 2 GT-I8160</td>
</tr>
<tr class="">
<th scope="row" style="text-align:left;">Codename</th>
    <td class="" style="">
samsung-codina</td>
</tr>
<tr class="">
<th scope="row" style="text-align:left;">Released</th>
    <td class="" style="">
2012</td>
</tr>
<tr class="">
<th scope="row" style="text-align:left;">Category</th>
    <td class="" style="">
testing</td>
</tr>
<tr class="">
<th scope="row" style="text-align:left;">Original software</th>
    <td class="" style="">
Android 2.3.6</td>
</tr>
<tr><th colspan="2" class="" style="text-align:center;">Hardware</th></tr>
<tr class="">
<th scope="row" style="text-align:left;">Chipset</th>
    <td class="" style="">
<a href="../en/ST-Ericsson_NovaThor_U8500.html" title="ST-Ericsson NovaThor U8500">ST-Ericsson NovaThor U8500</a>
</td>
</tr>
<tr class="">
<th scope="row" style="text-align:left;">CPU</th>
    <td class="" style="">
2x 800 MHz ARM Cortex-A9</td>
</tr>
<tr class="">
<th scope="row" style="text-align:left;">GPU</th>
    <td class="" style="">
Mali 400 MP1</td>
</tr>
<tr class="">
<th scope="row" style="text-align:left;">Display</th>
    <td class="" style="">
480x800 PLS</td>
</tr>
<tr class="">
<th scope="row" style="text-align:left;">Storage</th>
    <td class="" style="">
4 GB</td>
</tr>
<tr class="">
<th scope="row" style="text-align:left;">Memory</th>
    <td class="" style="">
768 MB</td>
</tr>
<tr class="">
<th scope="row" style="text-align:left;">Architecture</th>
    <td class="" style="">
armv7</td>
</tr>
<tr><td colspan="2" style="text-align:right"></td></tr>
</tbody>
</table>
<table class="infobox" cellspacing="3" style="border-spacing: 3px; width:22em;">
<caption class="" style="">Features</caption>
<tbody>
<tr class="">
<th scope="row" style="text-align:left;"><abbr title="After connecting the device with USB to your PC, you can connect to it via telnet (initramfs) or SSH (booted system).">USB Networking</abbr></th>
    <td class="" style="">
<div class="feature feature-no">Broken</div>
</td>
</tr>
<tr class="">
<th scope="row" style="text-align:left;"><abbr title="It is possible to flash the device with `pmbootstrap flasher`.">Flashing</abbr></th>
    <td class="" style="">
<div class="feature feature-yes">Works</div>
</td>
</tr>
<tr class="">
<th scope="row" style="text-align:left;">Touchscreen</th>
    <td class="" style="">
<div class="feature feature-yes">Works</div>
</td>
</tr>
<tr class="">
<th scope="row" style="text-align:left;"><abbr title="Display works. Ideally with sleep mode and brightness control.">Display</abbr></th>
    <td class="" style="">
<div class="feature feature-yes">Works</div>
</td>
</tr>
<tr class="">
<th scope="row" style="text-align:left;">WiFi</th>
    <td class="" style="">
<div class="feature feature-yes">Works</div>
</td>
</tr>
<tr class="">
<th scope="row" style="text-align:left;"><abbr title="Full disk encryption and unlocking with osk-sdl.">FDE</abbr></th>
    <td class="" style="">
<div class="feature feature-no">Broken</div>
</td>
</tr>
<tr class="">
<th scope="row" style="text-align:left;"><abbr title="Instead of a Linux kernel fork, it is possible to run mainline.">Mainline</abbr></th>
    <td class="" style="">
<div class="feature feature-yes">Works</div>
</td>
</tr>
<tr class="">
<th scope="row" style="text-align:left;"><abbr title="Charging and battery level reporting works">Battery</abbr></th>
    <td class="" style="">
<div class="feature feature-yes">Works</div>
</td>
</tr>
<tr class="">
<th scope="row" style="text-align:left;">3D Acceleration</th>
    <td class="" style="">
<div class="feature feature-yes">Works</div>
</td>
</tr>
<tr class="">
<th scope="row" style="text-align:left;"><abbr title="Audio playback, microphone, headset and buttons.">Audio</abbr></th>
    <td class="" style="">
<div class="feature feature-no">Broken</div>
</td>
</tr>
<tr class="">
<th scope="row" style="text-align:left;">Bluetooth</th>
    <td class="" style="">
<div class="feature feature-no">Broken</div>
</td>
</tr>
<tr class="">
<th scope="row" style="text-align:left;">Camera</th>
    <td class="" style="">
<div class="feature feature-no">Broken</div>
</td>
</tr>
<tr class="">
<th scope="row" style="text-align:left;">GPS</th>
    <td class="" style="">
<div class="feature feature-no">Broken</div>
</td>
</tr>
<tr class="">
<th scope="row" style="text-align:left;">Mobile data</th>
    <td class="" style="">
<div class="feature feature-no">Broken</div>
</td>
</tr>
<tr class="">
<th scope="row" style="text-align:left;">SMS</th>
    <td class="" style="">
<div class="feature feature-no">Broken</div>
</td>
</tr>
<tr class="">
<th scope="row" style="text-align:left;">Calls</th>
    <td class="" style="">
<div class="feature feature-no">Broken</div>
</td>
</tr>
<tr class="">
<th scope="row" style="text-align:left;">USB OTG</th>
    <td class="" style="">
<div></div>
</td>
</tr>
<tr class="">
<th scope="row" style="text-align:left;">NFC</th>
    <td class="" style="">
<div class="feature feature-yes">Works</div>
</td>
</tr>
<tr><td colspan="2" style="text-align:right"></td></tr>
</tbody>
</table>
<table class="infobox" cellspacing="3" style="border-spacing: 3px; width:22em;">
<caption class="" style="">Sensors</caption>
<tbody>
<tr class="">
<th scope="row" style="text-align:left;"><abbr title="Auto screen rotation works in desktops e.g. Phosh or Plasma Mobile">Accelerometer</abbr></th>
    <td class="" style="">
<div class="feature feature-yes">Works</div>
</td>
</tr>
<tr class="">
<th scope="row" style="text-align:left;">Magnetometer</th>
    <td class="" style="">
<div class="feature feature-yes">Works</div>
</td>
</tr>
<tr class="">
<th scope="row" style="text-align:left;">Ambient Light</th>
    <td class="" style="">
<div class="feature feature-yes">Works</div>
</td>
</tr>
<tr class="">
<th scope="row" style="text-align:left;">Proximity</th>
    <td class="" style="">
<div class="feature feature-yes">Works</div>
</td>
</tr>
<tr class="">
<th scope="row" style="text-align:left;"><abbr title="Used as flip cover sensor, keyboard slide out sensor, etc.">Hall Effect</abbr></th>
    <td class="" style="">
<div class="feature feature-unavailable">Unavailable</div>
</td>
</tr>
<tr><td colspan="2" style="text-align:right"></td></tr>
</tbody>
</table>
<table class="infobox" cellspacing="3" style="border-spacing: 3px; width:22em;">
<caption class="" style="">Misc</caption>
<tbody>
<tr class="">
<th scope="row" style="text-align:left;">Ir TX</th>
    <td class="" style="">
<div></div>
</td>
</tr>
<tr class="">
<th scope="row" style="text-align:left;">TrustZone</th>
    <td class="" style="">
<div></div>
</td>
</tr>
<tr><td colspan="2" style="text-align:right"></td></tr>
</tbody>
</table>
<p><br>
</p>
<p><br>
</p>
<table class="infobox" style="float: right; width: 22em; color: inherit; background-color: #f7fff7; border: 3px solid #8a8;"><tbody><tr><td>
<b>This device is based on <a href="../en/ST-Ericsson_NovaThor_U8500.html" title="ST-Ericsson NovaThor U8500">ST-Ericsson U8500</a>.</b><br>See the SoC page for common tips, guides and troubleshooting steps</td></tr></tbody></table>
<h2><span class="mw-headline" id="Contributors">Contributors</span></h2>
<ul><li>nergzd723</li></ul>
<h2>
<span id="Maintainer(s)"></span><span class="mw-headline" id="Maintainer.28s.29">Maintainer(s)</span>
</h2>
<h2><span class="mw-headline" id="Users_owning_this_device">Users owning this device</span></h2>
<div style="-webkit-column-count: 2; -moz-column-count: 2; column-count: 2;"><ul style="margin-top: 0;">
<li><a href="../User:Linusw.html" title="User:Linusw">Linusw</a></li>
<li><a href="../User:MuseCat.html" title="User:MuseCat">MuseCat</a></li>
<li>
<a href="../User:Nergzd723.html" title="User:Nergzd723">Nergzd723</a> (<span class="cargoFieldName">Notes:</span> playground)</li>
<li>
<a href="../User:Netman.html" title="User:Netman">Netman</a> (<span class="cargoFieldName">Notes:</span> SD Card cover is loose)</li>
<li><a href="../User:Sonichero.html" title="User:Sonichero">Sonichero</a></li>
</ul></div>
<p><br>
</p>
<h2><span class="mw-headline" id="Variants">Variants</span></h2>
<p>A few different variants of the Codina was produced by Samsung, all named Samsung Galaxy Ace 2 but with different model codes. At least one of them has hardware differences.
</p>
<table class="wikitable">
<caption>Samsung Galaxy Ace 2 GT-I8160 variants
</caption>
<tbody>
<tr>
<th>Model</th>
<th>Features</th>
<th>Notes
</th>
</tr>
<tr>
<td>GT-I8160</td>
<td></td>
<td>Vanilla
</td>
</tr>
<tr>
<td>GT-I8160chn</td>
<td></td>
<td>Targeted for the chinese market
</td>
</tr>
<tr>
<td>GT-I8160I</td>
<td></td>
<td>
</td>
</tr>
<tr>
<td>GT-I8160L</td>
<td></td>
<td>
</td>
</tr>
<tr>
<td>GT-I8160P</td>
<td><a href="../en/NFC.html" title="NFC">NFC</a></td>
<td>Test with <tt>nfctool -d nfc0 -1 -p</tt>
</td>
</tr>
</tbody>
</table>
<p>A <i>Samsung Galaxy 2 La Fleur</i> exist, in white and red/pink covers with flower decorations. These are just a aestetic difference with no hardware differences.
</p>
<p>A special version of Codina is called "Codina TMO" (as in T-mobile) and is called <a href="/index.php?title=Samsung_Galaxy_Exhibit&amp;action=edit&amp;redlink=1" class="new" title="Samsung Galaxy Exhibit (page does not exist)">Samsung Galaxy Exhibit</a> or SGH-T599. This device contains upgraded hardware and uses a completely different device tree.
</p>
<p>The <i>Samsung Galaxy Ace 2x</i> and <i>Samsung Galaxy Trend</i> have similar looks but are not Codina variants, these are based on Qualcomm chipsets.
</p>
<h2><span class="mw-headline" id="How_to_enter_flash_mode">How to enter flash mode</span></h2>
<p>Odin Mode: While turned off, hold POWER+HOME+Vol-
</p>
<p>Fastboot: Hold Vol- while booting.
</p>
<h2><span class="mw-headline" id="Installation">Installation</span></h2>
<p>The mainline kernel can only be booted through U-Boot, not directly with the Samsung bootloader. U-Boot is installed as intermediate bootloader on the boot partition, so it does not replace the Samsung bootloader entirely. 
</p>
<p>Boot into Download Mode using <span class="nowrap" title="This is not a clickable button; it illustrates the button one should find." style="padding:.2em .6em; border:1px solid; border-color:#AAA #555 #555 #AAA; border-radius: 3px; background-color: #F2F2F2;">Power</span> + <span class="nowrap" title="This is not a clickable button; it illustrates the button one should find." style="padding:.2em .6em; border:1px solid; border-color:#AAA #555 #555 #AAA; border-radius: 3px; background-color: #F2F2F2;">Volume Down</span> + <span class="nowrap" title="This is not a clickable button; it illustrates the button one should find." style="padding:.2em .6em; border:1px solid; border-color:#AAA #555 #555 #AAA; border-radius: 3px; background-color: #F2F2F2;">Home</span> and follow the <a href="../en/ST-Ericsson_NovaThor_U8500.html#U-Boot_on_Samsung_NovaThor_U8500_Devices" title="ST-Ericsson NovaThor U8500">the NovaThor U8500 U-Boot installation instructions</a> to install U-Boot.
</p>
<p>Finally, follow the <a href="../en/Installation_guide.html" title="Installation guide">Installation guide</a>.
</p>
<h2><span class="mw-headline" id="Notes">Notes</span></h2>
<p>While charging now works with the mainline kernel as of linux-postmarketos-stericsson 5.18-rc4 in postmarketOS, it is good to note that if you somehow end up depleting the battery entirely, you risk bricking your device as it cannot charge if it cannot boot to the kernel, and it cannot boot to the kernel if the battery level is too low as it shuts down before it gets there. This is also the case in Android. If you end up in this situation, you can either get an external charger or a new battery.
</p>
<h2><span class="mw-headline" id="Installing_recovery">Installing recovery</span></h2>
<p>samsung-codina uses weird proprietary Samsung boot format to boot recovery using the main kernel. u-boot can only boot recoveries that are in Android boot.img format. As a workaround, you can get vmlinuz from postmarketOS installation(do pmbootstrap export after pmbootstrap install), and create boot image with mkbootimg(using recovery CPIO).
</p>
<h2><span class="mw-headline" id="Bluetooth">Bluetooth</span></h2>
<p>Bluetooth does not have any Bluetooth device address (bdaddr or "MAC address") set after boot at the moment. To make Bluetooth work, you need to manually configure one:
</p>
<pre># apk add bluez-btmgmt
# btmgmt public-addr &lt;bdaddr&gt;
</pre>
<p>where <code>&lt;bdaddr&gt;</code> is a MAC address like <code>53:33:6d:69:6e:69</code>.
</p>
<p>The Bluetooth controller should then show up in <code>bluetoothctl</code>:
</p>
<pre># apk add bluez
# rc-service bluetooth start
$ bluetoothctl
</pre>
<p>You can e.g scan for devices:
</p>
<pre>[bluetooth]# show
[bluetooth]# power on
[bluetooth]# advertise on
[bluetooth]# system-alias codina
[bluetooth]# scan on
</pre>
<h2><span class="mw-headline" id="Sensors">Sensors</span></h2>
<ul>
<li>STMicroelectronics LIS3DH accelerometer</li>
<li>Alps hscdtd008a <a href="../en/Magnetometer.html" title="Magnetometer">magnetometer</a>
</li>
<li>Amstaos TMD2672 light and proximity sensor</li>
</ul>
<p>The accelerometer does work albeit it needs polling. iio-sensor-proxy does the right thing as can be confirmed at the command line:
</p>
<pre># monitor-sensor
Accelerometer orientation changed: bottom-up
Accelerometer orientation changed: right-up
Accelerometer orientation changed: bottom-up
Accelerometer orientation changed: left-up
Accelerometer orientation changed: normal
Accelerometer orientation changed: right-up
Accelerometer orientation changed: bottom-up
</pre>
<p>It seems iio-sensor-proxy fails to apply the mounting matrix to polled sensors.
</p>
<p>It seems for example Phosh cannot handle these events from iio-sensor-proxy properly as of writing.
</p>
<p>To test the sensors using iio_generic_buffer you first have to create a hrtimer trigger like this:
</p>
<pre># mkdir /sys/kernel/config/iio/triggers/hrtimer/instance1
</pre>
<p>Then you can use this to poll values from the accelerometer or magnetometer like this:
</p>
<pre># iio_generic_buffer -a -c 10 -n lis3dh -t instance1
# iio_generic_buffer -a -c 10 -n hscdtd008a -t instance1
</pre>
<p>Some udev hwdb updates might be needed for all devices to work properly with iio-sensor-proxy.
</p>
<h2><span class="mw-headline" id="GPS">GPS</span></h2>
<p>The Codina has a <a href="../en/Broadcom_BCM4751_GPS.html" title="Broadcom BCM4751 GPS">Broadcom BCM4751 GPS</a> chip.
</p>
<h2><span class="mw-headline" id="DSI_Scaling_Error_in_Phosh">DSI Scaling Error in Phosh</span></h2>
<p>If you are running phosh, and the scaling is wrong so that you cannot type in the password to unlock the initial login screen, this can be fixed by changing this file <code>/usr/share/phosh/phoc.ini</code> like this:
</p>
<pre> [output:DSI-1]
 scale = 1
</pre>
<h2><span class="mw-headline" id="See_also">See also</span></h2>
<ul>
<li>
<a rel="nofollow" class="external text" href="https://gitlab.com/postmarketOS/pmaports/-/merge_requests/1275">pmaports!1275</a> Initial merge request</li>
<li><a rel="nofollow" class="external text" href="https://gitlab.com/postmarketOS/pmaports/-/tree/master/device/testing/linux-samsung-codina">Kernel package</a></li>
<li>
<a rel="nofollow" class="external text" href="https://git.kernel.org/pub/scm/linux/kernel/git/torvalds/linux.git/tree/arch/arm/boot/dts/ste-ux500-samsung-codina.dts">Upstream devicetree</a> in Torvalds' kernel tree</li>
</ul>
<h2><span class="mw-headline" id="Known_bug">Known bug</span></h2>
<p>While in fastboot, PC may not detect the device. Try rebooting the device.
</p>
</div></div>
		
		<div id="catlinks" class="catlinks" data-mw="interface"><div id="mw-normal-catlinks" class="mw-normal-catlinks">
<a href="../Special:Categories.html" title="Special:Categories">Category</a>: <ul><li><a href="../en/Category:Devices.html" title="Category:Devices">Devices</a></li></ul>
</div></div>
		<div class="visualClear"></div>
		
	</div>
</div>


		<div id="footer" role="contentinfo" style="margin: 0">
						<ul id="footer-info">
								<li>Retrieved from "<a dir="ltr" href="https://wiki.postmarketos.org/index.php?title=Samsung_Galaxy_Ace_2_(samsung-codina)&amp;oldid=28336">https://wiki.postmarketos.org/index.php?title=Samsung_Galaxy_Ace_2_(samsung-codina)&amp;oldid=28336</a>"</li>
		
		<li id="footer-info-lastmod"> This page was last edited on 5 June 2022, at 12:52.</li>
								<li id="footer-info-copyright">Content is available under <a class="external" rel="nofollow" href="https://creativecommons.org/licenses/by-sa/4.0/">Creative Commons Attribution-ShareAlike</a> unless otherwise noted.</li>
							<br>
</ul>
						<ul id="footer-places">
								<li id="footer-places-privacy"><a href="../en/PostmarketOS:Privacy_policy.html" title="PostmarketOS:Privacy policy">Privacy policy</a></li>
								<li id="footer-places-about"><a href="../en/About_postmarketOS.html" class="mw-redirect" title="PostmarketOS:About">About postmarketOS</a></li>
								<li id="footer-places-disclaimer"><a href="../en/PostmarketOS:General_disclaimer.html" title="PostmarketOS:General disclaimer">Disclaimers</a></li>
								<li id="footer-places-mobileview"><a href="https://wiki.postmarketos.org/index.php?title=Samsung_Galaxy_Ace_2_(samsung-codina)&amp;mobileaction=toggle_view_mobile" class="noprint stopMobileRedirectToggle">Mobile view</a></li>
							</ul>
										<ul id="footer-icons" class="noprint">
										<li id="footer-copyrightico">
						<a href="https://creativecommons.org/licenses/by-sa/4.0/"><img src="../cc-by-sa.png" alt="Creative Commons Attribution-ShareAlike" width="88" height="31"></a>					</li>
										<li id="footer-poweredbyico">
						<a href="https://www.mediawiki.org/"><img src="../poweredby_mediawiki_88x31.png" alt="Powered by MediaWiki" srcset="" width="88" height="31"></a>					</li>
									</ul>
						<div style="clear: both;"></div>
		</div>
		

</body>
</html>
