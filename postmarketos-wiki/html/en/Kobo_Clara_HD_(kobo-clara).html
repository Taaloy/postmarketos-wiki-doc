<!DOCTYPE html>
<html class="client-nojs" lang="en" dir="ltr">
<head>
<meta charset="UTF-8">
<title>Kobo Clara HD (kobo-clara) - postmarketOS</title>
<link rel="stylesheet" href="../PostmarketOSWikiOffline.css">
<meta name="ResourceLoaderDynamicStyles" content="">
<meta name="generator" content="MediaWiki 1.34.2">
<link rel="shortcut icon" href="/favicon.ico">
<link rel="search" type="application/opensearchdescription+xml" href="/opensearch_desc.php" title="postmarketOS (en)">
<link rel="EditURI" type="application/rsd+xml" href="https://wiki.postmarketos.org/api.php?action=rsd">
<link rel="license" href="https://creativecommons.org/licenses/by-sa/4.0/">
<link rel="alternate" type="application/atom+xml" title="postmarketOS Atom feed" href="/index.php?title=Special:RecentChanges&amp;feed=atom">
</head>
<body class="mediawiki ltr sitedir-ltr mw-hide-empty-elt ns-0 ns-subject page-Kobo_Clara_HD_kobo-clara rootpage-Kobo_Clara_HD_kobo-clara skin-vector action-view">
<div id="content" class="mw-body" role="main" style="margin: 0">
	<a id="top"></a>
	
	<div class="mw-indicators mw-body-content">
</div>

	<h1 id="firstHeading" class="firstHeading" lang="en">Kobo Clara HD (kobo-clara)</h1>
	
	<div id="bodyContent" class="mw-body-content">
		<div id="siteSub" class="noprint">From postmarketOS</div>
		<div id="contentSub"></div>
		
		
		
		<div id="jump-to-nav"></div>
		<a class="mw-jump-link" href="#mw-head">Jump to navigation</a>
		<a class="mw-jump-link" href="#p-search">Jump to search</a>
		<div id="mw-content-text" lang="en" dir="ltr" class="mw-content-ltr"><div class="mw-parser-output">
<table class="infobox" cellspacing="3" style="border-spacing: 3px; width:22em;">
<caption class="" style="">Kobo Clara HD</caption>
<tbody>
<tr class=""><td colspan="2" class="" style="text-align:center;">
<a href="../Kobo-clara-inside.jpg" class="image"><img alt="Insides" src="../Kobo-clara-inside.jpg" decoding="async" width="200" height="144" srcset="../300px-Kobo-clara-inside.jpg 1.5x ../400px-Kobo-clara-inside.jpg 2x"></a><br><span style="">Insides</span>
</td></tr>
<tr class="">
<th scope="row" style="text-align:left;">Manufacturer</th>
    <td class="" style="">
Kobo</td>
</tr>
<tr class="">
<th scope="row" style="text-align:left;">Name</th>
    <td class="" style="">
Clara HD</td>
</tr>
<tr class="">
<th scope="row" style="text-align:left;">Codename</th>
    <td class="" style="">
kobo-clara</td>
</tr>
<tr class="">
<th scope="row" style="text-align:left;">Released</th>
    <td class="" style="">
2018</td>
</tr>
<tr class="">
<th scope="row" style="text-align:left;">Category</th>
    <td class="" style="">
testing</td>
</tr>
<tr class="">
<th scope="row" style="text-align:left;">Original software</th>
    <td class="" style="">
Kobo Firmware</td>
</tr>
<tr><th colspan="2" class="" style="text-align:center;">Hardware</th></tr>
<tr class="">
<th scope="row" style="text-align:left;">Chipset</th>
    <td class="" style="">
Freescale i.MX6 SLL</td>
</tr>
<tr class="">
<th scope="row" style="text-align:left;">CPU</th>
    <td class="" style="">
1x 1 GHz Cortex-A9</td>
</tr>
<tr class="">
<th scope="row" style="text-align:left;">GPU</th>
    <td class="" style="">
PXP + EPDC</td>
</tr>
<tr class="">
<th scope="row" style="text-align:left;">Display</th>
    <td class="" style="">
1448x1072 6 inch e-paper</td>
</tr>
<tr class="">
<th scope="row" style="text-align:left;">Storage</th>
    <td class="" style="">
Internal 8GB SD slot</td>
</tr>
<tr class="">
<th scope="row" style="text-align:left;">Memory</th>
    <td class="" style="">
512MB</td>
</tr>
<tr class="">
<th scope="row" style="text-align:left;">Architecture</th>
    <td class="" style="">
armv7</td>
</tr>
<tr class="">
<th scope="row" style="text-align:left;">Unixbench Whet/Dhry score</th>
    <td class="" style="">
213.3</td>
</tr>
<tr><td colspan="2" style="text-align:right"></td></tr>
</tbody>
</table>
<table class="infobox" cellspacing="3" style="border-spacing: 3px; width:22em;">
<caption class="" style="">Features</caption>
<tbody>
<tr class="">
<th scope="row" style="text-align:left;"><abbr title="After connecting the device with USB to your PC, you can connect to it via telnet (initramfs) or SSH (booted system).">USB Networking</abbr></th>
    <td class="" style="">
<div class="feature feature-yes">Works</div>
</td>
</tr>
<tr class="">
<th scope="row" style="text-align:left;"><abbr title="It is possible to flash the device with `pmbootstrap flasher`.">Flashing</abbr></th>
    <td class="" style="">
<div></div>
</td>
</tr>
<tr class="">
<th scope="row" style="text-align:left;">Touchscreen</th>
    <td class="" style="">
<div class="feature feature-yes">Works</div>
</td>
</tr>
<tr class="">
<th scope="row" style="text-align:left;"><abbr title="Display works. Ideally with sleep mode and brightness control.">Display</abbr></th>
    <td class="" style="">
<div class="feature feature-yes">Works</div>
</td>
</tr>
<tr class="">
<th scope="row" style="text-align:left;">WiFi</th>
    <td class="" style="">
<div class="feature feature-yes">Works</div>
</td>
</tr>
<tr class="">
<th scope="row" style="text-align:left;"><abbr title="Full disk encryption and unlocking with osk-sdl.">FDE</abbr></th>
    <td class="" style="">
<div></div>
</td>
</tr>
<tr class="">
<th scope="row" style="text-align:left;"><abbr title="Instead of a Linux kernel fork, it is possible to run mainline.">Mainline</abbr></th>
    <td class="" style="">
<div class="feature feature-yes">Works</div>
</td>
</tr>
<tr class="">
<th scope="row" style="text-align:left;"><abbr title="Charging and battery level reporting works">Battery</abbr></th>
    <td class="" style="">
<div class="feature feature-yes">Works</div>
</td>
</tr>
<tr class="">
<th scope="row" style="text-align:left;">3D Acceleration</th>
    <td class="" style="">
<div class="feature feature-unavailable">Unavailable</div>
</td>
</tr>
<tr class="">
<th scope="row" style="text-align:left;"><abbr title="Audio playback, microphone, headset and buttons.">Audio</abbr></th>
    <td class="" style="">
<div class="feature feature-unavailable">Unavailable</div>
</td>
</tr>
<tr class="">
<th scope="row" style="text-align:left;">Bluetooth</th>
    <td class="" style="">
<div class="feature feature-unavailable">Unavailable</div>
</td>
</tr>
<tr class="">
<th scope="row" style="text-align:left;">Camera</th>
    <td class="" style="">
<div class="feature feature-unavailable">Unavailable</div>
</td>
</tr>
<tr class="">
<th scope="row" style="text-align:left;">GPS</th>
    <td class="" style="">
<div class="feature feature-unavailable">Unavailable</div>
</td>
</tr>
<tr class="">
<th scope="row" style="text-align:left;">Mobile data</th>
    <td class="" style="">
<div class="feature feature-unavailable">Unavailable</div>
</td>
</tr>
<tr class="">
<th scope="row" style="text-align:left;">SMS</th>
    <td class="" style="">
<div class="feature feature-unavailable">Unavailable</div>
</td>
</tr>
<tr class="">
<th scope="row" style="text-align:left;">Calls</th>
    <td class="" style="">
<div class="feature feature-unavailable">Unavailable</div>
</td>
</tr>
<tr class="">
<th scope="row" style="text-align:left;">USB OTG</th>
    <td class="" style="">
<div class="feature feature-yes">Works</div>
</td>
</tr>
<tr class="">
<th scope="row" style="text-align:left;">NFC</th>
    <td class="" style="">
<div></div>
</td>
</tr>
<tr><td colspan="2" style="text-align:right"></td></tr>
</tbody>
</table>
<table class="infobox" cellspacing="3" style="border-spacing: 3px; width:22em;">
<caption class="" style="">Sensors</caption>
<tbody>
<tr class="">
<th scope="row" style="text-align:left;"><abbr title="Auto screen rotation works in desktops e.g. Phosh or Plasma Mobile">Accelerometer</abbr></th>
    <td class="" style="">
<div class="feature feature-unavailable">Unavailable</div>
</td>
</tr>
<tr class="">
<th scope="row" style="text-align:left;">Magnetometer</th>
    <td class="" style="">
<div></div>
</td>
</tr>
<tr class="">
<th scope="row" style="text-align:left;">Ambient Light</th>
    <td class="" style="">
<div></div>
</td>
</tr>
<tr class="">
<th scope="row" style="text-align:left;">Proximity</th>
    <td class="" style="">
<div></div>
</td>
</tr>
<tr class="">
<th scope="row" style="text-align:left;"><abbr title="Used as flip cover sensor, keyboard slide out sensor, etc.">Hall Effect</abbr></th>
    <td class="" style="">
<div></div>
</td>
</tr>
<tr><td colspan="2" style="text-align:right"></td></tr>
</tbody>
</table>
<table class="infobox" cellspacing="3" style="border-spacing: 3px; width:22em;">
<caption class="" style="">Misc</caption>
<tbody>
<tr class="">
<th scope="row" style="text-align:left;">Ir TX</th>
    <td class="" style="">
<div></div>
</td>
</tr>
<tr class="">
<th scope="row" style="text-align:left;">TrustZone</th>
    <td class="" style="">
<div></div>
</td>
</tr>
<tr><td colspan="2" style="text-align:right"></td></tr>
</tbody>
</table>
<p><br>
</p>
<p><br>
</p>
<div id="toc" class="toc">
<input type="checkbox" role="button" id="toctogglecheckbox" class="toctogglecheckbox" style="display:none"><div class="toctitle" lang="en" dir="ltr">
<h2>Contents</h2>
<span class="toctogglespan"><label class="toctogglelabel" for="toctogglecheckbox"></label></span>
</div>
<ul>
<li class="toclevel-1 tocsection-1"><a href="#Contributors"><span class="tocnumber">1</span> <span class="toctext">Contributors</span></a></li>
<li class="toclevel-1 tocsection-2"><a href="#Installation"><span class="tocnumber">2</span> <span class="toctext">Installation</span></a></li>
<li class="toclevel-1 tocsection-3">
<a href="#Hardware"><span class="tocnumber">3</span> <span class="toctext">Hardware</span></a>
<ul>
<li class="toclevel-2 tocsection-4"><a href="#Wireless"><span class="tocnumber">3.1</span> <span class="toctext">Wireless</span></a></li>
<li class="toclevel-2 tocsection-5"><a href="#Display"><span class="tocnumber">3.2</span> <span class="toctext">Display</span></a></li>
<li class="toclevel-2 tocsection-6"><a href="#USB"><span class="tocnumber">3.3</span> <span class="toctext">USB</span></a></li>
<li class="toclevel-2 tocsection-7"><a href="#UART"><span class="tocnumber">3.4</span> <span class="toctext">UART</span></a></li>
</ul>
</li>
<li class="toclevel-1 tocsection-8">
<a href="#See_also"><span class="tocnumber">4</span> <span class="toctext">See also</span></a>
<ul>
<li class="toclevel-2 tocsection-9"><a href="#Sources"><span class="tocnumber">4.1</span> <span class="toctext">Sources</span></a></li>
<li class="toclevel-2 tocsection-10"><a href="#Applications"><span class="tocnumber">4.2</span> <span class="toctext">Applications</span></a></li>
<li class="toclevel-2 tocsection-11"><a href="#Other"><span class="tocnumber">4.3</span> <span class="toctext">Other</span></a></li>
</ul>
</li>
<li class="toclevel-1 tocsection-12"><a href="#Almost_identical_device"><span class="tocnumber">5</span> <span class="toctext">Almost identical device</span></a></li>
<li class="toclevel-1 tocsection-13"><a href="#Similar_devices"><span class="tocnumber">6</span> <span class="toctext">Similar devices</span></a></li>
</ul>
</div>

<h2><span class="mw-headline" id="Contributors">Contributors</span></h2>
<ul>
<li><a href="../User:MartijnBraam.html" title="User:MartijnBraam">MartijnBraam</a></li>
<li>Andi</li>
</ul>
<h2><span class="mw-headline" id="Installation">Installation</span></h2>
<p>An original Kobo Clara SD card or a copy (e.g. via dd) is recommended. The unpartitioned space at the beginning of the SD card contains the E-ink panel waveform information. This information is device specific and is copied to <b>/lib/firmware/imx/epdc/epdc.fw</b> on boot. See the original <a rel="nofollow" class="external text" href="https://gitlab.com/postmarketOS/pmaports/-/merge_requests/2334">Pull Request</a> for more information.
</p>
<h2><span class="mw-headline" id="Hardware">Hardware</span></h2>
<h3><span class="mw-headline" id="Wireless">Wireless</span></h3>
<p>The Kobo Clara contains the Realtek <a rel="nofollow" class="external text" href="https://www.realtek.com/en/products/communications-network-ics/item/rtl8189ftv">RTL8189FTV</a>, a 802.11bgn 2.4G single-chip solution. Using the mainline kernel this is supported by the RTL8189fs branch of this <a rel="nofollow" class="external text" href="https://github.com/jwrdegoede/rtl8189ES_linux/tree/rtl8189fs">repo</a>. Note this prints a lot of information to <b>dmesg</b> (prefixed with 'RTL871X').
</p>
<p>Wi-Fi should be enabled in the default Kobo firmware before booting into custom firmware.
</p>
<h3><span class="mw-headline" id="Display">Display</span></h3>
<p>The Kobo Clara features "ComfortLight PRO" which allows you to adjust the brightness or temperature of your screen. This is supported in the mainline kernel under <b>/sys/class/backlight</b> which exposes <b>backlight_warm</b> and <b>backlight_cold</b>. The brightness can be adjusted by echoing a value (0 to 255) to <b>brightness</b> in these directories.
</p>
<pre>   echo 10 | sudo tee /sys/class/backlight/backlight_warm/brightness
</pre>
<h3><span class="mw-headline" id="USB">USB</span></h3>
<p>By default the USB port is in <b>gadget</b> mode. This enables <b>rdnis</b> (USB networking) and storage when plugged into a PC.
</p>
<p>The USB can be changed to <b>host</b> mode, allowing a keyboard or storage to be plugged in. This requires a <a rel="nofollow" class="external text" href="https://www.amazon.co.uk/Cablecc-Degree-Angled-Adapter-Galaxy/dp/B00S6AAVVO">Micro USB OTG adapter</a>. As root, you can change the USB role.
</p>
<pre>   mount -t debugfs none /sys/kernel/debug
   echo gadget &gt; /sys/kernel/debug/usb/ci_hdrc.0/role
</pre>
<p>Note: For some devices, external power may be required via the USB adapter.
</p>
<h3><span class="mw-headline" id="UART">UART</span></h3>
<p>UART (3.3V) is available on J4. This is located near the edge of the PCB on the top right (with the USB at bottom). The default baudrate is 115200 (8N1).
There is a second UART next to it (TP198)
</p>
<p><br>
</p>
<h2><span class="mw-headline" id="See_also">See also</span></h2>
<h3><span class="mw-headline" id="Sources">Sources</span></h3>
<ul>
<li><a rel="nofollow" class="external text" href="https://github.com/kobolabs/Kobo-Reader/tree/master/hw/imx6sll-clara">U-boot and kernel source</a></li>
<li><a rel="nofollow" class="external text" href="https://github.com/torvalds/linux/blob/master/arch/arm/boot/dts/imx6sll-kobo-clarahd.dts">Upstream Devicetree Source (dts)</a></li>
<li>
<a rel="nofollow" class="external text" href="https://github.com/akemnade/linux">branches kobo/merged-5.X Patched mainline kernels</a> (includes EPD), currently kobo/merged-5.14</li>
<li>
<a rel="nofollow" class="external text" href="https://github.com/akemnade/u-boot-fslc">branch kobo-2020-10 more recent u-boot behaving more normal</a>, see corresponding wiki for details</li>
<li>
<a rel="nofollow" class="external text" href="https://github.com/jwrdegoede/rtl8189ES_linux/tree/rtl8189fs">Wi-Fi driver</a>, branch rtl8189fs</li>
</ul>
<h3><span class="mw-headline" id="Applications">Applications</span></h3>
<ul><li>
<a rel="nofollow" class="external text" href="https://inkbox.ddns.net/">InkBox</a>, Open-source Alpine based firmware for Kobo E-readers, <a rel="nofollow" class="external text" href="https://github.com/Kobo-InkBox/inkbox/">mirror on Github</a>.</li></ul>
<h3><span class="mw-headline" id="Other">Other</span></h3>
<ul>
<li><a rel="nofollow" class="external text" href="https://pgaskin.net/KoboStuff/kobofirmware.html">Archived Kobo Firmware</a></li>
<li>
<a rel="nofollow" class="external text" href="http://yingtongli.me/blog/tag/clara-hd/">Blog</a> with Kobo Clara information</li>
<li>Patched <a rel="nofollow" class="external text" href="https://github.com/akemnade/xf86-video-fbdev">xf86-video-fbdev</a> handling refreshes, there is currently no DRM driver, so we have to stick to fbdev</li>
<li>
<a rel="nofollow" class="external text" href="https://www.mobileread.com/forums/showthread.php?t=336210">Xorg on Kobo</a> default firmware</li>
<li>E-reader <a rel="nofollow" class="external text" href="https://libreplanet.org/wiki/Group:Hardware/research/e-readers">information</a>
</li>
<li>Some installation notes/mainlining status <a rel="nofollow" class="external text" href="https://misc.andi.de1.cc/kobo">information</a>
</li>
<li>Electronic Paper Displays (EPD) / E-ink <a rel="nofollow" class="external text" href="https://wiki.mobileread.com/wiki/EPD">introduction</a>
</li>
<li>E-ink <a rel="nofollow" class="external text" href="https://goodereader.com/blog/e-paper/e-ink-waveforms-are-a-closely-guarded-secret">waveforms</a>
</li>
</ul>
<h2><span class="mw-headline" id="Almost_identical_device">Almost identical device</span></h2>
<ul><li>
<a rel="nofollow" class="external text" href="https://mytolino.com/tolino-shine-3/ebook-reader/">Tolino Shine 3</a> - this has the same board, uses the I.MX6 SoloLite SoC instead of the I.MX6 SLL, which has some subtle differences, like different version of the EPDC inside</li></ul>
<h2><span class="mw-headline" id="Similar_devices">Similar devices</span></h2>
<ul>
<li>Tolino Shine 2 HD - similar mainline status with above-mentioned kernel</li>
<li>Kobo Glo HD - will probably be in a similar state with above mentioned kernel if a devicetree is created</li>
</ul>
</div></div>
		
		<div id="catlinks" class="catlinks" data-mw="interface"><div id="mw-normal-catlinks" class="mw-normal-catlinks">
<a href="../Special:Categories.html" title="Special:Categories">Category</a>: <ul><li><a href="../en/Category:Devices.html" title="Category:Devices">Devices</a></li></ul>
</div></div>
		<div class="visualClear"></div>
		
	</div>
</div>


		<div id="footer" role="contentinfo" style="margin: 0">
						<ul id="footer-info">
								<li>Retrieved from "<a dir="ltr" href="https://wiki.postmarketos.org/index.php?title=Kobo_Clara_HD_(kobo-clara)&amp;oldid=25029">https://wiki.postmarketos.org/index.php?title=Kobo_Clara_HD_(kobo-clara)&amp;oldid=25029</a>"</li>
		
		<li id="footer-info-lastmod"> This page was last edited on 17 January 2022, at 01:28.</li>
								<li id="footer-info-copyright">Content is available under <a class="external" rel="nofollow" href="https://creativecommons.org/licenses/by-sa/4.0/">Creative Commons Attribution-ShareAlike</a> unless otherwise noted.</li>
							<br>
</ul>
						<ul id="footer-places">
								<li id="footer-places-privacy"><a href="../en/PostmarketOS:Privacy_policy.html" title="PostmarketOS:Privacy policy">Privacy policy</a></li>
								<li id="footer-places-about"><a href="../en/About_postmarketOS.html" class="mw-redirect" title="PostmarketOS:About">About postmarketOS</a></li>
								<li id="footer-places-disclaimer"><a href="../en/PostmarketOS:General_disclaimer.html" title="PostmarketOS:General disclaimer">Disclaimers</a></li>
								<li id="footer-places-mobileview"><a href="https://wiki.postmarketos.org/index.php?title=Kobo_Clara_HD_(kobo-clara)&amp;mobileaction=toggle_view_mobile" class="noprint stopMobileRedirectToggle">Mobile view</a></li>
							</ul>
										<ul id="footer-icons" class="noprint">
										<li id="footer-copyrightico">
						<a href="https://creativecommons.org/licenses/by-sa/4.0/"><img src="../cc-by-sa.png" alt="Creative Commons Attribution-ShareAlike" width="88" height="31"></a>					</li>
										<li id="footer-poweredbyico">
						<a href="https://www.mediawiki.org/"><img src="../poweredby_mediawiki_88x31.png" alt="Powered by MediaWiki" srcset="" width="88" height="31"></a>					</li>
									</ul>
						<div style="clear: both;"></div>
		</div>
		

</body>
</html>
