<!DOCTYPE html>
<html class="client-nojs vector-feature-language-in-header-enabled vector-feature-language-in-main-page-header-disabled vector-feature-sticky-header-disabled vector-feature-page-tools-pinned-disabled vector-feature-toc-pinned-clientpref-1 vector-feature-main-menu-pinned-disabled vector-feature-limited-width-clientpref-1 vector-feature-limited-width-content-enabled vector-feature-custom-font-size-clientpref-0 vector-feature-appearance-pinned-clientpref-1 vector-feature-night-mode-disabled skin-theme-clientpref-day vector-toc-available" lang="en" dir="ltr">
<head>
<meta charset="UTF-8">
<title>Fairphone 5 (fairphone-fp5)/Audio - postmarketOS Wiki</title>
<link rel="stylesheet" href="../PostmarketOSWikiOffline.css">
<meta name="ResourceLoaderDynamicStyles" content="">
<meta name="generator" content="MediaWiki 1.43.2">
<meta name="robots" content="max-image-preview:standard">
<meta name="format-detection" content="telephone=no">
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes, minimum-scale=0.25, maximum-scale=5.0">
<link rel="search" type="application/opensearchdescription+xml" href="/rest.php/v1/search" title="postmarketOS Wiki (en)">
<link rel="EditURI" type="application/rsd+xml" href="https://wiki.postmarketos.org/api.php?action=rsd">
<link rel="license" href="https://creativecommons.org/licenses/by-sa/4.0/">
<link rel="alternate" type="application/atom+xml" title="postmarketOS Wiki Atom feed" href="/index.php?title=Special:RecentChanges&amp;feed=atom">
</head>
<body class="skin--responsive skin-vector skin-vector-search-vue mediawiki ltr sitedir-ltr mw-hide-empty-elt ns-0 ns-subject page-Fairphone_5_fairphone-fp5_Audio rootpage-Fairphone_5_fairphone-fp5_Audio skin-vector-2022 action-view">
<a class="mw-jump-link" href="#bodyContent">Jump to content</a>
<div class="vector-header-container">
	<header class="vector-header mw-header">
		<div class="vector-header-start">
			<nav class="vector-main-menu-landmark" aria-label="Site">
				
<div id="vector-main-menu-dropdown" class="vector-dropdown vector-main-menu-dropdown vector-button-flush-left vector-button-flush-right">
	<input type="checkbox" id="vector-main-menu-dropdown-checkbox" role="button" aria-haspopup="true" data-event-name="ui.dropdown-vector-main-menu-dropdown" class="vector-dropdown-checkbox " aria-label="Main menu">
	<label id="vector-main-menu-dropdown-label" for="vector-main-menu-dropdown-checkbox" class="vector-dropdown-label cdx-button cdx-button--fake-button cdx-button--fake-button--enabled cdx-button--weight-quiet cdx-button--icon-only " aria-hidden="true"><span class="vector-icon mw-ui-icon-menu mw-ui-icon-wikimedia-menu"></span>

<span class="vector-dropdown-label-text">Main menu</span>
	</label>
	<div class="vector-dropdown-content">


				<div id="vector-main-menu-unpinned-container" class="vector-unpinned-container">
		
<div id="vector-main-menu" class="vector-main-menu vector-pinnable-element">
	<div class="vector-pinnable-header vector-main-menu-pinnable-header vector-pinnable-header-unpinned" data-feature-name="main-menu-pinned" data-pinnable-element-id="vector-main-menu" data-pinned-container-id="vector-main-menu-pinned-container" data-unpinned-container-id="vector-main-menu-unpinned-container">
	<div class="vector-pinnable-header-label">Main menu</div>
	<button class="vector-pinnable-header-toggle-button vector-pinnable-header-pin-button" data-event-name="pinnable-header.vector-main-menu.pin">move to sidebar</button>
	<button class="vector-pinnable-header-toggle-button vector-pinnable-header-unpin-button" data-event-name="pinnable-header.vector-main-menu.unpin">hide</button>
</div>

	
<div id="p-navigation" class="vector-menu mw-portlet mw-portlet-navigation">
	<div class="vector-menu-heading">
		Navigation
	</div>
	<div class="vector-menu-content">
		
		<ul class="vector-menu-content-list">
			
			<li id="n-mainpage-description" class="mw-list-item"><a href="../en/Main_Page.html" title="Visit the main page [z]" accesskey="z"><span>Main page</span></a></li>
<li id="n-Devices" class="mw-list-item"><a href="../en/Devices.html"><span>Devices</span></a></li>
<li id="n-Installation" class="mw-list-item"><a href="../en/Installation.html"><span>Installation</span></a></li>
<li id="n-Troubleshooting" class="mw-list-item"><a href="../en/Category:Troubleshooting.html"><span>Troubleshooting</span></a></li>
<li id="n-Guides" class="mw-list-item"><a href="../en/Category:Guide.html"><span>Guides</span></a></li>
<li id="n-Interfaces" class="mw-list-item"><a href="../en/Category:Interface.html"><span>Interfaces</span></a></li>
<li id="n-Applications" class="mw-list-item"><a href="../en/Applications_by_category.html"><span>Applications</span></a></li>
		</ul>
		
	</div>
</div>

	
	
<div id="p-Wiki" class="vector-menu mw-portlet mw-portlet-Wiki">
	<div class="vector-menu-heading">
		Wiki
	</div>
	<div class="vector-menu-content">
		
		<ul class="vector-menu-content-list">
			
			<li id="n-Editor's-guide" class="mw-list-item"><a href="../en/Help:Wiki_editor's_guide.html"><span>Editor's guide</span></a></li>
<li id="n-recentchanges" class="mw-list-item"><a href="../Special:RecentChanges.html" title="A list of recent changes in the wiki [r]" accesskey="r"><span>Recent changes</span></a></li>
<li id="n-randompage" class="mw-list-item"><a href="../Special:Random.html" title="Load a random page [x]" accesskey="x"><span>Random page</span></a></li>
<li id="n-Templates" class="mw-list-item"><a href="../en/PostmarketOS:Templates.html"><span>Templates</span></a></li>
		</ul>
		
	</div>
</div>

</div>

				</div>

	</div>
</div>

		</nav>
			
<a href="../en/Main_Page.html" class="mw-logo">
	<img class="mw-logo-icon" src="/logo_50x50.svg" alt="" aria-hidden="true" height="50" width="50">
	<span class="mw-logo-container skin-invert">
		<strong class="mw-logo-wordmark">postmarketOS Wiki</strong>
	</span>
</a>

		</div>
		<div class="vector-header-end">
			
<div id="p-search" role="search" class="vector-search-box-vue  vector-search-box-collapses vector-search-box-show-thumbnail vector-search-box-auto-expand-width vector-search-box">
	<a href="../Special:Search.html" class="cdx-button cdx-button--fake-button cdx-button--fake-button--enabled cdx-button--weight-quiet cdx-button--icon-only search-toggle" title="Search postmarketOS Wiki [f]" accesskey="f"><span class="vector-icon mw-ui-icon-search mw-ui-icon-wikimedia-search"></span>

<span>Search</span>
	</a>
	<div class="vector-typeahead-search-container">
		<div class="cdx-typeahead-search cdx-typeahead-search--show-thumbnail cdx-typeahead-search--auto-expand-width">
			<form action="/index.php" id="searchform" class="cdx-search-input cdx-search-input--has-end-button">
				<div id="simpleSearch" class="cdx-search-input__input-wrapper" data-search-loc="header-moved">
					<div class="cdx-text-input cdx-text-input--has-start-icon">
						<input class="cdx-text-input__input" type="search" name="search" placeholder="Search postmarketOS Wiki" aria-label="Search postmarketOS Wiki" autocapitalize="sentences" title="Search postmarketOS Wiki [f]" accesskey="f" id="searchInput">
						<span class="cdx-text-input__icon cdx-text-input__start-icon"></span>
					</div>
					<input type="hidden" name="title" value="Special:Search">
				</div>
				<button class="cdx-button cdx-search-input__end-button">Search</button>
			</form>
		</div>
	</div>
</div>

			<nav class="vector-user-links vector-user-links-wide" aria-label="Personal tools">
	<div class="vector-user-links-main">
	
<div id="p-vector-user-menu-preferences" class="vector-menu mw-portlet emptyPortlet">
	<div class="vector-menu-content">
		
		<ul class="vector-menu-content-list">
			
			
		</ul>
		
	</div>
</div>

	
<div id="p-vector-user-menu-userpage" class="vector-menu mw-portlet emptyPortlet">
	<div class="vector-menu-content">
		
		<ul class="vector-menu-content-list">
			
			
		</ul>
		
	</div>
</div>

	<nav class="vector-appearance-landmark" aria-label="Appearance">
		
<div id="vector-appearance-dropdown" class="vector-dropdown " title="Change the appearance of the page's font size, width, and color">
	<input type="checkbox" id="vector-appearance-dropdown-checkbox" role="button" aria-haspopup="true" data-event-name="ui.dropdown-vector-appearance-dropdown" class="vector-dropdown-checkbox " aria-label="Appearance">
	<label id="vector-appearance-dropdown-label" for="vector-appearance-dropdown-checkbox" class="vector-dropdown-label cdx-button cdx-button--fake-button cdx-button--fake-button--enabled cdx-button--weight-quiet cdx-button--icon-only " aria-hidden="true"><span class="vector-icon mw-ui-icon-appearance mw-ui-icon-wikimedia-appearance"></span>

<span class="vector-dropdown-label-text">Appearance</span>
	</label>
	<div class="vector-dropdown-content">


			<div id="vector-appearance-unpinned-container" class="vector-unpinned-container">
				
			</div>
		
	</div>
</div>

	</nav>
	
<div id="p-vector-user-menu-notifications" class="vector-menu mw-portlet emptyPortlet">
	<div class="vector-menu-content">
		
		<ul class="vector-menu-content-list">
			
			
		</ul>
		
	</div>
</div>

	
<div id="p-vector-user-menu-overflow" class="vector-menu mw-portlet">
	<div class="vector-menu-content">
		
		<ul class="vector-menu-content-list">
			<li id="pt-login-2" class="user-links-collapsible-item mw-list-item user-links-collapsible-item">
<a data-mw="interface" href="/index.php?title=Special:UserLogin&amp;returnto=Fairphone+5+%28fairphone-fp5%29%2FAudio" title="You are encouraged to log in; however, it is not mandatory [o]" accesskey="o" class=""><span>Log in</span></a>
</li>
<li id="pt-createaccount-2" class="user-links-collapsible-item mw-list-item user-links-collapsible-item">
<a data-mw="interface" href="../Special:RequestAccount.html" title="You are encouraged to create an account and log in; however, it is not mandatory" class=""><span>Request account</span></a>
</li>

			
		</ul>
		
	</div>
</div>

	</div>
	
<div id="vector-user-links-dropdown" class="vector-dropdown vector-user-menu vector-button-flush-right vector-user-menu-logged-out user-links-collapsible-item" title="More options">
	<input type="checkbox" id="vector-user-links-dropdown-checkbox" role="button" aria-haspopup="true" data-event-name="ui.dropdown-vector-user-links-dropdown" class="vector-dropdown-checkbox " aria-label="Personal tools">
	<label id="vector-user-links-dropdown-label" for="vector-user-links-dropdown-checkbox" class="vector-dropdown-label cdx-button cdx-button--fake-button cdx-button--fake-button--enabled cdx-button--weight-quiet cdx-button--icon-only " aria-hidden="true"><span class="vector-icon mw-ui-icon-ellipsis mw-ui-icon-wikimedia-ellipsis"></span>

<span class="vector-dropdown-label-text">Personal tools</span>
	</label>
	<div class="vector-dropdown-content">


		
<div id="p-personal" class="vector-menu mw-portlet mw-portlet-personal user-links-collapsible-item" title="User menu">
	<div class="vector-menu-content">
		
		<ul class="vector-menu-content-list">
			
			<li id="pt-login" class="user-links-collapsible-item mw-list-item"><a href="/index.php?title=Special:UserLogin&amp;returnto=Fairphone+5+%28fairphone-fp5%29%2FAudio" title="You are encouraged to log in; however, it is not mandatory [o]" accesskey="o"><span class="vector-icon mw-ui-icon-logIn mw-ui-icon-wikimedia-logIn"></span> <span>Log in</span></a></li>
<li id="pt-createaccount" class="user-links-collapsible-item mw-list-item"><a href="../Special:RequestAccount.html" title="You are encouraged to create an account and log in; however, it is not mandatory"><span>Request account</span></a></li>
		</ul>
		
	</div>
</div>

	
	</div>
</div>

</nav>

		</div>
	</header>
</div>
<div class="mw-page-container">
	<div class="mw-page-container-inner">
		<div class="vector-sitenotice-container">
			<div id="siteNotice"></div>
		</div>
		<div class="vector-column-start">
			<div class="vector-main-menu-container">
		</div>
	<div class="vector-sticky-pinned-container">
				<nav id="mw-panel-toc" aria-label="Contents" data-event-name="ui.sidebar-toc" class="mw-table-of-contents-container vector-toc-landmark">
					<div id="vector-toc-pinned-container" class="vector-pinned-container">
					<div id="vector-toc" class="vector-toc vector-pinnable-element">
	<div class="vector-pinnable-header vector-toc-pinnable-header vector-pinnable-header-pinned" data-feature-name="toc-pinned" data-pinnable-element-id="vector-toc">
	<h2 class="vector-pinnable-header-label">Contents</h2>
	<button class="vector-pinnable-header-toggle-button vector-pinnable-header-pin-button" data-event-name="pinnable-header.vector-toc.pin">move to sidebar</button>
	<button class="vector-pinnable-header-toggle-button vector-pinnable-header-unpin-button" data-event-name="pinnable-header.vector-toc.unpin">hide</button>
</div>


	<ul class="vector-toc-contents" id="mw-panel-toc-list">
		<li id="toc-mw-content-text" class="vector-toc-list-item vector-toc-level-1">
			<a href="#" class="vector-toc-link">
				<div class="vector-toc-text">Beginning</div>
			</a>
		</li>
		<li id="toc-Current_status" class="vector-toc-list-item vector-toc-level-1 vector-toc-list-item-expanded">
		<a class="vector-toc-link" href="#Current_status">
			<div class="vector-toc-text">
				<span class="vector-toc-numb">1</span>
				<span>Current status</span>
			</div>
		</a>
		
			<button aria-controls="toc-Current_status-sublist" class="cdx-button cdx-button--weight-quiet cdx-button--icon-only vector-toc-toggle">
				<span class="vector-icon mw-ui-icon-wikimedia-expand"></span>
				<span>Toggle Current status subsection</span>
			</button>
		
		<ul id="toc-Current_status-sublist" class="vector-toc-list">
			<li id="toc-What_works" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#What_works">
				<div class="vector-toc-text">
					<span class="vector-toc-numb">1.1</span>
					<span>What works</span>
				</div>
			</a>
			
			<ul id="toc-What_works-sublist" class="vector-toc-list">
			</ul>
		</li>
	</ul>
	</li>
	<li id="toc-Hardware" class="vector-toc-list-item vector-toc-level-1 vector-toc-list-item-expanded">
		<a class="vector-toc-link" href="#Hardware">
			<div class="vector-toc-text">
				<span class="vector-toc-numb">2</span>
				<span>Hardware</span>
			</div>
		</a>
		
			<button aria-controls="toc-Hardware-sublist" class="cdx-button cdx-button--weight-quiet cdx-button--icon-only vector-toc-toggle">
				<span class="vector-icon mw-ui-icon-wikimedia-expand"></span>
				<span>Toggle Hardware subsection</span>
			</button>
		
		<ul id="toc-Hardware-sublist" class="vector-toc-list">
			<li id="toc-Resources" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Resources">
				<div class="vector-toc-text">
					<span class="vector-toc-numb">2.1</span>
					<span>Resources</span>
				</div>
			</a>
			
			<ul id="toc-Resources-sublist" class="vector-toc-list">
			</ul>
		</li>
	</ul>
	</li>
	<li id="toc-Driver_support" class="vector-toc-list-item vector-toc-level-1 vector-toc-list-item-expanded">
		<a class="vector-toc-link" href="#Driver_support">
			<div class="vector-toc-text">
				<span class="vector-toc-numb">3</span>
				<span>Driver support</span>
			</div>
		</a>
		
		<ul id="toc-Driver_support-sublist" class="vector-toc-list">
		</ul>
	</li>
	<li id="toc-Firmware" class="vector-toc-list-item vector-toc-level-1 vector-toc-list-item-expanded">
		<a class="vector-toc-link" href="#Firmware">
			<div class="vector-toc-text">
				<span class="vector-toc-numb">4</span>
				<span>Firmware</span>
			</div>
		</a>
		
		<ul id="toc-Firmware-sublist" class="vector-toc-list">
		</ul>
	</li>
	<li id="toc-Relevant_devices" class="vector-toc-list-item vector-toc-level-1 vector-toc-list-item-expanded">
		<a class="vector-toc-link" href="#Relevant_devices">
			<div class="vector-toc-text">
				<span class="vector-toc-numb">5</span>
				<span>Relevant devices</span>
			</div>
		</a>
		
		<ul id="toc-Relevant_devices-sublist" class="vector-toc-list">
		</ul>
	</li>
	<li id="toc-In-kernel_device_tree" class="vector-toc-list-item vector-toc-level-1 vector-toc-list-item-expanded">
		<a class="vector-toc-link" href="#In-kernel_device_tree">
			<div class="vector-toc-text">
				<span class="vector-toc-numb">6</span>
				<span>In-kernel device tree</span>
			</div>
		</a>
		
			<button aria-controls="toc-In-kernel_device_tree-sublist" class="cdx-button cdx-button--weight-quiet cdx-button--icon-only vector-toc-toggle">
				<span class="vector-icon mw-ui-icon-wikimedia-expand"></span>
				<span>Toggle In-kernel device tree subsection</span>
			</button>
		
		<ul id="toc-In-kernel_device_tree-sublist" class="vector-toc-list">
			<li id="toc-Resources_2" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Resources_2">
				<div class="vector-toc-text">
					<span class="vector-toc-numb">6.1</span>
					<span>Resources</span>
				</div>
			</a>
			
			<ul id="toc-Resources_2-sublist" class="vector-toc-list">
			</ul>
		</li>
	</ul>
	</li>
	<li id="toc-Kernel_WIP_for_AW88261" class="vector-toc-list-item vector-toc-level-1 vector-toc-list-item-expanded">
		<a class="vector-toc-link" href="#Kernel_WIP_for_AW88261">
			<div class="vector-toc-text">
				<span class="vector-toc-numb">7</span>
				<span>Kernel WIP for AW88261</span>
			</div>
		</a>
		
		<ul id="toc-Kernel_WIP_for_AW88261-sublist" class="vector-toc-list">
		</ul>
	</li>
	<li id="toc-Kernel_WIP_for_WCD9385" class="vector-toc-list-item vector-toc-level-1 vector-toc-list-item-expanded">
		<a class="vector-toc-link" href="#Kernel_WIP_for_WCD9385">
			<div class="vector-toc-text">
				<span class="vector-toc-numb">8</span>
				<span>Kernel WIP for WCD9385</span>
			</div>
		</a>
		
			<button aria-controls="toc-Kernel_WIP_for_WCD9385-sublist" class="cdx-button cdx-button--weight-quiet cdx-button--icon-only vector-toc-toggle">
				<span class="vector-icon mw-ui-icon-wikimedia-expand"></span>
				<span>Toggle Kernel WIP for WCD9385 subsection</span>
			</button>
		
		<ul id="toc-Kernel_WIP_for_WCD9385-sublist" class="vector-toc-list">
			<li id="toc-Resources_3" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Resources_3">
				<div class="vector-toc-text">
					<span class="vector-toc-numb">8.1</span>
					<span>Resources</span>
				</div>
			</a>
			
			<ul id="toc-Resources_3-sublist" class="vector-toc-list">
			</ul>
		</li>
	</ul>
	</li>
	<li id="toc-ALSA_WIP" class="vector-toc-list-item vector-toc-level-1 vector-toc-list-item-expanded">
		<a class="vector-toc-link" href="#ALSA_WIP">
			<div class="vector-toc-text">
				<span class="vector-toc-numb">9</span>
				<span>ALSA WIP</span>
			</div>
		</a>
		
			<button aria-controls="toc-ALSA_WIP-sublist" class="cdx-button cdx-button--weight-quiet cdx-button--icon-only vector-toc-toggle">
				<span class="vector-icon mw-ui-icon-wikimedia-expand"></span>
				<span>Toggle ALSA WIP subsection</span>
			</button>
		
		<ul id="toc-ALSA_WIP-sublist" class="vector-toc-list">
			<li id="toc-Resources_4" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Resources_4">
				<div class="vector-toc-text">
					<span class="vector-toc-numb">9.1</span>
					<span>Resources</span>
				</div>
			</a>
			
			<ul id="toc-Resources_4-sublist" class="vector-toc-list">
			</ul>
		</li>
	</ul>
	</li>
	<li id="toc-Some_open_questions" class="vector-toc-list-item vector-toc-level-1 vector-toc-list-item-expanded">
		<a class="vector-toc-link" href="#Some_open_questions">
			<div class="vector-toc-text">
				<span class="vector-toc-numb">10</span>
				<span>Some open questions</span>
			</div>
		</a>
		
		<ul id="toc-Some_open_questions-sublist" class="vector-toc-list">
		</ul>
	</li>
	<li id="toc-How_to_get_involved" class="vector-toc-list-item vector-toc-level-1 vector-toc-list-item-expanded">
		<a class="vector-toc-link" href="#How_to_get_involved">
			<div class="vector-toc-text">
				<span class="vector-toc-numb">11</span>
				<span>How to get involved</span>
			</div>
		</a>
		
			<button aria-controls="toc-How_to_get_involved-sublist" class="cdx-button cdx-button--weight-quiet cdx-button--icon-only vector-toc-toggle">
				<span class="vector-icon mw-ui-icon-wikimedia-expand"></span>
				<span>Toggle How to get involved subsection</span>
			</button>
		
		<ul id="toc-How_to_get_involved-sublist" class="vector-toc-list">
			<li id="toc-Resources_5" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Resources_5">
				<div class="vector-toc-text">
					<span class="vector-toc-numb">11.1</span>
					<span>Resources</span>
				</div>
			</a>
			
			<ul id="toc-Resources_5-sublist" class="vector-toc-list">
			</ul>
		</li>
	</ul>
	</li>
</ul>
</div>

					</div>
		</nav>
			</div>
		</div>
		<div class="mw-content-container">
			<main id="content" class="mw-body" style="margin: 0">
				<header class="mw-body-header vector-page-titlebar">
					<nav aria-label="Contents" class="vector-toc-landmark">
						
<div id="vector-page-titlebar-toc" class="vector-dropdown vector-page-titlebar-toc vector-button-flush-left">
	<input type="checkbox" id="vector-page-titlebar-toc-checkbox" role="button" aria-haspopup="true" data-event-name="ui.dropdown-vector-page-titlebar-toc" class="vector-dropdown-checkbox " aria-label="Toggle the table of contents">
	<label id="vector-page-titlebar-toc-label" for="vector-page-titlebar-toc-checkbox" class="vector-dropdown-label cdx-button cdx-button--fake-button cdx-button--fake-button--enabled cdx-button--weight-quiet cdx-button--icon-only " aria-hidden="true"><span class="vector-icon mw-ui-icon-listBullet mw-ui-icon-wikimedia-listBullet"></span>

<span class="vector-dropdown-label-text">Toggle the table of contents</span>
	</label>
	<div class="vector-dropdown-content">


							<div id="vector-page-titlebar-toc-unpinned-container" class="vector-unpinned-container">
			</div>
		
	</div>
</div>

					</nav>
					<h1 id="firstHeading" class="firstHeading mw-first-heading"><span class="mw-page-title-main">Fairphone 5 (fairphone-fp5)/Audio</span></h1>
				</header>
				<div class="vector-page-toolbar">
					<div class="vector-page-toolbar-container">
						<div id="left-navigation">
							<nav aria-label="Namespaces">
								
<div id="p-associated-pages" class="vector-menu vector-menu-tabs mw-portlet mw-portlet-associated-pages">
	<div class="vector-menu-content">
		
		<ul class="vector-menu-content-list">
			
			<li id="ca-nstab-main" class="selected vector-tab-noicon mw-list-item"><a href="../en/Fairphone_5_(fairphone-fp5)_Audio.html" title="View the content page [c]" accesskey="c"><span>Page</span></a></li>
<li id="ca-talk" class="new vector-tab-noicon mw-list-item"><a href="/index.php?title=Talk:Fairphone_5_(fairphone-fp5)/Audio&amp;action=edit&amp;redlink=1" rel="discussion" class="new" title="Discussion about the content page (page does not exist) [t]" accesskey="t"><span>Discussion</span></a></li>
		</ul>
		
	</div>
</div>

								
<div id="vector-variants-dropdown" class="vector-dropdown emptyPortlet">
	<input type="checkbox" id="vector-variants-dropdown-checkbox" role="button" aria-haspopup="true" data-event-name="ui.dropdown-vector-variants-dropdown" class="vector-dropdown-checkbox " aria-label="Change language variant">
	<label id="vector-variants-dropdown-label" for="vector-variants-dropdown-checkbox" class="vector-dropdown-label cdx-button cdx-button--fake-button cdx-button--fake-button--enabled cdx-button--weight-quiet" aria-hidden="true"><span class="vector-dropdown-label-text">English</span>
	</label>
	<div class="vector-dropdown-content">


					
<div id="p-variants" class="vector-menu mw-portlet mw-portlet-variants emptyPortlet">
	<div class="vector-menu-content">
		
		<ul class="vector-menu-content-list">
			
			
		</ul>
		
	</div>
</div>

				
	</div>
</div>

							</nav>
						</div>
						<div id="right-navigation" class="vector-collapsible">
							<nav aria-label="Views">
								
<div id="p-views" class="vector-menu vector-menu-tabs mw-portlet mw-portlet-views">
	<div class="vector-menu-content">
		
		<ul class="vector-menu-content-list">
			
			<li id="ca-view" class="selected vector-tab-noicon mw-list-item"><a href="../en/Fairphone_5_(fairphone-fp5)_Audio.html"><span>Read</span></a></li>
<li id="ca-viewsource" class="vector-tab-noicon mw-list-item"><a href="/index.php?title=Fairphone_5_(fairphone-fp5)/Audio&amp;action=edit" title="This page is protected.
You can view its source [e]" accesskey="e"><span>View source</span></a></li>
<li id="ca-history" class="vector-tab-noicon mw-list-item"><a href="/index.php?title=Fairphone_5_(fairphone-fp5)/Audio&amp;action=history" title="Past revisions of this page [h]" accesskey="h"><span>View history</span></a></li>
		</ul>
		
	</div>
</div>

							</nav>
				
							<nav class="vector-page-tools-landmark" aria-label="Page tools">
								
<div id="vector-page-tools-dropdown" class="vector-dropdown vector-page-tools-dropdown">
	<input type="checkbox" id="vector-page-tools-dropdown-checkbox" role="button" aria-haspopup="true" data-event-name="ui.dropdown-vector-page-tools-dropdown" class="vector-dropdown-checkbox " aria-label="Tools">
	<label id="vector-page-tools-dropdown-label" for="vector-page-tools-dropdown-checkbox" class="vector-dropdown-label cdx-button cdx-button--fake-button cdx-button--fake-button--enabled cdx-button--weight-quiet" aria-hidden="true"><span class="vector-dropdown-label-text">Tools</span>
	</label>
	<div class="vector-dropdown-content">


									<div id="vector-page-tools-unpinned-container" class="vector-unpinned-container">
						
<div id="vector-page-tools" class="vector-page-tools vector-pinnable-element">
	<div class="vector-pinnable-header vector-page-tools-pinnable-header vector-pinnable-header-unpinned" data-feature-name="page-tools-pinned" data-pinnable-element-id="vector-page-tools" data-pinned-container-id="vector-page-tools-pinned-container" data-unpinned-container-id="vector-page-tools-unpinned-container">
	<div class="vector-pinnable-header-label">Tools</div>
	<button class="vector-pinnable-header-toggle-button vector-pinnable-header-pin-button" data-event-name="pinnable-header.vector-page-tools.pin">move to sidebar</button>
	<button class="vector-pinnable-header-toggle-button vector-pinnable-header-unpin-button" data-event-name="pinnable-header.vector-page-tools.unpin">hide</button>
</div>

	
<div id="p-cactions" class="vector-menu mw-portlet mw-portlet-cactions vector-has-collapsible-items" title="More options">
	<div class="vector-menu-heading">
		Actions
	</div>
	<div class="vector-menu-content">
		
		<ul class="vector-menu-content-list">
			
			<li id="ca-more-view" class="selected vector-more-collapsible-item mw-list-item"><a href="../en/Fairphone_5_(fairphone-fp5)_Audio.html"><span>Read</span></a></li>
<li id="ca-more-viewsource" class="vector-more-collapsible-item mw-list-item"><a href="/index.php?title=Fairphone_5_(fairphone-fp5)/Audio&amp;action=edit"><span>View source</span></a></li>
<li id="ca-more-history" class="vector-more-collapsible-item mw-list-item"><a href="/index.php?title=Fairphone_5_(fairphone-fp5)/Audio&amp;action=history"><span>View history</span></a></li>
<li id="ca-cargo-purge" class="mw-list-item"><a href="/index.php?title=Fairphone_5_(fairphone-fp5)/Audio&amp;action=purge"><span>Purge cache</span></a></li>
		</ul>
		
	</div>
</div>

<div id="p-tb" class="vector-menu mw-portlet mw-portlet-tb">
	<div class="vector-menu-heading">
		General
	</div>
	<div class="vector-menu-content">
		
		<ul class="vector-menu-content-list">
			
			<li id="t-whatlinkshere" class="mw-list-item"><a href="../Special:WhatLinksHere_Fairphone_5_(fairphone-fp5)_Audio.html" title="A list of all wiki pages that link here [j]" accesskey="j"><span>What links here</span></a></li>
<li id="t-recentchangeslinked" class="mw-list-item"><a href="../Special:RecentChangesLinked_Fairphone_5_(fairphone-fp5)_Audio.html" rel="nofollow" title="Recent changes in pages linked from this page [k]" accesskey="k"><span>Related changes</span></a></li>
<li id="t-specialpages" class="mw-list-item"><a href="../Special:SpecialPages.html" title="A list of all special pages [q]" accesskey="q"><span>Special pages</span></a></li>
<li id="t-print" class="mw-list-item"><a href="javascript:print();" rel="alternate" title="Printable version of this page [p]" accesskey="p"><span>Printable version</span></a></li>
<li id="t-permalink" class="mw-list-item"><a href="/index.php?title=Fairphone_5_(fairphone-fp5)/Audio&amp;oldid=79757" title="Permanent link to this revision of this page"><span>Permanent link</span></a></li>
<li id="t-info" class="mw-list-item"><a href="/index.php?title=Fairphone_5_(fairphone-fp5)/Audio&amp;action=info" title="More information about this page"><span>Page information</span></a></li>
<li id="t-cargopagevalueslink" class="mw-list-item"><a href="/index.php?title=Fairphone_5_(fairphone-fp5)/Audio&amp;action=pagevalues" rel="cargo-pagevalues"><span>Cargo data</span></a></li>
		</ul>
		
	</div>
</div>

</div>

									</div>
				
	</div>
</div>

							</nav>
						</div>
					</div>
				</div>
				<div class="vector-column-end">
					<div class="vector-sticky-pinned-container">
						<nav class="vector-page-tools-landmark" aria-label="Page tools">
							<div id="vector-page-tools-pinned-container" class="vector-pinned-container">
				
							</div>
		</nav>
						<nav class="vector-appearance-landmark" aria-label="Appearance">
							<div id="vector-appearance-pinned-container" class="vector-pinned-container">
				<div id="vector-appearance" class="vector-appearance vector-pinnable-element">
	<div class="vector-pinnable-header vector-appearance-pinnable-header vector-pinnable-header-pinned" data-feature-name="appearance-pinned" data-pinnable-element-id="vector-appearance" data-pinned-container-id="vector-appearance-pinned-container" data-unpinned-container-id="vector-appearance-unpinned-container">
	<div class="vector-pinnable-header-label">Appearance</div>
	<button class="vector-pinnable-header-toggle-button vector-pinnable-header-pin-button" data-event-name="pinnable-header.vector-appearance.pin">move to sidebar</button>
	<button class="vector-pinnable-header-toggle-button vector-pinnable-header-unpin-button" data-event-name="pinnable-header.vector-appearance.unpin">hide</button>
</div>


</div>

							</div>
		</nav>
					</div>
				</div>
				<div id="bodyContent" class="vector-body" aria-labelledby="firstHeading" data-mw-ve-target-container>
					<div class="vector-body-before-content">
							<div class="mw-indicators">
		</div>

						<div id="siteSub" class="noprint">From postmarketOS Wiki</div>
					</div>
					<div id="contentSub"><div id="mw-content-subtitle"></div></div>
					
					
					<div id="mw-content-text" class="mw-body-content">
<div class="mw-content-ltr mw-parser-output" lang="en" dir="ltr">
<div id="contentSub" style="margin-top: -8px; margin-bottom: 18px;">
<span class="subpages">&lt; <a href="../en/Fairphone_5_(fairphone-fp5).html" title="Fairphone 5 (fairphone-fp5)">Fairphone 5 (fairphone-fp5)</a></span>â€Ž</div>
<meta property="mw:PageProp/toc">
<h2><span class="mw-headline" id="Current_status">Current status</span></h2>
<p>Speaker output and microphone input is currently broken on <a href="../en/Fairphone_5_(fairphone-fp5).html" title="Fairphone 5 (fairphone-fp5)">Fairphone 5 (fairphone-fp5)</a>. This issue attempts to summarise the current state of progress, pull together necessary resources into one place and hopefully help people get involved more easily.
</p>
<p>Currently, all relevant drivers for audio are in the mainline kernel. Each one of them is known to work on different hardware (and in different combinations), but the sound does not work on the FP5 yet. 
</p>
<p>Speaker playback through AW88261 causes a kernel crash. It is likely that the device tree is not entirely correct yet. It is also possible that the combination of needed drivers is triggering some new bug in one of the drivers.
</p>
<p>Microphone input through the WCD9385 codec does not currently work (on any device, to my knowledge). WCD also handles analogue headphones, which does work.
</p>
<h3><span class="mw-headline" id="What_works">What works</span></h3>
<p>Bluetooth and USB-C audio work fine out of the box. 
</p>
<p>DP/HDMI sound output works fine but currently requires restarting pulseaudio after connecting the display (killall pulseaudio). After restarting pulseaudio, sound should be routed through HDMI/DP without problems. This appears to be a known wider problem (not device-specific).
</p>
<p>Analogue headphones (though a USB adapter) can be made to work, but this is currently in a development branch and not in the main kernel package.
</p>
<h2><span class="mw-headline" id="Hardware">Hardware</span></h2>
<p>FP5 uses Qualcomm QCM6490 SoC (yupik). This is closely related to SM7325 and SC7280 (see wiki entry linked below).
</p>
<p>Sound is handled by two separate codec chips. The on-board Qualcomm WCD9385 handles the four microphones and the analogue headphones (through USB dongle). The speaker output is handled by the awinic AW88261 digital amp and codec. 
</p>
<p>AW88261 receives digital audio via the I2S bus, decodes it, amplifies it and drives the onboard speakers. WCD is not involved in this process. I2S can carry multiple signals (primary, secondary, etc.). On the FP5, the QCM6490 connects to the AW88261 via quinary I2S (see schematics below).
</p>
<p>WCD9385 communicates to mics via SoundWire (AMIC1, AMIC3, AMIC4). It communicates with headphones (WCD_HPH) and AMIC2 via Type-C audio. There is also AUX, but I'm not sure if that's relevant for us, likely not a priority.
</p>
<p>Qualcomm chips have a complex routing infrastructure that allows different parts of the SoC to communicate. This is handled by the mainline qcom drivers and (AFAIK) works fine.
</p>
<h3><span class="mw-headline" id="Resources">Resources</span></h3>
<ul>
<li>FP5 wiki page: <a rel="nofollow" class="external free" href="https://wiki.postmarketos.org/wiki/Fairphone_5_(fairphone-fp5)">https://wiki.postmarketos.org/wiki/Fairphone_5_(fairphone-fp5)</a>
</li>
<li>SoC wiki page: <a rel="nofollow" class="external free" href="https://wiki.postmarketos.org/wiki/Qualcomm_Snapdragon_778G/778G%2B/782G_(SM7325)">https://wiki.postmarketos.org/wiki/Qualcomm_Snapdragon_778G/778G%2B/782G_(SM7325)</a>
</li>
<li>FP5 mainlining status: <a rel="nofollow" class="external free" href="https://wiki.postmarketos.org/wiki/User:Z3ntu/Fairphone5-mainline">https://wiki.postmarketos.org/wiki/User:Z3ntu/Fairphone5-mainline</a>
</li>
<li>FP5 schematics: <a rel="nofollow" class="external free" href="https://www.fairphone.com/wp-content/uploads/2024/02/Fairphone5_Information-on-how-to-repair-and-recycle-SCH-09-02-2024.pdf">https://www.fairphone.com/wp-content/uploads/2024/02/Fairphone5_Information-on-how-to-repair-and-recycle-SCH-09-02-2024.pdf</a>
</li>
<li>AW88261 datasheet: <a rel="nofollow" class="external free" href="https://www.awinic.com/en/productDetail/AW88261FCR">https://www.awinic.com/en/productDetail/AW88261FCR</a>
</li>
</ul>
<h2><span class="mw-headline" id="Driver_support">Driver support</span></h2>
<p>All relevant drivers are in mainline at the moment. QCM6490 is supported in Luca's sc7280 kernel fork (close to mainline). This includes all the complex code to enable audio routing inside the SoC. AW88261 has a mainline driver. This driver is thought to work because there are devices where this chip reported to work (xiaomi-pipa). 
</p>
<p>There is a downstream android driver for awinic sound chips. I have not experimented with this, but it was reported to not work reliably on mainline (very quiet sound) which could be due to differences between mainline and downstream qcom driver implementation. It is also hellish in terms of code quality and will probably never be mainlined. Because of this, most of the effort has gone into the existing mainline driver.
</p>
<p>WCD9385 also has a mainline driver that reportedly works on other hardware.
</p>
<h2><span class="mw-headline" id="Firmware">Firmware</span></h2>
<p>AW88261 requires firmware file aw882xx_acf.bin (MD5sum: 47e2e868a18b13bb3c43ab24ea4d7a4a). This can be extracted from the FP5 Android image and placed under /lib/firmware
</p>
<p>In the longer term, we probably want to add this to the firmware-fairphone-fp5 package (any reason not to do this now?)
</p>
<h2><span class="mw-headline" id="Relevant_devices">Relevant devices</span></h2>
<ul>
<li>Shiftphone 8 (shift-otter) uses the same SoC (QCM6490) but uses a different digital amp (no sound yet)</li>
<li>Nothing Phone 1 (nothing-spacewar) uses essentially the same SoC (SM7325-AE) but uses a different digital amp (Goodix TFA9873)</li>
<li>Xiaomi Pad 6 (xiaomi-pipa) uses a different SoC (SM8250-AC) but same digital amp (AW88261) and has working audio on mainline</li>
</ul>
<h2><span class="mw-headline" id="In-kernel_device_tree">In-kernel device tree</span></h2>
<p>Device tree is a structured description of the hardware. It is used by the kernel to load and initialise drivers. It is a key part of embedded/ARM kernel development and can be very confusing to those of us coming from the x86 world.
</p>
<p>The Fairphone 5 dts (device tree source) file contains most of the work needed to get sound working. It supplies information about connectivity, clocks, voltages, compatible drivers and similar detail that the kernel cannot discover on its own. FP5 device tree is defined in arch/arm64/boot/dts/qcom/qcm6490-fairphone-fp5.dts and includes a lot of information from related files (especially the sc7280 SoC) which means it takes time to understand how everything fits together.
</p>
<p>The relevant values for clocks and voltage regulators are mostly based on the reference SC7280 implementation and available schematics. Relevant sections for FP5 sound include (there are probably others): 
</p>
<ul>
<li>sound: for specifying sound driver and how to route signals</li>
<li>wcd9385: for wcd-related voltages and pinctrls</li>
<li>i2c2: for aw88261 codec connections via i2c</li>
<li>q6afedai: for specifying registers corresponding to I2S, displayport etc.</li>
</ul>
<h3><span class="mw-headline" id="Resources_2">Resources</span></h3>
<ul>
<li>Mainlining guide: <a rel="nofollow" class="external free" href="https://wiki.postmarketos.org/wiki/Mainlining_Guide#Device_Tree_Source">https://wiki.postmarketos.org/wiki/Mainlining_Guide#Device_Tree_Source</a>
</li>
<li>Learning resources: <a rel="nofollow" class="external free" href="https://wiki.postmarketos.org/wiki/Mainlining#Materials_to_look_into">https://wiki.postmarketos.org/wiki/Mainlining#Materials_to_look_into</a> (especially videos)</li>
<li>my WIP version: <a rel="nofollow" class="external free" href="https://github.com/cosmo-floss/linux/blob/cosmo-fp5-speaker/arch/arm64/boot/dts/qcom/qcm6490-fairphone-fp5.dts">https://github.com/cosmo-floss/linux/blob/cosmo-fp5-speaker/arch/arm64/boot/dts/qcom/qcm6490-fairphone-fp5.dts</a>
</li>
<li>Luca's blog (explains regulators etc): <a rel="nofollow" class="external free" href="https://mainlining.dev/">https://mainlining.dev/</a>
</li>
<li>embedded audio intro: <a rel="nofollow" class="external free" href="https://www.marcusfolkesson.se/blog/audio-and-embedded-linux/">https://www.marcusfolkesson.se/blog/audio-and-embedded-linux/</a>
</li>
</ul>
<h2><span class="mw-headline" id="Kernel_WIP_for_AW88261">Kernel WIP for AW88261</span></h2>
<p>There are three branches I'm aware of that contain work in progress on AW88261 on FP5:
</p>
<ul>
<li>Luca's initial work: <a rel="nofollow" class="external free" href="https://github.com/z3ntu/linux/commits/sc7280-6.9-wip-audio-speakeronly/">https://github.com/z3ntu/linux/commits/sc7280-6.9-wip-audio-speakeronly/</a>
</li>
<li>Manuel's Mobian work: <a rel="nofollow" class="external free" href="https://salsa.debian.org/Mobian-team/devices/kernels/qcom-linux/-/merge_requests/8">https://salsa.debian.org/Mobian-team/devices/kernels/qcom-linux/-/merge_requests/8</a>
</li>
<li>My WIP branch (cosmo): <a rel="nofollow" class="external free" href="https://github.com/cosmo-floss/linux/tree/cosmo-fp5-speaker">https://github.com/cosmo-floss/linux/tree/cosmo-fp5-speaker</a>
</li>
</ul>
<p>All of these branches are in a similar state as far as I'm aware. The relevant work is in the device tree: arch/arm64/boot/dts/qcom/qcm6490-fairphone-fp5.dts. This makes it easy to port changes to later kernels, so working on older kernel versions is OK.
</p>
<p>AW88261 starts up, a correct audio path can be set up (using amixer), but on attempting playback there is a crash (null dereference) in the kernel which (eventually) requires a reboot. 
</p>
<p>The crash does not happen in the AW88261 driver but the qcom driver. Interestingly, it appears to be related to Soundwire (which should not be used here, to my knowledge). I have done some debugging and could not find any null pointers being passed around but more investigation is needed. I suspect that something is not connected correctly (dts) so the driver gets invalid data.
</p>
<p>Kernel sources have useful documentation:
</p>
<ul>
<li>Reference implementation (yupik): sc7280-idp.dtsi</li>
<li>QCom documentation: Documentation/devicetree/bindings/sound</li>
</ul>
<h2><span class="mw-headline" id="Kernel_WIP_for_WCD9385">Kernel WIP for WCD9385</span></h2>
<p>I have done very little on this, but it probably makes sense to discuss WCD9385 in the same issue because it is possible that there are routing/qcom-related issues that affect all sound work.
</p>
<p>There were timing issues reported when trying to mainline WCD9385 on the FP5, not sure whether this ever got resolved: <a rel="nofollow" class="external free" href="https://patches.linaro.org/project/linux-arm-msm/patch/CXCXIAY8RBVK.2Y9W66THN9QH2@fairphone.com/">https://patches.linaro.org/project/linux-arm-msm/patch/CXCXIAY8RBVK.2Y9W66THN9QH2@fairphone.com/</a>
</p>
<p>There has been progress on this on nothing-spacewar (closely related SoC, same WCD codec). I don't think mics work on spacewar yet, and once they do, FP5 will probably need changes (due to individual mic biases and how they connect). The relevant commits from Mar 25 are linked below, I can't find the original branch anymore to see whether there was follow-up work on this (it was probably removed at some point).
</p>
<h3><span class="mw-headline" id="Resources_3">Resources</span></h3>
<ul>
<li>sm7325 mainlining work: <a rel="nofollow" class="external free" href="https://github.com/mainlining/linux/commits/b5ba9c818a8be20a21ef364078c9b50b9ee735c6/">https://github.com/mainlining/linux/commits/b5ba9c818a8be20a21ef364078c9b50b9ee735c6/</a>
</li>
<li>Luca's branch (probably best): <a rel="nofollow" class="external free" href="https://github.com/sc7280-mainline/linux/tree/sc7280-6.14.y-wip-wcd">https://github.com/sc7280-mainline/linux/tree/sc7280-6.14.y-wip-wcd</a>
</li>
<li>my branch (similar but untested): <a rel="nofollow" class="external free" href="https://github.com/cosmo-floss/linux/tree/cosmo-fp5-wcd">https://github.com/cosmo-floss/linux/tree/cosmo-fp5-wcd</a>
</li>
</ul>
<h2><span class="mw-headline" id="ALSA_WIP">ALSA WIP</span></h2>
<p>In order to test the sound, valid audio routes first need to be set. ALSA uses DAPM (dynamic audio power management) which is essential even if one is not interested in power management. This is because the kernel will only power up specific hardware (such as audio amp or speaker) if it is part of a valid audio path. Everything that is not part of a valid audio path (for example, headphone amp when headphones are not plugged in) is not powered up and will not produce sound. So to test whether sound works one will need to establish an audio path from a source to a sink (in this case it will terminate with AW88261 and then the speakers).
</p>
<p>This is normally handled via UCM profiles. These will need to be set up once kernel stuff works. At the moment, there is a profile for DP/HDMI sound and nothing else.
</p>
<p>In the meantime, one can establish routes manually using the amixer tool (see postmarketOS wiki linked below) in order to test if sound works. 
A valid route will be visible in several ways:
</p>
<ul>
<li>it should show up in pavucontrol</li>
<li>it can be plotted graphically</li>
<li>it can be inspected in /sys/kernel/debug/asoc</li>
</ul>
<h3><span class="mw-headline" id="Resources_4">Resources</span></h3>
<ul>
<li>kernel sound subsystem documentation: <a rel="nofollow" class="external free" href="https://www.kernel.org/doc/html/v6.16-rc2/sound/index.html">https://www.kernel.org/doc/html/v6.16-rc2/sound/index.html</a>
</li>
<li>ALSA SoC documentation: <a rel="nofollow" class="external free" href="https://www.kernel.org/doc/html/v6.16-rc2/sound/soc/index.html">https://www.kernel.org/doc/html/v6.16-rc2/sound/soc/index.html</a>
</li>
<li>DAPM documentation: <a rel="nofollow" class="external free" href="https://www.alsa-project.org/main/index.php/DAPM">https://www.alsa-project.org/main/index.php/DAPM</a>
</li>
<li>DAPM basics: <a rel="nofollow" class="external free" href="https://www.kernel.org/doc/html/latest/sound/soc/dapm.html">https://www.kernel.org/doc/html/latest/sound/soc/dapm.html</a>
</li>
<li>Alsa/UCM wiki page: <a rel="nofollow" class="external free" href="https://wiki.postmarketos.org/wiki/Alsa_UCM">https://wiki.postmarketos.org/wiki/Alsa_UCM</a>
</li>
<li>Good Alsa/DAPM overview: <a rel="nofollow" class="external free" href="https://events.static.linuxfound.org/sites/events/files/slides/dapm.pdf">https://events.static.linuxfound.org/sites/events/files/slides/dapm.pdf</a>
</li>
<li>Another one: <a rel="nofollow" class="external free" href="https://bootlin.com/pub/conferences/2024/eoss/ceresoli-dapm/ceresoli-dapm.pdf">https://bootlin.com/pub/conferences/2024/eoss/ceresoli-dapm/ceresoli-dapm.pdf</a>
</li>
</ul>
<h2><span class="mw-headline" id="Some_open_questions">Some open questions</span></h2>
<ul>
<li>how to enable stereo on AW88261 (driver complains that the driver was already loaded)</li>
<li>is there a good overview of Qualcomm adsp stuff (afedai, asmdai, routing, etc.)?</li>
<li>correct mapping of amic ports to swr ports for mics over WCD9835</li>
</ul>
<h2><span class="mw-headline" id="How_to_get_involved">How to get involved</span></h2>
<p>You will probably want to do this on edge (for envkernel support).
</p>
<p>You'll need a kernel with a WIP device tree (envkernel is useful for this):
</p>
<ul>
<li>Clone a repository from one of the links above.</li>
<li>Use envkernel to create a build environment (source pmbootstrap/helpers/envkernel.sh)</li>
<li>Copy the sc7280 kernel config (config-postmarketos-qcom-sc7280.aarch64) from pmaports to arch/arm64/configs/sc7280_defconfig</li>
<li>Edit the config to make sure the AW88261 driver is built if needed (CONFIG_SND_SOC_AW88261=y)</li>
<li>Configure the kernel (make sc7280_defconfig)</li>
<li>Build the kernel (make)</li>
<li>Package the kernel (pmbootstrap build --envkernel linux-postmarketos-qcom-sc7280)</li>
<li>Install the kernel and reboot (pmbootstrap sideload --host myhost --user myuser linux-postmarketos-qcom-sc7280)</li>
</ul>
<p>Check dmesg to see that aw88261 powers up correctly (my branch has debug output added in). You can easily restore the original kernel (apk upgrade -a)
</p>
<h3><span class="mw-headline" id="Resources_5">Resources</span></h3>
<ul>
<li>device config: <a rel="nofollow" class="external free" href="https://gitlab.postmarketos.org/postmarketOS/pmaports/-/blob/master/device/testing/linux-postmarketos-qcom-sc7280/config-postmarketos-qcom-sc7280.aarch64">https://gitlab.postmarketos.org/postmarketOS/pmaports/-/blob/master/device/testing/linux-postmarketos-qcom-sc7280/config-postmarketos-qcom-sc7280.aarch64</a>
</li>
<li>envkernel documentation: <a rel="nofollow" class="external free" href="https://wiki.postmarketos.org/wiki/Compiling_kernels_with_envkernel.sh">https://wiki.postmarketos.org/wiki/Compiling_kernels_with_envkernel.sh</a>
</li>
</ul>
</div>
</div>
					<div id="catlinks" class="catlinks catlinks-allhidden" data-mw="interface"></div>
				</div>
			</main>
			
		</div>
		<div class="mw-footer-container">
			
<footer id="footer" class="mw-footer" style="margin: 0">
	<ul id="footer-info">
	<li data-nosnippet="">Retrieved from "<a dir="ltr" href="https://wiki.postmarketos.org/index.php?title=Fairphone_5_(fairphone-fp5)/Audio&amp;oldid=79757">https://wiki.postmarketos.org/index.php?title=Fairphone_5_(fairphone-fp5)/Audio&amp;oldid=79757</a>"</li>
<li id="footer-info-lastmod"> This page was last edited on 26 June 2025, at 19:47.</li>
	<li id="footer-info-copyright">Content is available under <a class="external" rel="nofollow" href="https://creativecommons.org/licenses/by-sa/4.0/">Creative Commons Attribution-ShareAlike</a> unless otherwise noted.</li>
<br>
</ul>

	<ul id="footer-places">
	<li id="footer-places-privacy"><a href="../en/PostmarketOS:Privacy_policy.html">Privacy policy</a></li>
	<li id="footer-places-about"><a href="../en/About_postmarketOS.html">About postmarketOS Wiki</a></li>
	<li id="footer-places-disclaimers"><a href="../en/PostmarketOS:General_disclaimer.html">Disclaimers</a></li>
</ul>

	<ul id="footer-icons" class="noprint">
	<li id="footer-copyrightico"><a href="https://creativecommons.org/licenses/by-sa/4.0/" class="cdx-button cdx-button--fake-button cdx-button--size-large cdx-button--fake-button--enabled"><img src="../cc-by-sa.png" alt="Creative Commons Attribution-ShareAlike" width="88" height="31" loading="lazy"></a></li>
	<li id="footer-poweredbyico"><a href="https://www.mediawiki.org/" class="cdx-button cdx-button--fake-button cdx-button--size-large cdx-button--fake-button--enabled"><img src="../poweredby_mediawiki.svg" alt="Powered by MediaWiki" width="88" height="31" loading="lazy"></a></li>
</ul>

</footer>

		</div>
	</div> 
</div> 
<div class="vector-settings" id="p-dock-bottom">
	<ul></ul>
</div>
</body>
</html>
