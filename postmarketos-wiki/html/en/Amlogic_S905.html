<!DOCTYPE html>
<html class="client-nojs" lang="en" dir="ltr">
<head>
<meta charset="UTF-8">
<title>Amlogic S905 - postmarketOS</title>
<link rel="stylesheet" href="../PostmarketOSWikiOffline.css">
<meta name="ResourceLoaderDynamicStyles" content="">
<meta name="generator" content="MediaWiki 1.39.6">
<meta name="format-detection" content="telephone=no">
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes, minimum-scale=0.25, maximum-scale=5.0">
<link rel="icon" href="/favicon.ico">
<link rel="search" type="application/opensearchdescription+xml" href="/opensearch_desc.php" title="postmarketOS (en)">
<link rel="EditURI" type="application/rsd+xml" href="https://wiki.postmarketos.org/api.php?action=rsd">
<link rel="license" href="https://creativecommons.org/licenses/by-sa/4.0/">
<link rel="alternate" type="application/atom+xml" title="postmarketOS Atom feed" href="/index.php?title=Special:RecentChanges&amp;feed=atom">
</head>
<body class="skin-vector skin-vector-search-vue mediawiki ltr sitedir-ltr mw-hide-empty-elt ns-0 ns-subject page-Amlogic_S905 rootpage-Amlogic_S905 skin-vector-2022 action-view skin--responsive vector-feature-language-in-header-enabled vector-feature-language-in-main-page-header-disabled vector-feature-language-alert-in-sidebar-disabled vector-feature-sticky-header-disabled vector-feature-sticky-header-edit-disabled vector-feature-table-of-contents-disabled vector-feature-visual-enhancement-next-disabled">
<div class="mw-page-container">
	<span id="top-page"></span>
	<a class="mw-jump-link" href="#content">Jump to content</a>
	<div class="mw-page-container-inner">
		<input type="checkbox" id="mw-sidebar-checkbox" class="mw-checkbox-hack-checkbox">
		<header class="mw-header">
			<div class="mw-header-aside">
			<label id="mw-sidebar-button" class="mw-checkbox-hack-button mw-ui-icon mw-ui-button mw-ui-quiet mw-ui-icon-element" for="mw-sidebar-checkbox" role="button" aria-controls="mw-panel" data-event-name="ui.sidebar" tabindex="0" title="Main menu">
				<span>Toggle sidebar</span>
			</label>
			
<a href="../en/Main_Page.html" class="mw-logo">
	<img class="mw-logo-icon" src="/logo_50x50.svg" alt="" aria-hidden="true" height="50" width="50">
	<span class="mw-logo-container">
		<strong class="mw-logo-wordmark">postmarketOS</strong>
	</span>
</a>

			</div>
			<div class="mw-header-content">
			
<div id="p-search" role="search" class="vector-search-box-vue  vector-search-box-collapses  vector-search-box-show-thumbnail vector-search-box-auto-expand-width vector-search-box">
	<a href="../Special:Search.html" title="Search postmarketOS [f]" accesskey="f" class="mw-ui-button mw-ui-quiet mw-ui-icon mw-ui-icon-element mw-ui-icon-wikimedia-search search-toggle">
		<span>Search</span>
	</a>
	
	<div>
		<form action="/index.php" id="searchform" class="vector-search-box-form">
			<div id="simpleSearch" class="vector-search-box-inner" data-search-loc="header-moved">
				<input class="vector-search-box-input" type="search" name="search" placeholder="Search postmarketOS" aria-label="Search postmarketOS" autocapitalize="sentences" title="Search postmarketOS [f]" accesskey="f" id="searchInput">
				<input type="hidden" name="title" value="Special:Search">
				<input id="mw-searchButton" class="searchButton mw-fallbackSearchButton" type="submit" name="fulltext" title="Search the pages for this text" value="Search">
				<input id="searchButton" class="searchButton" type="submit" name="go" title="Go to a page with this exact name if it exists" value="Go">
			</div>
		</form>
	</div>
</div>

			<nav class="vector-user-links" aria-label="Personal tools" role="navigation">
	

<div id="p-vector-user-menu-overflow" class="vector-menu mw-portlet mw-portlet-vector-user-menu-overflow vector-user-menu-overflow">
	<div class="vector-menu-content">
		
		<ul class="vector-menu-content-list"><li id="pt-createaccount-2" class="user-links-collapsible-item mw-list-item"><a href="../Special:RequestAccount.html"><span>Request account</span></a></li></ul>
		
	</div>
</div>

	

<div id="p-personal" class="vector-menu mw-portlet mw-portlet-personal vector-user-menu vector-user-menu-logged-out vector-menu-dropdown" title="More options">
	<input type="checkbox" id="p-personal-checkbox" role="button" aria-haspopup="true" data-event-name="ui.dropdown-p-personal" class="vector-menu-checkbox">
	<label id="p-personal-label" for="p-personal-checkbox" class="vector-menu-heading mw-ui-button mw-ui-quiet mw-ui-icon mw-ui-icon-element mw-ui-icon-ellipsis mw-ui-icon-wikimedia-ellipsis">
		<span class="vector-menu-heading-label">Personal tools</span>
	</label>
	<div class="vector-menu-content">
		<div class="vector-user-menu-create-account"><a href="/index.php?title=Special:CreateAccount&amp;returnto=Amlogic+S905" class="vector-menu-content-item user-links-collapsible-item" title="You are encouraged to create an account and log in; however, it is not mandatory"><span class="mw-ui-icon mw-ui-icon-userAdd mw-ui-icon-wikimedia-userAdd"></span> <span>Create account</span></a></div>
<div class="vector-user-menu-login"><a href="/index.php?title=Special:UserLogin&amp;returnto=Amlogic+S905" class="vector-menu-content-item vector-menu-content-item-login" title="You are encouraged to log in; however, it is not mandatory [o]" accesskey="o"><span class="mw-ui-icon mw-ui-icon-logIn mw-ui-icon-wikimedia-logIn"></span> <span>Log in</span></a></div>

		<ul class="vector-menu-content-list"></ul>
		
	</div>
</div>

</nav>

			</div>
		</header>
		<div class="vector-sidebar-container ">
			</div>
		<div class="vector-sitenotice-container">
			<div id="siteNotice"></div>
		</div>
		<input type="checkbox" id="vector-toc-collapsed-checkbox" class="mw-checkbox-hack-checkbox">
		<div class="mw-table-of-contents-container">
			<div class="vector-sticky-toc-container mw-sticky-header-element">
				<nav id="mw-panel-toc" class="sidebar-toc" role="navigation" aria-labelledby="sidebar-toc-label" data-event-name="ui.sidebar-toc">
	<div id="sidebar-toc-label" class="sidebar-toc-header">
		<p class="sidebar-toc-title">
		Contents
		<button class="vector-toc-uncollapse-button">move to sidebar</button>
		<button class="vector-toc-collapse-button">hide</button>
		</p>
	</div>
	<ul class="sidebar-toc-contents" id="mw-panel-toc-list">
		<li id="toc-mw-content-text" class="sidebar-toc-list-item sidebar-toc-level-1">
			<a href="#top-page" class="sidebar-toc-link">
				<div class="sidebar-toc-text">Beginning</div>
			</a>
		</li>
		<li id="toc-Devices" class="sidebar-toc-list-item sidebar-toc-level-1 sidebar-toc-list-item-expanded">
			<a class="sidebar-toc-link" href="#Devices">
				<div class="sidebar-toc-text">
				<span class="sidebar-toc-numb">1</span>Devices</div>
			</a>
			
			<ul id="toc-Devices-sublist" class="sidebar-toc-list">
			</ul>
		</li>
		<li id="toc-Boot_process" class="sidebar-toc-list-item sidebar-toc-level-1 sidebar-toc-list-item-expanded">
			<a class="sidebar-toc-link" href="#Boot_process">
				<div class="sidebar-toc-text">
				<span class="sidebar-toc-numb">2</span>Boot process</div>
			</a>
			
			<ul id="toc-Boot_process-sublist" class="sidebar-toc-list">
			</ul>
		</li>
		<li id="toc-Status" class="sidebar-toc-list-item sidebar-toc-level-1 sidebar-toc-list-item-expanded">
			<a class="sidebar-toc-link" href="#Status">
				<div class="sidebar-toc-text">
				<span class="sidebar-toc-numb">3</span>Status</div>
			</a>
			
				<button aria-controls="toc-Status-sublist" class="mw-ui-icon mw-ui-icon-wikimedia-expand mw-ui-icon-small sidebar-toc-toggle">
					Toggle Status subsection
				</button>
			
			<ul id="toc-Status-sublist" class="sidebar-toc-list">
				<li id="toc-GPU_and_hardware_acceleration" class="sidebar-toc-list-item sidebar-toc-level-2">
			<a class="sidebar-toc-link" href="#GPU_and_hardware_acceleration">
				<div class="sidebar-toc-text">
				<span class="sidebar-toc-numb">3.1</span>GPU and hardware acceleration</div>
			</a>
			
			<ul id="toc-GPU_and_hardware_acceleration-sublist" class="sidebar-toc-list">
			</ul>
		</li>
		<li id="toc-IR_RX" class="sidebar-toc-list-item sidebar-toc-level-2">
			<a class="sidebar-toc-link" href="#IR_RX">
				<div class="sidebar-toc-text">
				<span class="sidebar-toc-numb">3.2</span>IR RX</div>
			</a>
			
			<ul id="toc-IR_RX-sublist" class="sidebar-toc-list">
			</ul>
		</li>
		<li id="toc-Audio" class="sidebar-toc-list-item sidebar-toc-level-2">
			<a class="sidebar-toc-link" href="#Audio">
				<div class="sidebar-toc-text">
				<span class="sidebar-toc-numb">3.3</span>Audio</div>
			</a>
			
			<ul id="toc-Audio-sublist" class="sidebar-toc-list">
			</ul>
		</li>
		<li id="toc-X11" class="sidebar-toc-list-item sidebar-toc-level-2">
			<a class="sidebar-toc-link" href="#X11">
				<div class="sidebar-toc-text">
				<span class="sidebar-toc-numb">3.4</span>X11</div>
			</a>
			
			<ul id="toc-X11-sublist" class="sidebar-toc-list">
			</ul>
		</li>
		<li id="toc-HDMI-CEC" class="sidebar-toc-list-item sidebar-toc-level-2">
			<a class="sidebar-toc-link" href="#HDMI-CEC">
				<div class="sidebar-toc-text">
				<span class="sidebar-toc-numb">3.5</span>HDMI-CEC</div>
			</a>
			
			<ul id="toc-HDMI-CEC-sublist" class="sidebar-toc-list">
			</ul>
		</li>
		<li id="toc-Hardware_decoding_and_encoding" class="sidebar-toc-list-item sidebar-toc-level-2">
			<a class="sidebar-toc-link" href="#Hardware_decoding_and_encoding">
				<div class="sidebar-toc-text">
				<span class="sidebar-toc-numb">3.6</span>Hardware decoding and encoding</div>
			</a>
			
			<ul id="toc-Hardware_decoding_and_encoding-sublist" class="sidebar-toc-list">
			</ul>
		</li>
		<li id="toc-Suspend" class="sidebar-toc-list-item sidebar-toc-level-2">
			<a class="sidebar-toc-link" href="#Suspend">
				<div class="sidebar-toc-text">
				<span class="sidebar-toc-numb">3.7</span>Suspend</div>
			</a>
			
			<ul id="toc-Suspend-sublist" class="sidebar-toc-list">
			</ul>
		</li>
		<li id="toc-DVB" class="sidebar-toc-list-item sidebar-toc-level-2">
			<a class="sidebar-toc-link" href="#DVB">
				<div class="sidebar-toc-text">
				<span class="sidebar-toc-numb">3.8</span>DVB</div>
			</a>
			
			<ul id="toc-DVB-sublist" class="sidebar-toc-list">
			</ul>
		</li>
		<li id="toc-OTG" class="sidebar-toc-list-item sidebar-toc-level-2">
			<a class="sidebar-toc-link" href="#OTG">
				<div class="sidebar-toc-text">
				<span class="sidebar-toc-numb">3.9</span>OTG</div>
			</a>
			
			<ul id="toc-OTG-sublist" class="sidebar-toc-list">
			</ul>
		</li>
		<li id="toc-U-Boot" class="sidebar-toc-list-item sidebar-toc-level-2">
			<a class="sidebar-toc-link" href="#U-Boot">
				<div class="sidebar-toc-text">
				<span class="sidebar-toc-numb">3.10</span>U-Boot</div>
			</a>
			
			<ul id="toc-U-Boot-sublist" class="sidebar-toc-list">
			</ul>
		</li>
	</ul>
		</li>
		<li id="toc-See_also" class="sidebar-toc-list-item sidebar-toc-level-1 sidebar-toc-list-item-expanded">
			<a class="sidebar-toc-link" href="#See_also">
				<div class="sidebar-toc-text">
				<span class="sidebar-toc-numb">4</span>See also</div>
			</a>
			
			<ul id="toc-See_also-sublist" class="sidebar-toc-list">
			</ul>
		</li>
	</ul>
</nav>

			</div>
		</div>
		<div class="mw-content-container">
			<main id="content" class="mw-body" role="main" style="margin: 0">
				<a id="top"></a>
				<header class="mw-body-header">
				
				
					<label id="vector-toc-collapsed-button" class="mw-ui-button mw-ui-quiet mw-ui-icon mw-ui-icon-element mw-ui-icon-wikimedia-listBullet mw-checkbox-hack-button" for="vector-toc-collapsed-checkbox" role="button" aria-controls="toc-toggle-list" data-event-name="vector.toc-toggle-list" tabindex="0" title="Table of Contents">
						Toggle the table of contents
					</label>
				    <h1 id="firstHeading" class="firstHeading mw-first-heading"><span class="mw-page-title-main">Amlogic S905</span></h1>
				</header>
				<nav class="vector-article-toolbar" aria-label="Tools" role="navigation">
					<div class="mw-article-toolbar-container">
						<div id="left-navigation">
							

<div id="p-associated-pages" class="vector-menu mw-portlet mw-portlet-associated-pages vector-menu-tabs">
	<div class="vector-menu-content">
		
		<ul class="vector-menu-content-list">
<li id="ca-nstab-main" class="selected mw-list-item"><a href="../en/Amlogic_S905.html" title="View the content page [c]" accesskey="c"><span>Page</span></a></li>
<li id="ca-talk" class="new mw-list-item"><a href="/index.php?title=Talk:Amlogic_S905&amp;action=edit&amp;redlink=1" rel="discussion" title="Discussion about the content page (page does not exist) [t]" accesskey="t"><span>Discussion</span></a></li>
</ul>
		
	</div>
</div>

							

<div id="p-variants" class="vector-menu mw-portlet mw-portlet-variants emptyPortlet vector-menu-dropdown">
	<input type="checkbox" id="p-variants-checkbox" role="button" aria-haspopup="true" data-event-name="ui.dropdown-p-variants" class="vector-menu-checkbox" aria-label="Change language variant">
	<label id="p-variants-label" for="p-variants-checkbox" class="vector-menu-heading ">
		<span class="vector-menu-heading-label">English</span>
	</label>
	<div class="vector-menu-content">
		
		<ul class="vector-menu-content-list"></ul>
		
	</div>
</div>

						</div>
						<div id="right-navigation" class="vector-collapsible ">
							

<div id="p-views" class="vector-menu mw-portlet mw-portlet-views vector-menu-tabs">
	<div class="vector-menu-content">
		
		<ul class="vector-menu-content-list">
<li id="ca-view" class="selected mw-list-item"><a href="../en/Amlogic_S905.html"><span>Read</span></a></li>
<li id="ca-viewsource" class="mw-list-item"><a href="/index.php?title=Amlogic_S905&amp;action=edit" title="This page is protected.
You can view its source [e]" accesskey="e"><span>View source</span></a></li>
<li id="ca-history" class="mw-list-item"><a href="/index.php?title=Amlogic_S905&amp;action=history" title="Past revisions of this page [h]" accesskey="h"><span>View history</span></a></li>
</ul>
		
	</div>
</div>

							

<div id="p-cactions" class="vector-menu mw-portlet mw-portlet-cactions emptyPortlet vector-menu-dropdown vector-has-collapsible-items" title="More options">
	<input type="checkbox" id="p-cactions-checkbox" role="button" aria-haspopup="true" data-event-name="ui.dropdown-p-cactions" class="vector-menu-checkbox">
	<label id="p-cactions-label" for="p-cactions-checkbox" class="vector-menu-heading ">
		<span class="vector-menu-heading-label">More</span>
	</label>
	<div class="vector-menu-content">
		
		<ul class="vector-menu-content-list">
<li id="ca-more-view" class="selected vector-more-collapsible-item mw-list-item"><a href="../en/Amlogic_S905.html"><span>Read</span></a></li>
<li id="ca-more-viewsource" class="vector-more-collapsible-item mw-list-item"><a href="/index.php?title=Amlogic_S905&amp;action=edit"><span>View source</span></a></li>
<li id="ca-more-history" class="vector-more-collapsible-item mw-list-item"><a href="/index.php?title=Amlogic_S905&amp;action=history"><span>View history</span></a></li>
</ul>
		
	</div>
</div>

						</div>
					</div>
				</nav>
				<div id="bodyContent" class="vector-body" data-mw-ve-target-container>
					<div class="mw-body-subheader">
					        <div class="mw-indicators">
        </div>

					    <div id="siteSub" class="noprint">From postmarketOS</div>
					</div>
					
					
					
					<div id="mw-content-text" class="mw-body-content mw-content-ltr" lang="en" dir="ltr">
<div class="mw-parser-output">
<table class="infobox" cellspacing="3" style="border-spacing: 3px; width:22em;">
<caption class="" style="">Amlogic S905</caption>
<tbody>
<tr class=""><td colspan="2" class="" style="text-align:center;">
<a href="../Amlogic_S905.png" class="image"><img alt="Amlogic S905" src="../Amlogic_S905.png" decoding="async" width="200" height="200" srcset="../Amlogic_S905.png 1.5x ../Amlogic_S905.png 2x"></a><br><span style="">Amlogic S905</span>
</td></tr>
<tr class="">
<th scope="row" style="text-align:left;">Manufacturer</th>
    <td class="" style="">
<a href="../en/Category:Amlogic.html" title="Category:Amlogic">Amlogic</a>
</td>
</tr>
<tr class="">
<th scope="row" style="text-align:left;">Name</th>
    <td class="" style="">
S905</td>
</tr>
<tr class="">
<th scope="row" style="text-align:left;">Architecture</th>
    <td class="" style="">
<a href="../en/Category:AArch64.html" class="mw-redirect" title="Category:Aarch64">aarch64</a>
</td>
</tr>
<tr class="">
<th scope="row" style="text-align:left;">CPU</th>
    <td class="" style="">
4x 2 GHz Cortex-A53</td>
</tr>
<tr class="">
<th scope="row" style="text-align:left;">GPU</th>
    <td class="" style="">
Mali-450</td>
</tr>
<tr class="">
<th scope="row" style="text-align:left;">Year</th>
    <td class="" style="">
2015</td>
</tr>
<tr class="">
<th scope="row" style="text-align:left;">Process</th>
    <td class="" style="">
28nm</td>
</tr>
<tr class="">
<th scope="row" style="text-align:left;">Mainline</th>
    <td class="" style="">
yes</td>
</tr>
<tr class="">
<th scope="row" style="text-align:left;"><abbr title="A link to a git{hub,lab} organisation/repo where development happens">Community Page</abbr></th>
    <td class="" style="">
<a rel="nofollow" class="external free" href="https://linux-meson.com/">https://linux-meson.com/</a>
</td>
</tr>
<tr><th colspan="2" class="" style="text-align:center;">Components</th></tr>
<tr class="">
<th scope="row" style="text-align:left;"><abbr title="SMP (bring up secondary CPU cores), CPU frequency scaling, CPUidle">CPU</abbr></th>
    <td class="" style="">
<div class="feature feature-yes">Works</div>
</td>
</tr>
<tr class="">
<th scope="row" style="text-align:left;">UART</th>
    <td class="" style="">
<div class="feature feature-yes">Works</div>
</td>
</tr>
<tr class="">
<th scope="row" style="text-align:left;"><abbr title="eMMC, SD cards, UFS, ...">Storage</abbr></th>
    <td class="" style="">
<div class="feature feature-partial">Partial</div>
</td>
</tr>
<tr class="">
<th scope="row" style="text-align:left;">USB</th>
    <td class="" style="">
<div class="feature feature-yes">Works</div>
</td>
</tr>
<tr class="">
<th scope="row" style="text-align:left;">Display</th>
    <td class="" style="">
<div class="feature feature-yes">Works</div>
</td>
</tr>
<tr class="">
<th scope="row" style="text-align:left;">GPU</th>
    <td class="" style="">
<div class="feature feature-yes">Works</div>
</td>
</tr>
<tr class="">
<th scope="row" style="text-align:left;">Pinctrl</th>
    <td class="" style="">
<div class="feature feature-yes">Works</div>
</td>
</tr>
<tr class="">
<th scope="row" style="text-align:left;">IÂ²C</th>
    <td class="" style="">
<div class="feature feature-yes">Works</div>
</td>
</tr>
<tr class="">
<th scope="row" style="text-align:left;"><abbr title="Serial Peripheral Interface">SPI</abbr></th>
    <td class="" style="">
<div></div>
</td>
</tr>
<tr class="">
<th scope="row" style="text-align:left;">Audio</th>
    <td class="" style="">
<div class="feature feature-yes">Works</div>
</td>
</tr>
<tr class="">
<th scope="row" style="text-align:left;"><abbr title="Hardware-accelerated video de/encoding">Video</abbr></th>
    <td class="" style="">
<div class="feature feature-partial">Partial</div>
</td>
</tr>
<tr class="">
<th scope="row" style="text-align:left;">Thermal</th>
    <td class="" style="">
<div class="feature feature-yes">Works</div>
</td>
</tr>
<tr class="">
<th scope="row" style="text-align:left;">NPU</th>
    <td class="" style="">
<div></div>
</td>
</tr>
<tr class="">
<th scope="row" style="text-align:left;">Suspend</th>
    <td class="" style="">
<div class="feature feature-no">Broken</div>
</td>
</tr>
<tr class="">
<th scope="row" style="text-align:left;">Ethernet</th>
    <td class="" style="">
<div></div>
</td>
</tr>
<tr><td colspan="2" style="text-align:right"></td></tr>
</tbody>
</table>
<p>The Amlogic S905, also known as Meson GXBB, is a fairly capable high-end media player SoC mainly used in Android set-top boxes.
It's the first 64-bit Amlogic SoC, and 
is capable of hardware decoding up to 4K@60fps, for multiple formats including H.264, AVS+, and 10-bit. It's part of the 
GXBB family of Amlogic SoCs. It has great U-Boot and mainline Linux support, making it a great candidate for building a 
set-top box or single-board computer powered by postmarketOS.
</p>
<tocplace></tocplace>
<h2><span class="mw-headline" id="Devices">Devices</span></h2>
<table class="cargoTable noMerge sortable">
<thead><tr>
<th class="field_Device">Device</th>
<th class="field_Codename">Codename</th>
<th class="field_Chipset">Chipset</th>
<th class="field_Mainline">Mainline</th>
<th class="field_booting">booting</th>
</tr></thead>
<tbody>
<tr>
<td class="field_Device"><a href="../en/Videostrong_KII_Pro_(videostrong-kii-pro).html" title="Videostrong KII Pro (videostrong-kii-pro)">Videostrong KII Pro</a></td>
<td class="field_Codename">videostrong-kii-pro</td>
<td class="field_Chipset">Amlogic S905</td>
<td class="field_Mainline">Y</td>
<td class="field_booting">Yes</td>
</tr>
</tbody>
</table>
<h2><span class="mw-headline" id="Boot_process">Boot process</span></h2>
<p><i>See: <a href="../en/Category:Amlogic.html#Boot_process" class="mw-redirect" title="Amlogic">Amlogic#Boot process</a></i>
</p>
<p>BL1 looks for a header (named <code>@AML</code> header) at different offsets depending on the storage media:
</p>
<ul>
<li>On an SD card: offset 512 (512 bytes completly ignored by BL1), header and checksum from offset 528 to 623, payload at offset 4608 onwards</li>
<li>On eMMC: offset 0, header and checksum from offset 16 to 111, payload at offset 4096 onwards</li>
</ul>
<p>There's a bug where, because of the zero-offset requirement on eMMC, MBR structures cannot coexist, requiring tweaks to 
allow an MBR parition table to coexist. Further reading: <a rel="nofollow" class="external free" href="https://github.com/LibreELEC/amlogic-boot-fip/pull/8">https://github.com/LibreELEC/amlogic-boot-fip/pull/8</a>
</p>
<p>BL2 is signed by using a proprietary utility from Amlogic called <code>aml_encrypt_gxb</code>, for example:
</p>
<div class="mw-highlight mw-highlight-lang-shell-session mw-content-ltr" dir="ltr"><pre><span></span><span class="gp">$ </span>aml_encrypt_gxb --bootsig --input boot_new.bin --output u-boot.img
</pre></div>
<p>There's a replacement for <code>aml_encrypt_gxb</code> called <code>amlbootsig</code>. See <a rel="nofollow" class="external free" href="https://github.com/afaerber/meson-tools">https://github.com/afaerber/meson-tools</a>. For example, one could use:
</p>
<div class="mw-highlight mw-highlight-lang-shell-session mw-content-ltr" dir="ltr"><pre><span></span><span class="gp">$ </span>amlbootsig boot_new.bin u-boot.img
</pre></div>
<p>It has been confirmed to work on ODROID-C2 and <a href="../en/Videostrong_KII_Pro_(videostrong-kii-pro).html" title="Videostrong KII Pro (videostrong-kii-pro)">Videostrong KII Pro (videostrong-kii-pro)</a>.
</p>
<p>Then BL2 loads the following:
</p>
<ul>
<li>BL30/SCP_BL2: System control processor firmware</li>
<li>BL31: EL3 Runtime Software</li>
<li>BL32: OPTEE (optional)</li>
<li>BL33: U-Boot</li>
</ul>
<p>All bootloader stages except U-Boot are proprietary. BL31 can be replaced with upstream <a rel="nofollow" class="external text" href="https://github.com/ARM-software/arm-trusted-firmware">Arm Trusted Firmware-A</a>.
There's also an ongoing effort led by <a href="../User:F.html" title="User:F">User:F</a> to <a rel="nofollow" class="external text" href="https://moin.vitali64.duckdns.org/AmlogicBL2">reverse-engineer BL2 and port U-Boot SPL</a>.
</p>
<h2><span class="mw-headline" id="Status">Status</span></h2>
<h3><span class="mw-headline" id="GPU_and_hardware_acceleration">GPU and hardware acceleration</span></h3>
<p>Works. Lima is used for hardware acceleration.
</p>
<h3><span class="mw-headline" id="IR_RX">IR RX</span></h3>
<p>Works. Aftermarket and original IR remotes are expected to work out of the box (as seen on <a href="../en/Videostrong_KII_Pro_(videostrong-kii-pro).html" title="Videostrong KII Pro (videostrong-kii-pro)">Videostrong KII Pro (videostrong-kii-pro)</a>). Doesn't require much configuration.
</p>
<h3><span class="mw-headline" id="Audio">Audio</span></h3>
<p>HDMI audio works, but S/PDIF is untested.
</p>
<h3><span class="mw-headline" id="X11">X11</span></h3>
<p>Works fine. A custom configuration file is needed else it crashes (included).
</p>
<h3><span class="mw-headline" id="HDMI-CEC">HDMI-CEC</span></h3>
<p>Sort of works. The TV detects a CEC device, but you cannot use the TV's remote to control the set-top box (at least, on Plasma Bigscreen).
Seems like <code>libcec</code> does detect which button in the remote is pressed.
</p>
<h3><span class="mw-headline" id="Hardware_decoding_and_encoding">Hardware decoding and encoding</span></h3>
<p><i>See: <a rel="nofollow" class="external free" href="https://libera.irclog.whitequark.org/linux-amlogic/2023-02-10">https://libera.irclog.whitequark.org/linux-amlogic/2023-02-10</a></i>
</p>
<p>The Amlogic S905(-H) supports hardware decoding up to 4K@60fps, but in the mainline kernel it's limited to 1080p.
Downstream kernels relied on lengthy hacks to get it working up to 4K, and thus they were not included in the mainline 
kernel (to their defense Amlogic did successfully enable 4K playback on 3.x kernels).
</p>
<p>To get hardware encoding to work, refer to <a rel="nofollow" class="external text" href="https://gitlab.com/postmarketOS/pmaports/-/merge_requests/4071?commit_id=1904830a206a2e886b547cfd9f7fdde61221c52f#note_1386135438">this issue comment</a>. It boils down to:
</p>
<ul>
<li>Making sure CONFIG_VIDEO_MESON_VDEC is set: <code>zcat /proc/config.gz | grep CONFIG_VIDEO_MESON_VDEC</code> (See <a rel="nofollow" class="external text" href="https://gitlab.com/postmarketOS/pmaports/-/merge_requests/4071">pmaports!4071</a>)</li>
<li>Build FFmpeg from <a rel="nofollow" class="external free" href="https://github.com/jc-kynesim/rpi-ffmpeg/commits/dev/4.4/rpi_import_1">https://github.com/jc-kynesim/rpi-ffmpeg/commits/dev/4.4/rpi_import_1</a>
</li>
</ul>
<p>There are some issues, however:
</p>
<ul>
<li>Needs non-free firmware</li>
<li>10-bit media (e.g. 4K) won't work</li>
<li>MPEG1/2/4 support is broken</li>
</ul>
<p>So sometimes you may want to resort to using software decoding.
</p>
<p>Hardware encoding doesn't work yet.
</p>
<h3><span class="mw-headline" id="Suspend">Suspend</span></h3>
<p>Broken
</p>
<h3><span class="mw-headline" id="DVB">DVB</span></h3>
<p>Needs a demux driver.
</p>
<h3><span class="mw-headline" id="OTG">OTG</span></h3>
<p>Untested. Broken according to linux-meson.com
</p>
<h3><span class="mw-headline" id="U-Boot">U-Boot</span></h3>
<p>Most (all?) set-top boxes based on this SoC use U-Boot as their primary bootloader, but mainline U-Boot has great support for this 
SoC. Running mainline U-Boot as the primary bootloader and as the secondary bootloader works fine. If you want to use U-Boot as the 
primary bootloader, refer to <a href="../en/Videostrong_KII_Pro_(videostrong-kii-pro)_U-Boot_as_primary_bootloader.html" title="Videostrong KII Pro (videostrong-kii-pro)/U-Boot as primary bootloader">Videostrong KII Pro (videostrong-kii-pro)/U-Boot as primary bootloader</a>, replacing mentions of <code>wetek-play2</code>
with your device or one close enough (which have RAM timings that work on your device). Please note that BL2 and BL30 are proprietary; there's an on-going 
effort on porting mainline Arm Trusted Firmware-A to <a href="../en/Videostrong_KII_Pro_(videostrong-kii-pro).html" title="Videostrong KII Pro (videostrong-kii-pro)">Videostrong KII Pro (videostrong-kii-pro)</a>.
</p>
<h2><span class="mw-headline" id="See_also">See also</span></h2>
<ul>
<li><a href="../en/Videostrong_KII_Pro_(videostrong-kii-pro).html" title="Videostrong KII Pro (videostrong-kii-pro)">Videostrong KII Pro (videostrong-kii-pro)</a></li>
<li><a href="../en/Category:Amlogic.html" class="mw-redirect" title="Amlogic">Amlogic</a></li>
<li><a href="../en/Amlogic_Porting_set_top_boxes.html" title="Amlogic/Porting set top boxes">Port STBs to postmarketOS</a></li>
<li><a rel="nofollow" class="external text" href="https://git.vitali64.duckdns.org/misc/u-boot-kii-pro.git/log/?h=wip/spl">WIP U-Boot SPL port (DON'T USE IT IF YOU'RE A REGULAR USER)</a></li>
<li>
<a rel="nofollow" class="external text" href="https://github.com/hardkernel/u-boot/tree/be63a06fa3d50dd2410e2e722d1f8bafe7370abd/arch/arm/cpu/armv8/common/firmware">Old BL2 sources from before Amlogic made it proprietary (based on TF-A code)</a>
<ul><li><a rel="nofollow" class="external text" href="https://git.vitali64.duckdns.org/archive/amlogic-bl2.git/">Mirror</a></li></ul>
</li>
</ul>
</div>
</div>
					<div id="catlinks" class="catlinks" data-mw="interface"><div id="mw-normal-catlinks" class="mw-normal-catlinks">
<a href="../Special:Categories.html" title="Special:Categories">Categories</a>: <ul>
<li><a href="/index.php?title=Category:Pages_using_deprecated_source_tags&amp;action=edit&amp;redlink=1" class="new" title="Category:Pages using deprecated source tags (page does not exist)">Pages using deprecated source tags</a></li>
<li><a href="../en/Category:Socs.html" title="Category:Socs">Socs</a></li>
<li><a href="../en/Category:Amlogic.html" title="Category:Amlogic">Amlogic</a></li>
<li><a href="../en/Category:AArch64.html" class="mw-redirect" title="Category:Aarch64">Aarch64</a></li>
</ul>
</div></div>
				</div>
			</main>
			
		</div>
		<div class="mw-footer-container">
			
<footer id="footer" class="mw-footer" role="contentinfo" style="margin: 0">
	<ul id="footer-info">
	<li data-nosnippet="">Retrieved from "<a dir="ltr" href="https://wiki.postmarketos.org/index.php?title=Amlogic_S905&amp;oldid=53519">https://wiki.postmarketos.org/index.php?title=Amlogic_S905&amp;oldid=53519</a>"</li>
<li id="footer-info-lastmod"> This page was last edited on 7 December 2023, at 19:38.</li>
	<li id="footer-info-copyright">Content is available under <a class="external" rel="nofollow" href="https://creativecommons.org/licenses/by-sa/4.0/">Creative Commons Attribution-ShareAlike</a> unless otherwise noted.</li>
<br>
</ul>

	<ul id="footer-places">
	<li id="footer-places-privacy"><a href="../en/PostmarketOS:Privacy_policy.html">Privacy policy</a></li>
	<li id="footer-places-about"><a href="../en/About_postmarketOS.html">About postmarketOS</a></li>
	<li id="footer-places-disclaimer"><a href="../en/PostmarketOS:General_disclaimer.html">Disclaimers</a></li>
</ul>

	<ul id="footer-icons" class="noprint">
	<li id="footer-copyrightico"><a href="https://creativecommons.org/licenses/by-sa/4.0/"><img src="../cc-by-sa.png" alt="Creative Commons Attribution-ShareAlike" width="88" height="31" loading="lazy"></a></li>
	<li id="footer-poweredbyico"><a href="https://www.mediawiki.org/"><img src="../poweredby_mediawiki_88x31.png" alt="Powered by MediaWiki" srcset="" width="88" height="31" loading="lazy"></a></li>
</ul>

</footer>

		</div>
	</div> 
</div> 

</body>
</html>
