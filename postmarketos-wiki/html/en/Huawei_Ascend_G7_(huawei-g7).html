<!DOCTYPE html>
<html class="client-nojs" lang="en" dir="ltr">
<head>
<meta charset="UTF-8">
<title>Huawei Ascend G7 (huawei-g7) - postmarketOS</title>
<link rel="stylesheet" href="../PostmarketOSWikiOffline.css">
<meta name="ResourceLoaderDynamicStyles" content="">
<meta name="generator" content="MediaWiki 1.34.2">
<link rel="shortcut icon" href="/favicon.ico">
<link rel="search" type="application/opensearchdescription+xml" href="/opensearch_desc.php" title="postmarketOS (en)">
<link rel="EditURI" type="application/rsd+xml" href="https://wiki.postmarketos.org/api.php?action=rsd">
<link rel="license" href="https://creativecommons.org/licenses/by-sa/4.0/">
<link rel="alternate" type="application/atom+xml" title="postmarketOS Atom feed" href="/index.php?title=Special:RecentChanges&amp;feed=atom">
</head>
<body class="mediawiki ltr sitedir-ltr mw-hide-empty-elt ns-0 ns-subject page-Huawei_Ascend_G7_huawei-g7 rootpage-Huawei_Ascend_G7_huawei-g7 skin-vector action-view">
<div id="content" class="mw-body" role="main" style="margin: 0">
	<a id="top"></a>
	
	<div class="mw-indicators mw-body-content">
</div>

	<h1 id="firstHeading" class="firstHeading" lang="en">Huawei Ascend G7 (huawei-g7)</h1>
	
	<div id="bodyContent" class="mw-body-content">
		<div id="siteSub" class="noprint">From postmarketOS</div>
		<div id="contentSub"></div>
		
		
		
		<div id="jump-to-nav"></div>
		<a class="mw-jump-link" href="#mw-head">Jump to navigation</a>
		<a class="mw-jump-link" href="#p-search">Jump to search</a>
		<div id="mw-content-text" lang="en" dir="ltr" class="mw-content-ltr"><div class="mw-parser-output">
<table class="infobox" cellspacing="3" style="border-spacing: 3px; width:22em;">
<caption class="" style="">Huawei Ascend G7</caption>
<tbody>
<tr class=""><td colspan="2" class="" style="text-align:center;">
<a href="../Huawei-g7.jpg" class="image"><img alt="" src="../Huawei-g7.jpg" decoding="async" width="200" height="179" srcset="../300px-Huawei-g7.jpg 1.5x ../400px-Huawei-g7.jpg 2x"></a>
</td></tr>
<tr class="">
<th scope="row" style="text-align:left;">Manufacturer</th>
    <td class="" style="">
Huawei</td>
</tr>
<tr class="">
<th scope="row" style="text-align:left;">Name</th>
    <td class="" style="">
Ascend G7</td>
</tr>
<tr class="">
<th scope="row" style="text-align:left;">Codename</th>
    <td class="" style="">
huawei-g7</td>
</tr>
<tr class="">
<th scope="row" style="text-align:left;">Released</th>
    <td class="" style="">
2014</td>
</tr>
<tr class="">
<th scope="row" style="text-align:left;">Category</th>
    <td class="" style="">
testing</td>
</tr>
<tr class="">
<th scope="row" style="text-align:left;">Original software</th>
    <td class="" style="">
Android</td>
</tr>
<tr class="">
<th scope="row" style="text-align:left;"><abbr title="The version the device was shipped with.">Original version</abbr></th>
    <td class="" style="">
5.1.1 (EMUI 3.1)</td>
</tr>
<tr class="">
<th scope="row" style="text-align:left;">postmarketOS kernel</th>
    <td class="" style="">
Mainline</td>
</tr>
<tr><th colspan="2" class="" style="text-align:center;">Hardware</th></tr>
<tr class="">
<th scope="row" style="text-align:left;">Chipset</th>
    <td class="" style="">
<a href="../en/Qualcomm_Snapdragon_410_412_(MSM8916).html" class="mw-redirect" title="Qualcomm Snapdragon 410 (MSM8916)">Qualcomm Snapdragon 410 (MSM8916)</a>
</td>
</tr>
<tr class="">
<th scope="row" style="text-align:left;">CPU</th>
    <td class="" style="">
Quad-core 1.2 GHz Cortex-A53</td>
</tr>
<tr class="">
<th scope="row" style="text-align:left;">GPU</th>
    <td class="" style="">
Adreno 306</td>
</tr>
<tr class="">
<th scope="row" style="text-align:left;">Display</th>
    <td class="" style="">
720 x 1280 (IPS LCD, 5.5")</td>
</tr>
<tr class="">
<th scope="row" style="text-align:left;">Storage</th>
    <td class="" style="">
16 GB</td>
</tr>
<tr class="">
<th scope="row" style="text-align:left;">Memory</th>
    <td class="" style="">
2 GB</td>
</tr>
<tr class="">
<th scope="row" style="text-align:left;">Architecture</th>
    <td class="" style="">
aarch64</td>
</tr>
<tr><td colspan="2" style="text-align:right"></td></tr>
</tbody>
</table>
<table class="infobox" cellspacing="3" style="border-spacing: 3px; width:22em;">
<caption class="" style="">Features</caption>
<tbody>
<tr class="">
<th scope="row" style="text-align:left;"><abbr title="After connecting the device with USB to your PC, you can connect to it via telnet (initramfs) or SSH (booted system).">USB Networking</abbr></th>
    <td class="" style="">
<div class="feature feature-yes">Works</div>
</td>
</tr>
<tr class="">
<th scope="row" style="text-align:left;"><abbr title="It is possible to flash the device with `pmbootstrap flasher`.">Flashing</abbr></th>
    <td class="" style="">
<div class="feature feature-yes">Works</div>
</td>
</tr>
<tr class="">
<th scope="row" style="text-align:left;">Touchscreen</th>
    <td class="" style="">
<div class="feature feature-yes">Works</div>
</td>
</tr>
<tr class="">
<th scope="row" style="text-align:left;"><abbr title="Display works. Ideally with sleep mode and brightness control.">Display</abbr></th>
    <td class="" style="">
<div class="feature feature-yes">Works</div>
</td>
</tr>
<tr class="">
<th scope="row" style="text-align:left;">WiFi</th>
    <td class="" style="">
<div class="feature feature-yes">Works</div>
</td>
</tr>
<tr class="">
<th scope="row" style="text-align:left;"><abbr title="Full disk encryption and unlocking with osk-sdl.">FDE</abbr></th>
    <td class="" style="">
<div class="feature feature-yes">Works</div>
</td>
</tr>
<tr class="">
<th scope="row" style="text-align:left;"><abbr title="Instead of a Linux kernel fork, it is possible to run mainline.">Mainline</abbr></th>
    <td class="" style="">
<div class="feature feature-yes">Works</div>
</td>
</tr>
<tr class="">
<th scope="row" style="text-align:left;"><abbr title="Charging and battery level reporting works">Battery</abbr></th>
    <td class="" style="">
<div></div>
</td>
</tr>
<tr class="">
<th scope="row" style="text-align:left;">3D Acceleration</th>
    <td class="" style="">
<div class="feature feature-yes">Works</div>
</td>
</tr>
<tr class="">
<th scope="row" style="text-align:left;"><abbr title="Audio playback, microphone, headset and buttons.">Audio</abbr></th>
    <td class="" style="">
<div class="feature feature-yes">Works</div>
</td>
</tr>
<tr class="">
<th scope="row" style="text-align:left;">Bluetooth</th>
    <td class="" style="">
<div class="feature feature-yes">Works</div>
</td>
</tr>
<tr class="">
<th scope="row" style="text-align:left;">Camera</th>
    <td class="" style="">
<div></div>
</td>
</tr>
<tr class="">
<th scope="row" style="text-align:left;">GPS</th>
    <td class="" style="">
<div></div>
</td>
</tr>
<tr class="">
<th scope="row" style="text-align:left;">Mobile data</th>
    <td class="" style="">
<div></div>
</td>
</tr>
<tr class="">
<th scope="row" style="text-align:left;">SMS</th>
    <td class="" style="">
<div></div>
</td>
</tr>
<tr class="">
<th scope="row" style="text-align:left;">Calls</th>
    <td class="" style="">
<div></div>
</td>
</tr>
<tr class="">
<th scope="row" style="text-align:left;"><abbr title="USB On-The-Go or USB-C Role switching">USB OTG</abbr></th>
    <td class="" style="">
<div></div>
</td>
</tr>
<tr class="">
<th scope="row" style="text-align:left;"><abbr title="Near Field Communication">NFC</abbr></th>
    <td class="" style="">
<div class="feature feature-yes">Works</div>
</td>
</tr>
<tr><td colspan="2" style="text-align:right"></td></tr>
</tbody>
</table>
<table class="infobox" cellspacing="3" style="border-spacing: 3px; width:22em;">
<caption class="" style="">Sensors</caption>
<tbody>
<tr class="">
<th scope="row" style="text-align:left;"><abbr title="Auto screen rotation works in desktops e.g. Phosh or Plasma Mobile">Accelerometer</abbr></th>
    <td class="" style="">
<div class="feature feature-yes">Works</div>
</td>
</tr>
<tr class="">
<th scope="row" style="text-align:left;"><abbr title="Sensor to measure magnetism">Magnetometer</abbr></th>
    <td class="" style="">
<div></div>
</td>
</tr>
<tr class="">
<th scope="row" style="text-align:left;">Ambient Light</th>
    <td class="" style="">
<div></div>
</td>
</tr>
<tr class="">
<th scope="row" style="text-align:left;">Proximity</th>
    <td class="" style="">
<div></div>
</td>
</tr>
<tr class="">
<th scope="row" style="text-align:left;"><abbr title="Also known as flip cover sensor">Hall Effect</abbr></th>
    <td class="" style="">
<div></div>
</td>
</tr>
<tr class="">
<th scope="row" style="text-align:left;"><abbr title="Sensor to measure air pressure">Barometer</abbr></th>
    <td class="" style="">
<div></div>
</td>
</tr>
<tr class="">
<th scope="row" style="text-align:left;"><abbr title="Sensor to monitor current, voltage and power. Not fuel gauge!">Power Sensor</abbr></th>
    <td class="" style="">
<div></div>
</td>
</tr>
<tr><td colspan="2" style="text-align:right"></td></tr>
</tbody>
</table>
<table class="infobox" cellspacing="3" style="border-spacing: 3px; width:22em;">
<caption class="" style="">Misc</caption>
<tbody>
<tr class="">
<th scope="row" style="text-align:left;">Camera Flash</th>
    <td class="" style="">
<div></div>
</td>
</tr>
<tr class="">
<th scope="row" style="text-align:left;">Keyboard</th>
    <td class="" style="">
<div></div>
</td>
</tr>
<tr class="">
<th scope="row" style="text-align:left;">Touchpad</th>
    <td class="" style="">
<div></div>
</td>
</tr>
<tr class="">
<th scope="row" style="text-align:left;"><abbr title="Full-sized USB-A port works (Usually applicable to SBCs and laptops).">USB-A</abbr></th>
    <td class="" style="">
<div></div>
</td>
</tr>
<tr class="">
<th scope="row" style="text-align:left;"><abbr title="Video and audio output with HDMI or Display Port works.">HDMI/DP</abbr></th>
    <td class="" style="">
<div></div>
</td>
</tr>
<tr class="">
<th scope="row" style="text-align:left;">Ir TX</th>
    <td class="" style="">
<div></div>
</td>
</tr>
<tr class="">
<th scope="row" style="text-align:left;">Ir RX</th>
    <td class="" style="">
<div></div>
</td>
</tr>
<tr class="">
<th scope="row" style="text-align:left;">Stylus</th>
    <td class="" style="">
<div></div>
</td>
</tr>
<tr class="">
<th scope="row" style="text-align:left;">Haptics</th>
    <td class="" style="">
<div></div>
</td>
</tr>
<tr class="">
<th scope="row" style="text-align:left;">Ethernet</th>
    <td class="" style="">
<div></div>
</td>
</tr>
<tr class="">
<th scope="row" style="text-align:left;">FOSS bootloader</th>
    <td class="" style="">
<div></div>
</td>
</tr>
<tr><td colspan="2" style="text-align:right"></td></tr>
</tbody>
</table>
<p><br>
</p>
<p><br>
</p>
<table class="infobox" style="float: right; width: 22em; color: inherit; background-color: #f7fff7; border: 3px solid #8a8;"><tbody><tr><td>
<b>This device is based on the <a href="../en/Qualcomm_Snapdragon_410_412_(MSM8916).html" title="Qualcomm Snapdragon 410/412 (MSM8916)">Snapdragon 410</a>.</b><br>See the SoC page for common tips, guides and troubleshooting steps</td></tr></tbody></table>
<h2><span class="mw-headline" id="Users_owning_this_device">Users owning this device</span></h2>
<div style="-webkit-column-count: 2; -moz-column-count: 2; column-count: 2;"><ul style="margin-top: 0;">
<li>
<a href="../User:Minecrell.html" title="User:Minecrell">Minecrell</a> (<span class="cargoFieldName">Notes:</span> G7-L01)</li>
<li>
<a href="../User:Notfound405.html" title="User:Notfound405">Notfound405</a> (<span class="cargoFieldName">Notes:</span> Ascend G7 TL-00)</li>
</ul></div>
<p><br>
</p>
<h2><span class="mw-headline" id="Preparation">Preparation</span></h2>
<p>There are two problems that complicate using the Huawei Ascend G7 with the <a href="../en/Qualcomm_Snapdragon_410_412_(MSM8916).html" title="Qualcomm Snapdragon 410/412 (MSM8916)">Qualcomm Snapdragon 410/412 (MSM8916)</a> mainline kernel in postmarketOS:
</p>
<ol>
<li>Huawei stopped providing bootloader unlock codes. Unless you obtained the code already earlier, there is no official, easy or free way to unlock the bootloader completely.</li>
<li>Huawei ships outdated firmware for this device, which is not able to boot 64-bit (aarch64) kernels. The situation is similar as for <a href="../en/Samsung_Galaxy_S4_Mini_Value_Edition_(samsung-serranove).html" class="mw-redirect" title="Samsung-serranovelte">samsung-serranovelte</a> which can only boot mainline in 32-bit mode.</li>
</ol>
<p>However, there is one big difference for Huawei devices compared to Samsung devices like the <a href="../en/Samsung_Galaxy_S4_Mini_Value_Edition_(samsung-serranove).html" class="mw-redirect" title="Samsung-serranovelte">samsung-serranovelte</a>: For some reason, most older Qualcomm-based Huawei devices do not seem to have Qualcomm's firmware secure boot enabled. It may look like the bootloader is locked, but actually it is possible to replace the entire bootloader. Also, to boot aarch64 kernels it is possible to flash the firmware from other similar devices.
</p>
<table role="text container" style="color: inherit; background-color: #fee7e6; border: 1px solid #d33; margin: 4px 0; border-collapse: collapse;"><tbody><tr>
<td style="padding: 2px 0 2px 0.9em; text-align: center;"><span style="white-space: nowrap;"><img alt="Icon" src="../Red_warning_icon.svg" decoding="async" title="Icon" width="20" height="20" srcset="../Red_warning_icon.svg 1.5x ../Red_warning_icon.svg 2x"></span></td>
<td style="padding: 0.35em 0.9em; width: 100%;">
<b>WARNING:</b>  Overall this is easier said than done. Replacing early boot firmware is a dangerous process that may prevent your device from booting entirely. Make sure that you backup all important data and do not try this if you still need the device for other important purposes.</td>
</tr></tbody></table>
<table role="text container" style="color: inherit; background-color: #fdd1d1; border: 1px solid #b60000; margin: 4px 0; border-collapse: collapse;"><tbody><tr>
<td style="padding: 2px 0 2px 0.9em; text-align: center;"><span style="white-space: nowrap;"><img alt="Icon" src="../Red_warning_icon.svg" decoding="async" title="Icon" width="20" height="20" srcset="../Red_warning_icon.svg 1.5x ../Red_warning_icon.svg 2x"></span></td>
<td style="padding: 0.35em 0.9em; width: 100%;">
<b>TODO:</b> The instructions below show the general idea, but it's not a step by step guide (yet). Please ask in the mainline channel in <a href="../en/Matrix_and_IRC.html" title="Matrix and IRC">Matrix and IRC</a> to get further advice.</td>
</tr></tbody></table>
<p>No matter if your device is still bootloader locked or not, it is possible to use EDL to read/write partitions to the eMMC. For example, you can play with <a rel="nofollow" class="external free" href="https://github.com/bkerler/edl">https://github.com/bkerler/edl</a> together with the programmer available for the DB410c at <a rel="nofollow" class="external free" href="https://releases.linaro.org/96boards/dragonboard410c/qualcomm/firmware/linux-board-support-package-r1034.2.1.zip">https://releases.linaro.org/96boards/dragonboard410c/qualcomm/firmware/linux-board-support-package-r1034.2.1.zip</a> (<code>loaders/prog_emmc_firehose_8916.mbn</code>). You can enter EDL from stock Android using <code>adb reboot edl</code> or using easily available test points after disassembling the device, see e.g. <a rel="nofollow" class="external free" href="https://i.ibb.co/wMqfMMD/G7-L01-EDL-PIN-OUT.png">https://i.ibb.co/wMqfMMD/G7-L01-EDL-PIN-OUT.png</a>.
</p>
<table role="text container" style="color: inherit; background-color: #f6efe5; border: 1px solid #ac6600; margin: 4px 0; border-collapse: collapse;"><tbody><tr>
<td style="padding: 2px 0 2px 0.9em; text-align: center;"><span style="white-space: nowrap;"><img alt="Note" src="../Reference_icon.svg" decoding="async" title="Note" width="20" height="20" srcset="../Reference_icon.svg 1.5x ../Reference_icon.svg 2x"></span></td>
<td style="padding: 0.35em 0.9em; width: 100%;">
<b>Note:</b> Even if you use <code>adb reboot edl</code>, be prepared to use the test point method in case your device fails to boot when making a mistake. You may want to test that it works before doing any flashing.</td>
</tr></tbody></table>
<p>The display is off in EDL mode, the only life sign is that the device should show up via USB. Hold <code>Power</code> + <code>Volume Down</code> to forcibly reboot the device if you want to get out of EDL mode.
</p>
<h3><span class="mw-headline" id="Flashing_new_firmware">Flashing new firmware</span></h3>
<p>To properly boot the 64-bit mainline kernel you need to replace the following two firmwares:
</p>
<ol>
<li>
<code>tz</code> (TrustZone): You can take it from the DB410c firmware downloaded earlier (<code>bootloaders-linux/tz.mbn</code>).</li>
<li>
<code>hyp</code> (Hypervisor): You can use <a rel="nofollow" class="external text" href="https://github.com/msm8916-mainline/qhypstub">qhypstub</a> as open source <code>hyp</code> firmware replacement (or you use the proprietary <code>bootloaders-linux/hyp.mbn</code>).</li>
</ol>
<table role="text container" style="color: inherit; background-color: #f6efe5; border: 1px solid #ac6600; margin: 4px 0; border-collapse: collapse;"><tbody><tr>
<td style="padding: 2px 0 2px 0.9em; text-align: center;"><span style="white-space: nowrap;"><img alt="Note" src="../Reference_icon.svg" decoding="async" title="Note" width="20" height="20" srcset="../Reference_icon.svg 1.5x ../Reference_icon.svg 2x"></span></td>
<td style="padding: 0.35em 0.9em; width: 100%;">
<b>Note:</b> Make a backup of these two partitions using <code>./edl.py r &lt;hyp/tz&gt; &lt;hyp/tz&gt;.img</code>.</td>
</tr></tbody></table>
<p><del>
Unfortunately, the <code>tz.mbn</code> from DB410c is slightly larger than the <code>tz</code> partition on the Huawei G7. This means that you need to <b>re-partition</b> the eMMC before you can flash the firmware from DB410c. A simple way is to re-assign the last 256 KiB of the <code>rpm</code> partition to the <code>tz</code> partition. The <code>rpm</code> firmware is not that large anyway.
</del></p>
<table role="text container" style="color: inherit; background-color: #fdd1d1; border: 1px solid #b60000; margin: 4px 0; border-collapse: collapse;"><tbody><tr>
<td style="padding: 2px 0 2px 0.9em; text-align: center;"><span style="white-space: nowrap;"><img alt="Icon" src="../Red_warning_icon.svg" decoding="async" title="Icon" width="20" height="20" srcset="../Red_warning_icon.svg 1.5x ../Red_warning_icon.svg 2x"></span></td>
<td style="padding: 0.35em 0.9em; width: 100%;">
<b>TODO:</b> The re-partitioning process is not described here at the moment because it is particularly dangerous and complicated and really needs to be simplified somehow. Please ask on <a href="../en/Matrix_and_IRC.html" title="Matrix and IRC">Matrix and IRC</a>.</td>
</tr></tbody></table>
<p class="mw-empty-elt">
</p>
<p>Download <code>tz.mbn</code> from <a rel="nofollow" class="external free" href="https://releases.linaro.org/96boards/dragonboard410c/linaro/rescue/17.09/dragonboard410c_bootloader_emmc_android-88.zip">https://releases.linaro.org/96boards/dragonboard410c/linaro/rescue/17.09/dragonboard410c_bootloader_emmc_android-88.zip</a> . It fits in 512KiB, no repartitioning is needed anymore.
</p>
<p>Then you could use edl.py to flash the <code>tz.mbn</code> from DB410c and build and flash qhypstub similarly.
</p>
<h3><span class="mw-headline" id="lk2nd">lk2nd</span></h3>
<table role="text container" style="color: inherit; background-color: #f6efe5; border: 1px solid #ac6600; margin: 4px 0; border-collapse: collapse;"><tbody><tr>
<td style="padding: 2px 0 2px 0.9em; text-align: center;"><span style="white-space: nowrap;"><img alt="Note" src="../Reference_icon.svg" decoding="async" title="Note" width="20" height="20" srcset="../Reference_icon.svg 1.5x ../Reference_icon.svg 2x"></span></td>
<td style="padding: 0.35em 0.9em; width: 100%;">
<b>Note:</b> This works only if your bootloader is already unlocked. Otherwise, see <a href="#Unlocking_bootloader">#Unlocking bootloader</a> below.</td>
</tr></tbody></table>
<p>The mainline kernel depends on an alternative bootloader (<a rel="nofollow" class="external text" href="https://github.com/msm8916-mainline/lk2nd">lk2nd</a>). It does not replace the stock bootloader, but provides its own Fastboot interface. When using the mainline kernel you should always use lk2nd for flashing, not the stock Fastboot mode.
</p>
<ol><li>Install <a rel="nofollow" class="external text" href="https://github.com/msm8916-mainline/lk2nd#installation">lk2nd</a>. (Just needed the first time).
<ul><li>
<b>Warning:</b> lk2nd is installed to the <code>boot</code> partition, <b>not</b> the <code>aboot</code> partition!</li></ul>
</li></ol>
<h3><span class="mw-headline" id="Unlocking_bootloader">Unlocking bootloader</span></h3>
<p>If your bootloader is locked you need to flash an alternative bootloader which thinks it is unlocked. The lock is purely implemented in the Android bootloader (<code>aboot</code>) so replacing or bypassing it entirely is sufficient. The general idea is to bundle a version of <a rel="nofollow" class="external text" href="https://github.com/msm8916-mainline/lk2nd">lk1st</a> together with qhypstub, and simply make it jump to a different entry point (lk1st rather than Huawei's bootloader).
</p>
<table role="text container" style="color: inherit; background-color: #f6efe5; border: 1px solid #ac6600; margin: 4px 0; border-collapse: collapse;"><tbody><tr>
<td style="padding: 2px 0 2px 0.9em; text-align: center;"><span style="white-space: nowrap;"><img alt="Note" src="../Reference_icon.svg" decoding="async" title="Note" width="20" height="20" srcset="../Reference_icon.svg 1.5x ../Reference_icon.svg 2x"></span></td>
<td style="padding: 0.35em 0.9em; width: 100%;">
<b>Note:</b> It does not seem possible to flash the modified bootloader (<code>aboot</code>) directly at the moment because it has a special <code>HUA WEI!</code> header. Perhaps it contains a signature that is checked by the previous boot stage. While it might be possible to remove this check using reverse-engineering it is safer to bypass it completely with the approach above.</td>
</tr></tbody></table>
<p>First, check which display panel is used in your device. You can check it using <code>dmesg | grep panel</code> on the stock Android with adb. You might find a line with the <code>Kernel command line</code>, which contains something like <code>mdss_mdp.panel=1:dsi:0:qcom,mdss_dsi_tianma_nt35521_5p5_720p_video:1:none</code>. Only the <code>tianma</code> panel is supported at the moment but more panels could be added when needed. (Please ask in the chat if you have a different panel in your device.)
</p>
<ol>
<li>Build lk1st (Check the <a rel="nofollow" class="external text" href="https://github.com/msm8916-mainline/lk2nd/blob/master/README.md">README.md</a> for requirements.)
<dl><dd><div class="mw-highlight mw-content-ltr" dir="ltr"><pre><span></span><span class="gp">$</span> git clone https://github.com/msm8916-mainline/lk2nd <span class="o">&amp;&amp;</span> <span class="nb">cd</span> lk2nd
<span class="gp">$</span> make <span class="nv">TOOLCHAIN_PREFIX</span><span class="o">=</span>arm-none-eabi- lk1st-msm8916 <span class="nv">LK1ST_DTB</span><span class="o">=</span>msm8916-huawei-g7-l01 <span class="nv">LK1ST_PANEL</span><span class="o">=</span>tianma_nt35521_5p5_720p_video
</pre></div></dd></dl>
</li>
<li>Build qhypstub with bundled lk1st
<dl><dd><div class="mw-highlight mw-content-ltr" dir="ltr"><pre><span></span><span class="gp">$</span> git clone -b bundle-aboot https://github.com/msm8916-mainline/qhypstub.git
<span class="gp">$</span> <span class="nb">cd</span> qhypstub
<span class="gp">$</span> git clone https://github.com/msm8916-mainline/qtestsign.git
<span class="gp">$</span> make <span class="nv">CROSS_COMPILE</span><span class="o">=</span>aarch64-linux-gnu- <span class="nv">BUNDLE_ABOOT</span><span class="o">=</span>../lk2nd/build-lk1st-msm8916/lk.bin qhypstub-test-signed.mbn
</pre></div></dd></dl>
</li>
<li>Flash <code>qhypstub-test-signed.mbn</code> to the <code>hyp</code> partition with EDL. After a reboot the phone should boot into the lk1st fastboot screen, the Huawei bootloader is skipped entirely.</li>
</ol>
<table role="text container" style="color: inherit; background-color: #f6efe5; border: 1px solid #ac6600; margin: 4px 0; border-collapse: collapse;"><tbody><tr>
<td style="padding: 2px 0 2px 0.9em; text-align: center;"><span style="white-space: nowrap;"><img alt="Note" src="../Reference_icon.svg" decoding="async" title="Note" width="20" height="20" srcset="../Reference_icon.svg 1.5x ../Reference_icon.svg 2x"></span></td>
<td style="padding: 0.35em 0.9em; width: 100%;">
<b>WARNING:</b> Be prepared to recovery your phone using the EDL test points in case something goes wrong!</td>
</tr></tbody></table>
<h2><span class="mw-headline" id="How_to_enter_flash_mode">How to enter flash mode</span></h2>
<ul>
<li>
<b>lk2nd Fastboot</b>: Power on the device. After it vibrates, hold <code>Volume Down</code>.</li>
<li>
<b>lk1st Fastboot</b>: Power on the device and hold <code>Volume Down</code>.</li>
</ul>
<h2><span class="mw-headline" id="Installation">Installation</span></h2>
<p>See <a href="../en/Qualcomm_Snapdragon_410_412_(MSM8916).html#Installation" title="Qualcomm Snapdragon 410/412 (MSM8916)">Qualcomm_Snapdragon_410/412_(MSM8916)#Installation</a>.
</p>
<h2><span class="mw-headline" id="Modem">Modem</span></h2>
<p>The modem does not work yet due to some Huawei-specific firmware problems. See <a rel="nofollow" class="external free" href="https://github.com/msm8916-mainline/linux/pull/192">https://github.com/msm8916-mainline/linux/pull/192</a> for details.
</p>
<h2><span class="mw-headline" id="See_also">See also</span></h2>
<ul><li><a rel="nofollow" class="external text" href="https://gitlab.com/postmarketOS/pmaports/-/tree/master/device/testing/device-huawei-g7">Device package</a></li></ul>
</div></div>
		
		<div id="catlinks" class="catlinks" data-mw="interface"><div id="mw-normal-catlinks" class="mw-normal-catlinks">
<a href="../Special:Categories.html" title="Special:Categories">Categories</a>: <ul>
<li><a href="../en/Category:Devices.html" title="Category:Devices">Devices</a></li>
<li><a href="../en/Category:Android.html" title="Category:Android">Android</a></li>
<li><a href="/index.php?title=Category:Huawei&amp;action=edit&amp;redlink=1" class="new" title="Category:Huawei (page does not exist)">Huawei</a></li>
<li><a href="../en/Category:Todo_Items.html" title="Category:Todo Items">Todo Items</a></li>
</ul>
</div></div>
		<div class="visualClear"></div>
		
	</div>
</div>


		<div id="footer" role="contentinfo" style="margin: 0">
						<ul id="footer-info">
								<li>Retrieved from "<a dir="ltr" href="https://wiki.postmarketos.org/index.php?title=Huawei_Ascend_G7_(huawei-g7)&amp;oldid=43855">https://wiki.postmarketos.org/index.php?title=Huawei_Ascend_G7_(huawei-g7)&amp;oldid=43855</a>"</li>
		
		<li id="footer-info-lastmod"> This page was last edited on 28 April 2023, at 11:31.</li>
								<li id="footer-info-copyright">Content is available under <a class="external" rel="nofollow" href="https://creativecommons.org/licenses/by-sa/4.0/">Creative Commons Attribution-ShareAlike</a> unless otherwise noted.</li>
							<br>
</ul>
						<ul id="footer-places">
								<li id="footer-places-privacy"><a href="../en/PostmarketOS:Privacy_policy.html" title="PostmarketOS:Privacy policy">Privacy policy</a></li>
								<li id="footer-places-about"><a href="../en/About_postmarketOS.html" class="mw-redirect" title="PostmarketOS:About">About postmarketOS</a></li>
								<li id="footer-places-disclaimer"><a href="../en/PostmarketOS:General_disclaimer.html" title="PostmarketOS:General disclaimer">Disclaimers</a></li>
								<li id="footer-places-mobileview"><a href="https://wiki.postmarketos.org/index.php?title=Huawei_Ascend_G7_(huawei-g7)&amp;mobileaction=toggle_view_mobile" class="noprint stopMobileRedirectToggle">Mobile view</a></li>
							</ul>
										<ul id="footer-icons" class="noprint">
										<li id="footer-copyrightico">
						<a href="https://creativecommons.org/licenses/by-sa/4.0/"><img src="../cc-by-sa.png" alt="Creative Commons Attribution-ShareAlike" width="88" height="31"></a>					</li>
										<li id="footer-poweredbyico">
						<a href="https://www.mediawiki.org/"><img src="../poweredby_mediawiki_88x31.png" alt="Powered by MediaWiki" srcset="" width="88" height="31"></a>					</li>
									</ul>
						<div style="clear: both;"></div>
		</div>
		

</body>
</html>
