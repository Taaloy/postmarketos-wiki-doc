<!DOCTYPE html>
<html class="client-nojs" dir="ltr" lang="en">
 <head>
  <meta charset="utf-8"/>
  <title>
   HTC HD2 (htc-leo) - postmarketOS
  </title>
  <link href="../PostmarketOSWikiOffline.css" rel="stylesheet"/>
  <meta content="" name="ResourceLoaderDynamicStyles"/>
  <meta content="MediaWiki 1.34.2" name="generator"/>
  <link href="/favicon.ico" rel="shortcut icon"/>
  <link href="/opensearch_desc.php" rel="search" title="postmarketOS (en)" type="application/opensearchdescription+xml"/>
  <link href="https://wiki.postmarketos.org/api.php?action=rsd" rel="EditURI" type="application/rsd+xml"/>
  <link href="https://creativecommons.org/licenses/by-sa/4.0/" rel="license"/>
  <link href="/index.php?title=Special:RecentChanges&amp;feed=atom" rel="alternate" title="postmarketOS Atom feed" type="application/atom+xml"/>
 </head>
 <body class="mediawiki ltr sitedir-ltr mw-hide-empty-elt ns-0 ns-subject page-HTC_HD2_htc-leo rootpage-HTC_HD2_htc-leo skin-vector action-view">
  <div class="mw-body" id="content" role="main" style="margin: 0">
   <a id="top">
   </a>
   <div class="mw-indicators mw-body-content">
   </div>
   <h1 class="firstHeading" id="firstHeading" lang="en">
    HTC HD2 (htc-leo)
   </h1>
   <div class="mw-body-content" id="bodyContent">
    <div class="noprint" id="siteSub">
     From postmarketOS
    </div>
    <div id="contentSub">
    </div>
    <div id="jump-to-nav">
    </div>
    <a class="mw-jump-link" href="#mw-head">
     Jump to navigation
    </a>
    <a class="mw-jump-link" href="#p-search">
     Jump to search
    </a>
    <div class="mw-content-ltr" dir="ltr" id="mw-content-text" lang="en">
     <div class="mw-parser-output">
      <table cellspacing="3" class="infobox" style="border-spacing: 3px; width:22em;">
       <caption class="" style="">
        HTC HD 2
       </caption>
       <tbody>
        <tr class="">
         <td class="" colspan="2" style="text-align:center;">
          <a class="image" href="../Htc-leo.jpg">
           <img alt="HTC HD2" decoding="async" height="179" src="../Htc-leo.jpg" srcset="../300px-Htc-leo.jpg 1.5x ../400px-Htc-leo.jpg 2x" width="200"/>
          </a>
          <br/>
          <span style="">
           HTC HD2
          </span>
         </td>
        </tr>
        <tr class="">
         <th scope="row" style="text-align:left;">
          Manufacturer
         </th>
         <td class="" style="">
          HTC
         </td>
        </tr>
        <tr class="">
         <th scope="row" style="text-align:left;">
          Name
         </th>
         <td class="" style="">
          HD 2
         </td>
        </tr>
        <tr class="">
         <th scope="row" style="text-align:left;">
          Codename
         </th>
         <td class="" style="">
          htc-leo
         </td>
        </tr>
        <tr class="">
         <th scope="row" style="text-align:left;">
          Released
         </th>
         <td class="" style="">
          2009
         </td>
        </tr>
        <tr class="">
         <th scope="row" style="text-align:left;">
          Category
         </th>
         <td class="" style="">
          testing
         </td>
        </tr>
        <tr class="">
         <th scope="row" style="text-align:left;">
          Original software
         </th>
         <td class="" style="">
          Windows Mobile 6.5 Professional
         </td>
        </tr>
        <tr>
         <th class="" colspan="2" style="text-align:center;">
          Hardware
         </th>
        </tr>
        <tr class="">
         <th scope="row" style="text-align:left;">
          Chipset
         </th>
         <td class="" style="">
          <a class="new" href="/index.php?title=Qualcomm_QSD8250_Snapdragon_S1&amp;action=edit&amp;redlink=1" title="Qualcomm QSD8250 Snapdragon S1 (page does not exist)">
           Qualcomm QSD8250 Snapdragon S1
          </a>
         </td>
        </tr>
        <tr class="">
         <th scope="row" style="text-align:left;">
          CPU
         </th>
         <td class="" style="">
          1.0 GHz Scorpion
         </td>
        </tr>
        <tr class="">
         <th scope="row" style="text-align:left;">
          GPU
         </th>
         <td class="" style="">
          Adreno 200
         </td>
        </tr>
        <tr class="">
         <th scope="row" style="text-align:left;">
          Display
         </th>
         <td class="" style="">
          480x800
         </td>
        </tr>
        <tr class="">
         <th scope="row" style="text-align:left;">
          Storage
         </th>
         <td class="" style="">
          512 MB
         </td>
        </tr>
        <tr class="">
         <th scope="row" style="text-align:left;">
          Memory
         </th>
         <td class="" style="">
          448 MB
         </td>
        </tr>
        <tr class="">
         <th scope="row" style="text-align:left;">
          Architecture
         </th>
         <td class="" style="">
          armv7
         </td>
        </tr>
        <tr class="">
         <th scope="row" style="text-align:left;">
          Non-Android based device
         </th>
         <td class="" style="">
          ✔
         </td>
        </tr>
        <tr>
         <td colspan="2" style="text-align:right">
         </td>
        </tr>
       </tbody>
      </table>
      <table cellspacing="3" class="infobox" style="border-spacing: 3px; width:22em;">
       <caption class="" style="">
        Features
       </caption>
       <tbody>
        <tr class="">
         <th scope="row" style="text-align:left;">
          <abbr title="After connecting the device with USB to your PC, you can connect to it via telnet (initramfs) or SSH (booted system).">
           USB Networking
          </abbr>
         </th>
         <td class="" style="">
          <div class="feature feature-no">
           Broken
          </div>
         </td>
        </tr>
        <tr class="">
         <th scope="row" style="text-align:left;">
          <abbr title="It is possible to flash the device with `pmbootstrap flasher`.">
           Flashing
          </abbr>
         </th>
         <td class="" style="">
          <div class="feature feature-yes">
           Works
          </div>
         </td>
        </tr>
        <tr class="">
         <th scope="row" style="text-align:left;">
          Touchscreen
         </th>
         <td class="" style="">
          <div class="feature feature-yes">
           Works
          </div>
         </td>
        </tr>
        <tr class="">
         <th scope="row" style="text-align:left;">
          <abbr title="Display works. Ideally with sleep mode and brightness control.">
           Display
          </abbr>
         </th>
         <td class="" style="">
          <div class="feature feature-yes">
           Works
          </div>
         </td>
        </tr>
        <tr class="">
         <th scope="row" style="text-align:left;">
          WiFi
         </th>
         <td class="" style="">
          <div class="feature feature-yes">
           Works
          </div>
         </td>
        </tr>
        <tr class="">
         <th scope="row" style="text-align:left;">
          <abbr title="Full disk encryption and unlocking with osk-sdl.">
           FDE
          </abbr>
         </th>
         <td class="" style="">
          <div>
          </div>
         </td>
        </tr>
        <tr class="">
         <th scope="row" style="text-align:left;">
          <abbr title="Instead of a Linux kernel fork, it is possible to run mainline.">
           Mainline
          </abbr>
         </th>
         <td class="" style="">
          <div>
          </div>
         </td>
        </tr>
        <tr class="">
         <th scope="row" style="text-align:left;">
          <abbr title="Charging and battery level reporting works">
           Battery
          </abbr>
         </th>
         <td class="" style="">
          <div class="feature feature-yes">
           Works
          </div>
         </td>
        </tr>
        <tr class="">
         <th scope="row" style="text-align:left;">
          3D Acceleration
         </th>
         <td class="" style="">
          <div class="feature feature-no">
           Broken
          </div>
         </td>
        </tr>
        <tr class="">
         <th scope="row" style="text-align:left;">
          <abbr title="Audio playback, microphone, headset and buttons.">
           Audio
          </abbr>
         </th>
         <td class="" style="">
          <div>
          </div>
         </td>
        </tr>
        <tr class="">
         <th scope="row" style="text-align:left;">
          Bluetooth
         </th>
         <td class="" style="">
          <div>
          </div>
         </td>
        </tr>
        <tr class="">
         <th scope="row" style="text-align:left;">
          Camera
         </th>
         <td class="" style="">
          <div>
          </div>
         </td>
        </tr>
        <tr class="">
         <th scope="row" style="text-align:left;">
          GPS
         </th>
         <td class="" style="">
          <div>
          </div>
         </td>
        </tr>
        <tr class="">
         <th scope="row" style="text-align:left;">
          Mobile data
         </th>
         <td class="" style="">
          <div>
          </div>
         </td>
        </tr>
        <tr class="">
         <th scope="row" style="text-align:left;">
          SMS
         </th>
         <td class="" style="">
          <div>
          </div>
         </td>
        </tr>
        <tr class="">
         <th scope="row" style="text-align:left;">
          Calls
         </th>
         <td class="" style="">
          <div>
          </div>
         </td>
        </tr>
        <tr class="">
         <th scope="row" style="text-align:left;">
          USB OTG
         </th>
         <td class="" style="">
          <div>
          </div>
         </td>
        </tr>
        <tr class="">
         <th scope="row" style="text-align:left;">
          NFC
         </th>
         <td class="" style="">
          <div>
          </div>
         </td>
        </tr>
        <tr>
         <td colspan="2" style="text-align:right">
         </td>
        </tr>
       </tbody>
      </table>
      <table cellspacing="3" class="infobox" style="border-spacing: 3px; width:22em;">
       <caption class="" style="">
        Sensors
       </caption>
       <tbody>
        <tr class="">
         <th scope="row" style="text-align:left;">
          <abbr title="Auto screen rotation works in desktops e.g. Phosh or Plasma Mobile">
           Accelerometer
          </abbr>
         </th>
         <td class="" style="">
          <div>
          </div>
         </td>
        </tr>
        <tr class="">
         <th scope="row" style="text-align:left;">
          Magnetometer
         </th>
         <td class="" style="">
          <div>
          </div>
         </td>
        </tr>
        <tr class="">
         <th scope="row" style="text-align:left;">
          Ambient Light
         </th>
         <td class="" style="">
          <div>
          </div>
         </td>
        </tr>
        <tr class="">
         <th scope="row" style="text-align:left;">
          Proximity
         </th>
         <td class="" style="">
          <div>
          </div>
         </td>
        </tr>
        <tr class="">
         <th scope="row" style="text-align:left;">
          <abbr title="Also known as flip cover sensor">
           Hall Effect
          </abbr>
         </th>
         <td class="" style="">
          <div>
          </div>
         </td>
        </tr>
        <tr class="">
         <th scope="row" style="text-align:left;">
          Barometer
         </th>
         <td class="" style="">
          <div>
          </div>
         </td>
        </tr>
        <tr class="">
         <th scope="row" style="text-align:left;">
          Power Sensor
         </th>
         <td class="" style="">
          <div>
          </div>
         </td>
        </tr>
        <tr>
         <td colspan="2" style="text-align:right">
         </td>
        </tr>
       </tbody>
      </table>
      <table cellspacing="3" class="infobox" style="border-spacing: 3px; width:22em;">
       <caption class="" style="">
        Misc
       </caption>
       <tbody>
        <tr class="">
         <th scope="row" style="text-align:left;">
          Keyboard
         </th>
         <td class="" style="">
          <div>
          </div>
         </td>
        </tr>
        <tr class="">
         <th scope="row" style="text-align:left;">
          Touchpad
         </th>
         <td class="" style="">
          <div>
          </div>
         </td>
        </tr>
        <tr class="">
         <th scope="row" style="text-align:left;">
          <abbr title="Full-sized USB-A port works (Usually applicable to SBCs and laptops).">
           USB-A
          </abbr>
         </th>
         <td class="" style="">
          <div>
          </div>
         </td>
        </tr>
        <tr class="">
         <th scope="row" style="text-align:left;">
          <abbr title="Video and audio output with HDMI or Display Port works.">
           HDMI/DP
          </abbr>
         </th>
         <td class="" style="">
          <div>
          </div>
         </td>
        </tr>
        <tr class="">
         <th scope="row" style="text-align:left;">
          Ir TX
         </th>
         <td class="" style="">
          <div>
          </div>
         </td>
        </tr>
        <tr class="">
         <th scope="row" style="text-align:left;">
          TrustZone
         </th>
         <td class="" style="">
          <div>
          </div>
         </td>
        </tr>
        <tr class="">
         <th scope="row" style="text-align:left;">
          FOSS bootloader
         </th>
         <td class="" style="">
          <div>
          </div>
         </td>
        </tr>
        <tr>
         <td colspan="2" style="text-align:right">
         </td>
        </tr>
       </tbody>
      </table>
      <p>
       <br/>
      </p>
      <p>
       <br/>
      </p>
      <div class="toc" id="toc">
       <input class="toctogglecheckbox" id="toctogglecheckbox" role="button" style="display:none" type="checkbox"/>
       <div class="toctitle" dir="ltr" lang="en">
        <h2>
         Contents
        </h2>
        <span class="toctogglespan">
         <label class="toctogglelabel" for="toctogglecheckbox">
         </label>
        </span>
       </div>
       <ul>
        <li class="toclevel-1 tocsection-1">
         <a href="#Contributors">
          <span class="tocnumber">
           1
          </span>
          <span class="toctext">
           Contributors
          </span>
         </a>
        </li>
        <li class="toclevel-1 tocsection-2">
         <a href="#What_works">
          <span class="tocnumber">
           2
          </span>
          <span class="toctext">
           What works
          </span>
         </a>
        </li>
        <li class="toclevel-1 tocsection-3">
         <a href="#What_does_not_work">
          <span class="tocnumber">
           3
          </span>
          <span class="toctext">
           What does not work
          </span>
         </a>
        </li>
        <li class="toclevel-1 tocsection-4">
         <a href="#Progress">
          <span class="tocnumber">
           4
          </span>
          <span class="toctext">
           Progress
          </span>
         </a>
        </li>
        <li class="toclevel-1 tocsection-5">
         <a href="#Next_steps">
          <span class="tocnumber">
           5
          </span>
          <span class="toctext">
           Next steps
          </span>
         </a>
        </li>
        <li class="toclevel-1 tocsection-6">
         <a href="#Bootloaders">
          <span class="tocnumber">
           6
          </span>
          <span class="toctext">
           Bootloaders
          </span>
         </a>
        </li>
        <li class="toclevel-1 tocsection-7">
         <a href="#Installation">
          <span class="tocnumber">
           7
          </span>
          <span class="toctext">
           Installation
          </span>
         </a>
        </li>
        <li class="toclevel-1 tocsection-8">
         <a href="#How_the_wlan_support_was_done">
          <span class="tocnumber">
           8
          </span>
          <span class="toctext">
           How the wlan support was done
          </span>
         </a>
        </li>
        <li class="toclevel-1 tocsection-9">
         <a href="#See_also">
          <span class="tocnumber">
           9
          </span>
          <span class="toctext">
           See also
          </span>
         </a>
        </li>
       </ul>
      </div>
      <h2>
       <span class="mw-headline" id="Contributors">
        Contributors
       </span>
      </h2>
      <ul>
       <li>
        Langoor
       </li>
       <li>
        (others on IRC)
       </li>
       <li>
        Dominduchami
       </li>
       <li>
        (others on the Matrix chat : Henri Dellal, knuxify and others)
       </li>
      </ul>
      <h2>
       <span class="mw-headline" id="What_works">
        What works
       </span>
      </h2>
      <ul>
       <li>
        Kernel boots
       </li>
       <li>
        Display and touchscreen works
       </li>
       <li>
        Boots with xfce and mate (UI's that require 3D acceleration are not working)
       </li>
       <li>
        Wifi works correctly
       </li>
      </ul>
      <h2>
       <span class="mw-headline" id="What_does_not_work">
        What does not work
       </span>
      </h2>
      <ul>
       <li>
        Usb networking
       </li>
       <li>
        3D acceleration
       </li>
       <li>
        Everything else
       </li>
      </ul>
      <h2>
       <span class="mw-headline" id="Progress">
        Progress
       </span>
      </h2>
      <ul>
       <li>
        Got the kernel to compile, based on maniacx's nougat android kernel
       </li>
       <li>
        The qsd8k-legacy kernel boots correctly :
        <a class="external autonumber" href="https://github.com/qsd8k-legacy/android_kernel_htc_htcleo" rel="nofollow">
         [1]
        </a>
       </li>
       <li>
        Add firmware for wlan
       </li>
      </ul>
      <h2>
       <span class="mw-headline" id="Next_steps">
        Next steps
       </span>
      </h2>
      <ul>
       <li>
        Add support for bluetooth and 3D acceleration (?)
       </li>
      </ul>
      <h2>
       <span class="mw-headline" id="Bootloaders">
        Bootloaders
       </span>
      </h2>
      <p>
       Because of the age of the HD2, there are serval 3rd party bootloaders available, most commonly used:
      </p>
      <ul>
       <li>
        Haret, Haret is a bootloader (provided as haret.exe) to boot linux or android from WITHIN windows mobile, you start windows mobile, not a great choice for postmarketOS.
       </li>
       <li>
        a(MagLDR), Propitary 3rd party bootloader developed by Cotulla, some folks over at
        <a class="external text" href="https://androidforum.tytung.com" rel="nofollow">
         Tytung's android forum
        </a>
        , reverse egineered it and created aMagLdr, still propietary (?)
       </li>
       <li>
        <a class="external text" href="https://forum.xda-developers.com/showthread.php?t=1114053" rel="nofollow">
         cLK
        </a>
        , based on littlekernel and download possible with cwm or twrp recovery embedded, seems to be the best option. Littlekernel also provides fastboot wich is handy. Only this bootloader is tested right now.
       </li>
      </ul>
      <h2>
       <span class="mw-headline" id="Installation">
        Installation
       </span>
      </h2>
      <ul>
       <li>
        Install
        <a class="external text" href="https://forum.xda-developers.com/showthread.php?t=611433" rel="nofollow">
         HSPL
        </a>
       </li>
       <li>
        Install the
        <a class="external text" href="https://forum.xda-developers.com/showthread.php?t=901305" rel="nofollow">
         CLK bootloader
        </a>
       </li>
      </ul>
      <p>
       MAGLDR would probably also work, but using CLK is easier because of fastboot access.
      </p>
      <ul>
       <li>
        Install the rootfs using an SD Card
        <code>
         pmbootstrap install --sdcard=/dev/sd?
        </code>
       </li>
       <li>
        Insert the SD Card
       </li>
       <li>
        Boot the device into the CLK bootloader
       </li>
       <li>
        Flash the kernel to the boot partition using
        <code>
         pmbootstrap flasher flash_kernel
        </code>
        (flashing to the additional partitions such as sboot or tboot should work too)
       </li>
       <li>
        Select the first option (or the other boot partion if it was chosen in the previous step) to boot the kernel
       </li>
      </ul>
      <p>
       Flashing the rootfs and the kernel to NAND would probably work on the Tmobile US verion of HD2 (it has 1gb of storage space), but it is untested for now.
      </p>
      <h2>
       <span class="mw-headline" id="How_the_wlan_support_was_done">
        How the wlan support was done
       </span>
      </h2>
      <ul>
       <li>
        Find what wlan chip is being used : bcm4329 in this case
       </li>
       <li>
        Read
        <a class="external text" href="https://wiki.postmarketos.org/wiki/WiFi" rel="nofollow">
         WiFi
        </a>
        page
       </li>
       <li>
        Check what package contains firmware for the chip, in this case it is "firmware-aosp-broadcom-wlan"
       </li>
       <li>
        Change the firmware path in the kernel config
       </li>
       <li>
        Add a nonfree_firmware section :
       </li>
      </ul>
      <div class="mw-highlight mw-content-ltr" dir="ltr">
       <pre><span></span>nonfree_firmware<span class="o">()</span> <span class="o">{</span>
	<span class="nv">pkgdesc</span><span class="o">=</span><span class="s2">"Wifi firmware"</span>
	<span class="nv">depends</span><span class="o">=</span><span class="s2">"firmware-aosp-broadcom-wlan"</span>
	mkdir <span class="s2">"</span><span class="nv">$subpkgdir</span><span class="s2">"</span>
<span class="o">}</span>
</pre>
      </div>
      <ul>
       <li>
        Update checksums, rebuild device and linux packages and boot the device
       </li>
      </ul>
      <h2>
       <span class="mw-headline" id="See_also">
        See also
       </span>
      </h2>
      <ul>
       <li>
        <a class="external text" href="https://gitlab.com/postmarketOS/pmaports/-/merge_requests/1666" rel="nofollow">
         pmaports!1666
        </a>
        Merge request
       </li>
       <li>
        <a class="external text" href="https://gitlab.com/postmarketOS/pmaports/-/tree/master/device/testing/device-htc-leo" rel="nofollow">
         Device package
        </a>
       </li>
       <li>
        <a class="external text" href="https://gitlab.com/postmarketOS/pmaports/-/tree/master/device/testing/linux-htc-leo" rel="nofollow">
         Kernel package
        </a>
       </li>
      </ul>
     </div>
    </div>
    <div class="catlinks" data-mw="interface" id="catlinks">
     <div class="mw-normal-catlinks" id="mw-normal-catlinks">
      <a href="../Special:Categories.html" title="Special:Categories">
       Category
      </a>
      :
      <ul>
       <li>
        <a href="../en/Category:Devices.html" title="Category:Devices">
         Devices
        </a>
       </li>
      </ul>
     </div>
    </div>
    <div class="visualClear">
    </div>
   </div>
  </div>
  <div id="footer" role="contentinfo" style="margin: 0">
   <ul id="footer-info">
    <li>
     Retrieved from "
     <a dir="ltr" href="https://wiki.postmarketos.org/index.php?title=HTC_HD2_(htc-leo)&amp;oldid=15676">
      https://wiki.postmarketos.org/index.php?title=HTC_HD2_(htc-leo)&amp;oldid=15676
     </a>
     "
    </li>
    <li id="footer-info-lastmod">
     This page was last edited on 30 November 2020, at 09:48.
    </li>
    <li id="footer-info-copyright">
     Content is available under
     <a class="external" href="https://creativecommons.org/licenses/by-sa/4.0/" rel="nofollow">
      Creative Commons Attribution-ShareAlike
     </a>
     unless otherwise noted.
    </li>
    <br/>
   </ul>
   <ul id="footer-places">
    <li id="footer-places-privacy">
     <a href="../en/PostmarketOS:Privacy_policy.html" title="PostmarketOS:Privacy policy">
      Privacy policy
     </a>
    </li>
    <li id="footer-places-about">
     <a class="mw-redirect" href="../en/About_postmarketOS.html" title="PostmarketOS:About">
      About postmarketOS
     </a>
    </li>
    <li id="footer-places-disclaimer">
     <a href="../en/PostmarketOS:General_disclaimer.html" title="PostmarketOS:General disclaimer">
      Disclaimers
     </a>
    </li>
    <li id="footer-places-mobileview">
     <a class="noprint stopMobileRedirectToggle" href="https://wiki.postmarketos.org/index.php?title=HTC_HD2_(htc-leo)&amp;mobileaction=toggle_view_mobile">
      Mobile view
     </a>
    </li>
   </ul>
   <ul class="noprint" id="footer-icons">
    <li id="footer-copyrightico">
     <a href="https://creativecommons.org/licenses/by-sa/4.0/">
      <img alt="Creative Commons Attribution-ShareAlike" height="31" src="../cc-by-sa.png" width="88"/>
     </a>
    </li>
    <li id="footer-poweredbyico">
     <a href="https://www.mediawiki.org/">
      <img alt="Powered by MediaWiki" height="31" src="../poweredby_mediawiki_88x31.png" srcset="" width="88"/>
     </a>
    </li>
   </ul>
   <div style="clear: both;">
   </div>
  </div>
 </body>
</html>
