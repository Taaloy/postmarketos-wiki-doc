<!DOCTYPE html>
<html class="client-nojs" lang="en" dir="ltr">
<head>
<meta charset="UTF-8">
<title>Google Nexus 4 (lg-mako) - postmarketOS</title>
<link rel="stylesheet" href="../PostmarketOSWikiOffline.css">
<meta name="ResourceLoaderDynamicStyles" content="">
<meta name="generator" content="MediaWiki 1.34.2">
<link rel="shortcut icon" href="/favicon.ico">
<link rel="search" type="application/opensearchdescription+xml" href="/opensearch_desc.php" title="postmarketOS (en)">
<link rel="EditURI" type="application/rsd+xml" href="https://wiki.postmarketos.org/api.php?action=rsd">
<link rel="license" href="https://creativecommons.org/licenses/by-sa/4.0/">
<link rel="alternate" type="application/atom+xml" title="postmarketOS Atom feed" href="/index.php?title=Special:RecentChanges&amp;feed=atom">
</head>
<body class="mediawiki ltr sitedir-ltr mw-hide-empty-elt ns-0 ns-subject page-Google_Nexus_4_lg-mako rootpage-Google_Nexus_4_lg-mako skin-vector action-view">
<div id="content" class="mw-body" role="main" style="margin: 0">
	<a id="top"></a>
	
	<div class="mw-indicators mw-body-content">
</div>

	<h1 id="firstHeading" class="firstHeading" lang="en">Google Nexus 4 (lg-mako)</h1>
	
	<div id="bodyContent" class="mw-body-content">
		<div id="siteSub" class="noprint">From postmarketOS</div>
		<div id="contentSub"></div>
		
		
		
		<div id="jump-to-nav"></div>
		<a class="mw-jump-link" href="#mw-head">Jump to navigation</a>
		<a class="mw-jump-link" href="#p-search">Jump to search</a>
		<div id="mw-content-text" lang="en" dir="ltr" class="mw-content-ltr"><div class="mw-parser-output">
<table role="text container" style="color: inherit; background-color: #f6efe5; border: 1px solid #ac6600; margin: 4px 0; border-collapse: collapse;"><tbody><tr>
<td style="padding: 2px 0 2px 0.9em; text-align: center;"><span style="white-space: nowrap;"><img alt="Note" src="../Reference_icon.svg" decoding="async" title="Note" width="20" height="20" srcset="../Reference_icon.svg 1.5x ../Reference_icon.svg 2x"></span></td>
<td style="padding: 0.35em 0.9em; width: 100%;">Currently the device is booting into a black screen, see <a rel="nofollow" class="external text" href="https://gitlab.com/postmarketOS/pmaports/-/issues/209">pmaports#209</a>. Help with resolving this is welcome. Please remove this note when the issue has been fixed.</td>
</tr></tbody></table>
<table class="infobox" cellspacing="3" style="border-spacing: 3px; width:22em;">
<caption class="" style="">Google (LG) Nexus 4</caption>
<tbody>
<tr class=""><td colspan="2" class="" style="text-align:center;">
<a href="../LG_Nexus_4_Weston.png" class="image"><img alt="LG Nexus 4 running Weston" src="../LG_Nexus_4_Weston.png" decoding="async" width="200" height="267" srcset="../LG_Nexus_4_Weston.png 1.5x ../LG_Nexus_4_Weston.png 2x"></a><br><span style="">LG Nexus 4 running Weston</span>
</td></tr>
<tr class="">
<th scope="row" style="text-align:left;">Manufacturer</th>
    <td class="" style="">
Google (LG)</td>
</tr>
<tr class="">
<th scope="row" style="text-align:left;">Name</th>
    <td class="" style="">
Nexus 4</td>
</tr>
<tr class="">
<th scope="row" style="text-align:left;">Codename</th>
    <td class="" style="">
lg-mako</td>
</tr>
<tr class="">
<th scope="row" style="text-align:left;">Released</th>
    <td class="" style="">
2012</td>
</tr>
<tr class="">
<th scope="row" style="text-align:left;">Category</th>
    <td class="" style="">
testing</td>
</tr>
<tr class="">
<th scope="row" style="text-align:left;">Original software</th>
    <td class="" style="">
Android on Linux 3.4</td>
</tr>
<tr><th colspan="2" class="" style="text-align:center;">Hardware</th></tr>
<tr class="">
<th scope="row" style="text-align:left;">Chipset</th>
    <td class="" style="">
<a href="../en/Qualcomm_Snapdragon_600_(APQ8064).html" class="mw-redirect" title="Qualcomm Snapdragon S4 Pro (APQ8064)">Qualcomm Snapdragon S4 Pro (APQ8064)</a>
</td>
</tr>
<tr class="">
<th scope="row" style="text-align:left;">CPU</th>
    <td class="" style="">
Quad-core 1.5 GHz Krait</td>
</tr>
<tr class="">
<th scope="row" style="text-align:left;">GPU</th>
    <td class="" style="">
Adreno 320</td>
</tr>
<tr class="">
<th scope="row" style="text-align:left;">Display</th>
    <td class="" style="">
768x1280 IPS</td>
</tr>
<tr class="">
<th scope="row" style="text-align:left;">Storage</th>
    <td class="" style="">
8/16 GB</td>
</tr>
<tr class="">
<th scope="row" style="text-align:left;">Memory</th>
    <td class="" style="">
2 GB</td>
</tr>
<tr class="">
<th scope="row" style="text-align:left;">Architecture</th>
    <td class="" style="">
armv7</td>
</tr>
<tr class="">
<th scope="row" style="text-align:left;">Unixbench Whet/Dhry score</th>
    <td class="" style="">
1233.4</td>
</tr>
<tr><td colspan="2" style="text-align:right"></td></tr>
</tbody>
</table>
<table class="infobox" cellspacing="3" style="border-spacing: 3px; width:22em;">
<caption class="" style="">Features</caption>
<tbody>
<tr class="">
<th scope="row" style="text-align:left;"><abbr title="After connecting the device with USB to your PC, you can connect to it via telnet (initramfs) or SSH (booted system).">USB Networking</abbr></th>
    <td class="" style="">
<div class="feature feature-yes">Works</div>
</td>
</tr>
<tr class="">
<th scope="row" style="text-align:left;"><abbr title="It is possible to flash the device with `pmbootstrap flasher`.">Flashing</abbr></th>
    <td class="" style="">
<div class="feature feature-yes">Works</div>
</td>
</tr>
<tr class="">
<th scope="row" style="text-align:left;">Touchscreen</th>
    <td class="" style="">
<div class="feature feature-yes">Works</div>
</td>
</tr>
<tr class="">
<th scope="row" style="text-align:left;"><abbr title="Display works. Ideally with sleep mode and brightness control.">Display</abbr></th>
    <td class="" style="">
<div class="feature feature-no">Broken</div>
</td>
</tr>
<tr class="">
<th scope="row" style="text-align:left;">WiFi</th>
    <td class="" style="">
<div class="feature feature-yes">Works</div>
</td>
</tr>
<tr class="">
<th scope="row" style="text-align:left;"><abbr title="Full disk encryption and unlocking with osk-sdl.">FDE</abbr></th>
    <td class="" style="">
<div class="feature feature-yes">Works</div>
</td>
</tr>
<tr class="">
<th scope="row" style="text-align:left;"><abbr title="Instead of a Linux kernel fork, it is possible to run mainline.">Mainline</abbr></th>
    <td class="" style="">
<div class="feature feature-partial">Partial</div>
</td>
</tr>
<tr class="">
<th scope="row" style="text-align:left;"><abbr title="Charging and battery level reporting works">Battery</abbr></th>
    <td class="" style="">
<div class="feature feature-yes">Works</div>
</td>
</tr>
<tr class="">
<th scope="row" style="text-align:left;">3D Acceleration</th>
    <td class="" style="">
<div></div>
</td>
</tr>
<tr class="">
<th scope="row" style="text-align:left;"><abbr title="Audio playback, microphone, headset and buttons.">Audio</abbr></th>
    <td class="" style="">
<div></div>
</td>
</tr>
<tr class="">
<th scope="row" style="text-align:left;">Bluetooth</th>
    <td class="" style="">
<div></div>
</td>
</tr>
<tr class="">
<th scope="row" style="text-align:left;">Camera</th>
    <td class="" style="">
<div></div>
</td>
</tr>
<tr class="">
<th scope="row" style="text-align:left;">GPS</th>
    <td class="" style="">
<div></div>
</td>
</tr>
<tr class="">
<th scope="row" style="text-align:left;">Mobile data</th>
    <td class="" style="">
<div></div>
</td>
</tr>
<tr class="">
<th scope="row" style="text-align:left;">SMS</th>
    <td class="" style="">
<div></div>
</td>
</tr>
<tr class="">
<th scope="row" style="text-align:left;">Calls</th>
    <td class="" style="">
<div></div>
</td>
</tr>
<tr class="">
<th scope="row" style="text-align:left;">USB OTG</th>
    <td class="" style="">
<div class="feature feature-yes">Works</div>
</td>
</tr>
<tr class="">
<th scope="row" style="text-align:left;">NFC</th>
    <td class="" style="">
<div></div>
</td>
</tr>
<tr><td colspan="2" style="text-align:right"></td></tr>
</tbody>
</table>
<table class="infobox" cellspacing="3" style="border-spacing: 3px; width:22em;">
<caption class="" style="">Sensors</caption>
<tbody>
<tr class="">
<th scope="row" style="text-align:left;"><abbr title="Auto screen rotation works in desktops e.g. Phosh or Plasma Mobile">Accelerometer</abbr></th>
    <td class="" style="">
<div></div>
</td>
</tr>
<tr class="">
<th scope="row" style="text-align:left;">Magnetometer</th>
    <td class="" style="">
<div></div>
</td>
</tr>
<tr class="">
<th scope="row" style="text-align:left;">Ambient Light</th>
    <td class="" style="">
<div></div>
</td>
</tr>
<tr class="">
<th scope="row" style="text-align:left;">Proximity</th>
    <td class="" style="">
<div></div>
</td>
</tr>
<tr class="">
<th scope="row" style="text-align:left;"><abbr title="Also known as flip cover sensor">Hall Effect</abbr></th>
    <td class="" style="">
<div></div>
</td>
</tr>
<tr class="">
<th scope="row" style="text-align:left;">Barometer</th>
    <td class="" style="">
<div></div>
</td>
</tr>
<tr class="">
<th scope="row" style="text-align:left;">Power Sensor</th>
    <td class="" style="">
<div></div>
</td>
</tr>
<tr><td colspan="2" style="text-align:right"></td></tr>
</tbody>
</table>
<table class="infobox" cellspacing="3" style="border-spacing: 3px; width:22em;">
<caption class="" style="">Misc</caption>
<tbody>
<tr class="">
<th scope="row" style="text-align:left;">Camera Flash</th>
    <td class="" style="">
<div></div>
</td>
</tr>
<tr class="">
<th scope="row" style="text-align:left;">Keyboard</th>
    <td class="" style="">
<div></div>
</td>
</tr>
<tr class="">
<th scope="row" style="text-align:left;">Touchpad</th>
    <td class="" style="">
<div></div>
</td>
</tr>
<tr class="">
<th scope="row" style="text-align:left;"><abbr title="Full-sized USB-A port works (Usually applicable to SBCs and laptops).">USB-A</abbr></th>
    <td class="" style="">
<div></div>
</td>
</tr>
<tr class="">
<th scope="row" style="text-align:left;"><abbr title="Video and audio output with HDMI or Display Port works.">HDMI/DP</abbr></th>
    <td class="" style="">
<div></div>
</td>
</tr>
<tr class="">
<th scope="row" style="text-align:left;">Ir TX</th>
    <td class="" style="">
<div></div>
</td>
</tr>
<tr class="">
<th scope="row" style="text-align:left;">Ir RX</th>
    <td class="" style="">
<div></div>
</td>
</tr>
<tr class="">
<th scope="row" style="text-align:left;">Stylus</th>
    <td class="" style="">
<div></div>
</td>
</tr>
<tr class="">
<th scope="row" style="text-align:left;">Haptics</th>
    <td class="" style="">
<div></div>
</td>
</tr>
<tr class="">
<th scope="row" style="text-align:left;">Ethernet</th>
    <td class="" style="">
<div></div>
</td>
</tr>
<tr class="">
<th scope="row" style="text-align:left;">FOSS bootloader</th>
    <td class="" style="">
<div></div>
</td>
</tr>
<tr><td colspan="2" style="text-align:right"></td></tr>
</tbody>
</table>
<p><br>
</p>
<p><br>
</p>
<table class="infobox" style="float: right; width: 22em; color: inherit; background-color: #f7fff7; border: 3px solid #8a8;"><tbody><tr><td>
<b>This device is based on the <a href="../en/Qualcomm_Snapdragon_600_(APQ8064).html" title="Qualcomm Snapdragon 600 (APQ8064)">Snapdragon 600</a>.</b><br>See the SoC page for common tips, guides and troubleshooting steps</td></tr></tbody></table>
<h2><span class="mw-headline" id="Installation">Installation</span></h2>
<table role="text container" style="color: inherit; background-color: #f6efe5; border: 1px solid #ac6600; margin: 4px 0; border-collapse: collapse;"><tbody><tr>
<td style="padding: 2px 0 2px 0.9em; text-align: center;"><span style="white-space: nowrap;"><img alt="Note" src="../Reference_icon.svg" decoding="async" title="Note" width="20" height="20" srcset="../Reference_icon.svg 1.5x ../Reference_icon.svg 2x"></span></td>
<td style="padding: 0.35em 0.9em; width: 100%;">FDE (full disk encryption) seems to be broken for lg-mako currently, see <a rel="nofollow" class="external text" href="https://gitlab.com/postmarketOS/pmaports/-/issues/209">pmaports#209</a>
</td>
</tr></tbody></table>
<table role="text container" style="color: inherit; background-color: #f6efe5; border: 1px solid #ac6600; margin: 4px 0; border-collapse: collapse;"><tbody><tr>
<td style="padding: 2px 0 2px 0.9em; text-align: center;"><span style="white-space: nowrap;"><img alt="Note" src="../Reference_icon.svg" decoding="async" title="Note" width="20" height="20" srcset="../Reference_icon.svg 1.5x ../Reference_icon.svg 2x"></span></td>
<td style="padding: 0.35em 0.9em; width: 100%;">No backend is available for user interface weston - it will boot to black/blank screen, see <a href="../en/Weston.html#Troubleshooting" title="Weston">Weston troubleshooting</a>.</td>
</tr></tbody></table>
<pre>pmbootstrap init
pmbootstrap install
(enter fastboot, see below)
pmbootstrap flasher flash_rootfs
pmbootstrap flasher boot
</pre>
<p>To flash the kernel, you can choose <code>pmbootstrap flasher flash kernel</code> (but charging and power off doesn't work as expected anymore, see below).
</p>
<p>Attempting to flash an arbitrarily large rootfs (here xfce4 ui, &gt;1GB), will fail:
</p>
<div class="mw-highlight mw-content-ltr" dir="ltr"><pre><span></span><span class="gp">$</span> fastboot flash userdata lg-mako.img
<span class="go">Sending 'userdata' (1129472 KB)                    FAILED (remote: 'data too large')</span>
<span class="go">fastboot: error: Command failed</span>
</pre></div>
<p>Note that this is not related to the destination partition size.  The getvar option to <code>fastboot</code> does not list a max-download-size variable.  Unfortunately the <code>fastboot -S</code> flag is not useful since the image is not sparse.  An untested tedious workaround may be to just flash a smaller ui image and manually <code>apk del/add</code>.
</p>
<h2>
<span id='Entering_"Fastboot_mode"'></span><span class="mw-headline" id="Entering_.22Fastboot_mode.22">Entering "Fastboot mode"</span>
</h2>
<p>Hold <code>Volume Down</code> + <code>Power</code>, let go of <code>Power</code> once the device display does something (e.g. turns from battery icon to black screen).
</p>
<h2><span class="mw-headline" id="Reverting_to_factory">Reverting to factory</span></h2>
<p>Reflashing a factory image after a pmOS install may hang.  For the final factory image (LMY48T), the display will show a looping animation of rotating / flying colored dots on a black background (but be patient, wait at least 10 minutes to confirm hang).
Follow the instructions at <a href="../en/Google_Nexus_10_(samsung-manta).html#Reverting_back_to_stock_.2F_recreating_broken_partitions" title="Google Nexus 10 (samsung-manta)"> Reverting to stock (manta)</a>.  The first time setup screen should follow the rotating dots (perhaps 8 minutes).  During the flash the back of the device may warm noticeably.
</p>
<h2>
<span id="Charging_and_power_off_(after_flashing_the_postmarketOS_kernel)"></span><span class="mw-headline" id="Charging_and_power_off_.28after_flashing_the_postmarketOS_kernel.29">Charging and power off (after flashing the postmarketOS kernel)</span>
</h2>
<table role="text container" style="color: inherit; background-color: #f6efe5; border: 1px solid #ac6600; margin: 4px 0; border-collapse: collapse;"><tbody><tr>
<td style="padding: 2px 0 2px 0.9em; text-align: center;"><span style="white-space: nowrap;"><img alt="Note" src="../Reference_icon.svg" decoding="async" title="Note" width="20" height="20" srcset="../Reference_icon.svg 1.5x ../Reference_icon.svg 2x"></span></td>
<td style="padding: 0.35em 0.9em; width: 100%;">You don't have to flash the kernel! <code>pmbootstrap flasher boot</code> is also working!</td>
</tr></tbody></table>
<p>You can flash the postmarketOS kernel, but instead of charging the battery, it will boot straight into postmarketOS (or the on screen keyboard to type in the password). Right now, the best way to charge it from that situation is to boot the recovery TWRP.
</p>
<p>You can properly turn the device off by unplugging the usb cable, then booting into fastboot, then choosing power off.
</p>
<h2><span class="mw-headline" id="Wifi">Wifi</span></h2>
<p>We need to package the <a rel="nofollow" class="external text" href="https://github.com/LineageOS/android_device_lge_mako/blob/12ac6e9aeb32d5ac9fc832f2214ede2c7690d0a6/proprietary-blobs.txt#L152-L157">wcnss.* files</a> for wifi.
A version from 2015 can be found <a rel="nofollow" class="external text" href="https://github.com/TheMuppets/proprietary_vendor_lge/tree/cm-14.1/mako/proprietary/vendor/firmware">here</a>.
</p>
<h2>
<span id="Hardware_status_(downstream_kernel)"></span><span class="mw-headline" id="Hardware_status_.28downstream_kernel.29">Hardware status (downstream kernel)</span>
</h2>
<h3><span class="mw-headline" id="Output_from_hwtest">Output from hwtest</span></h3>
<div class="toccolours mw-collapsible mw-collapsed" style="width: 800px; overflow: auto;">
<p><code>hwtest</code> output:
</p>
<div class="mw-collapsible-content">
<div class="mw-highlight mw-content-ltr" dir="ltr"><pre>Category         Model                Path             Status     Value
framebuffer      msmfb44_80601        /sys/class/graphics/fb0 working    U:768x1280p-0
framebuffer      msmfb44_70001        /sys/class/graphics/fb1 working
framebuffer      msmfb44_a0001        /sys/class/graphics/fb2 working
input            hs_detect            /dev/input/event5 working
input            apq8064-tabla-snd-card Headset Jack /dev/input/event4 working
input            apq8064-tabla-snd-card Button Jack /dev/input/event3 working 
input            touch_dev            /dev/input/event2 working
input            keypad_8064          /dev/input/event1 working
input            pmic8xxx_pwrkey      /dev/input/event0 working</pre></div>
</div>
</div>
<h3><span class="mw-headline" id="CPU_tuning">CPU tuning</span></h3>
<div class="toccolours mw-collapsible mw-collapsed" style="width: 800px; overflow: auto;">
<p>CPU tuning:
</p>
<div class="mw-collapsible-content">
<p>The default governor is battery-draining "performance" (see <code>cpufreq-info</code>, package cpufrequtils).  Thermal throttling seems to be activated in this case (dmesg):
</p>
<div class="mw-highlight mw-content-ltr" dir="ltr"><pre>[  552.307952] msm_thermal: Limiting cpu0 max frequency to 1350000</pre></div>
<p>Try the "ondemand" governor (via <code>cpufreq-set</code>).
</p>
</div>
</div>
<h3><span class="mw-headline" id="Charging">Charging</span></h3>
<div class="toccolours mw-collapsible mw-collapsed" style="width: 800px; overflow: auto;">
<p>Charging:
</p>
<div class="mw-collapsible-content">
<p>Charging appears to work (during USB networking at least).  Monitor via <code>systool -v -c power_supply|grep capacity</code>.  Charging current seems to be reported as a negative value.  (Try <code>systool -v -c power_supply|grep CURR</code>.
</p>
<p>Charging updates also spam dmesg:
</p>
<div class="mw-highlight mw-content-ltr" dir="ltr"><pre>[ 1366.506774] pm8921_chg_status_show: pm8921_chg_status_show , true ! buf = 1
[ 1366.506774] , is_charging = 1
[ 1382.078124] adjust_soc: ibat_ua = -344300, vbat_uv = 4323186, soc = 84, batt_temp=253
[ 1402.078124] adjust_soc: ibat_ua = -340800, vbat_uv = 4326126, soc = 85, batt_temp=253</pre></div>
<p>The <code>sensors</code> command (package lm-sensors) shows a couple of charging-related(?), non-zero thermal sensor values (<code>pm8921_tz-virtual-0</code> and <code>pm8821_tz-virtual-0</code>).
</p>
</div>
</div>
<h3><span class="mw-headline" id="Sensors">Sensors</span></h3>
<p>For reference, sensor information from sensorsandbox (f-droid) on mako 16GB; note that in addition to hardware-based sensors, it presumably includes software-based / derived sensors.
</p>
<div class="toccolours mw-collapsible mw-collapsed" style="width:600px; overflow:auto;">
<p>sensor details (sensorssandbox)
</p>
<div class="mw-collapsible-content">
<table class="wikitable feature-colors">
<tbody>
<tr>
<th style="text-align:left;">name
</th>
<th style="text-align:left;">vendor
</th>
<th style="text-align:left;">version
</th>
<th style="text-align:left;">type
</th>
</tr>
<tr>
<td>LGE acceleration sensor
</td>
<td>Invensense
</td>
<td>1
</td>
<td>1
</td>
</tr>
<tr>
<td>LGE magnetometer sensor
</td>
<td>AKM
</td>
<td>1
</td>
<td>2
</td>
</tr>
<tr>
<td>orientation
</td>
<td>Qualcomm
</td>
<td>1
</td>
<td>3
</td>
</tr>
<tr>
<td>LGE proximity sensor
</td>
<td>Avago
</td>
<td>2
</td>
<td>8
</td>
</tr>
<tr>
<td>LGE light sensor
</td>
<td>Avago
</td>
<td>2
</td>
<td>5
</td>
</tr>
<tr>
<td>LGE gyroscope sensor
</td>
<td>Invensense
</td>
<td>1
</td>
<td>4
</td>
</tr>
<tr>
<td>LGE barometer sensor
</td>
<td>Bosch
</td>
<td>1
</td>
<td>6
</td>
</tr>
<tr>
<td>LGE magnetometer sensor
</td>
<td>AKM
</td>
<td>1
</td>
<td>14
</td>
</tr>
<tr>
<td>LGE gyroscope sensor
</td>
<td>Invensense
</td>
<td>1
</td>
<td>16
</td>
</tr>
<tr>
<td>gravity
</td>
<td>Qualcomm
</td>
<td>1
</td>
<td>9
</td>
</tr>
<tr>
<td>linear acceleration sensor
</td>
<td>Qualcomm
</td>
<td>1
</td>
<td>10
</td>
</tr>
<tr>
<td>rotation vector
</td>
<td>Qualcomm
</td>
<td>1
</td>
<td>11
</td>
</tr>
<tr>
<td>significant motion
</td>
<td>Qualcomm
</td>
<td>1
</td>
<td>17
</td>
</tr>
<tr>
<td>game rotation vector
</td>
<td>Qualcomm
</td>
<td>1
</td>
<td>15
</td>
</tr>
</tbody>
</table>
</div>
</div>
<h2><span class="mw-headline" id="Mainline">Mainline</span></h2>
<table role="text container" style="color: inherit; background-color: #f6efe5; border: 1px solid #ac6600; margin: 4px 0; border-collapse: collapse;"><tbody><tr>
<td style="padding: 2px 0 2px 0.9em; text-align: center;"><span style="white-space: nowrap;"><img alt="Note" src="../Reference_icon.svg" decoding="async" title="Note" width="20" height="20" srcset="../Reference_icon.svg 1.5x ../Reference_icon.svg 2x"></span></td>
<td style="padding: 0.35em 0.9em; width: 100%;">See <a href="../en/Mainlining_Guide.html" class="mw-redirect" title="The Mainline Kernel">The Mainline Kernel</a> for a general introduction to mainlining.</td>
</tr></tbody></table>
<p>Current tree can be found here <a href="../en/Qualcomm_Snapdragon_600_(APQ8064).html#Mainlining" title="Qualcomm Snapdragon 600 (APQ8064)">Qualcomm_Snapdragon_600_(APQ8064)#Mainlining</a>
</p>
<p><b>theohussey's mainlining progress was <a rel="nofollow" class="external text" href="https://gitlab.com/theohussey/linux-postmarketos/-/tree/device-lg-mako">here</a>.</b> Read on for generic instructions of what would need to be done.
</p>
<p>That most peripherals of the <code>mako</code> should work with mainline as well, once they are enabled in the DTS file. In fact, @vetzki reported in <a rel="nofollow" class="external text" href="https://github.com/postmarketOS/pmbootstrap/issues/1079">#1079</a> that the <code>mako</code> boots when using exactly the same DTS as the one from <code>flo</code> (this is not recommended, as misconfiguring your device like that may damage it). SSH appears to be working for a short time before getting kicked out, the display does not work.
</p>
<p>A good way forward would be using a minimal version of the <code>flo</code> DTS, where everything but USB is deleted, and fixing USB / trying to get the display working with the <a rel="nofollow" class="external text" href="https://github.com/freedreno/freedreno/wiki/DSI-Panel-Driver-Porting">DSI Panel Porting Guide</a>. The downstream DTSI files that need to be ported to the upstream kernel are probably located <a rel="nofollow" class="external text" href="https://github.com/LineageOS/android_kernel_lge_mako/tree/lineage-15.1/arch/arm/boot/dts">here</a>, and I guess the exact panel name appears when running <code>dmesg</code> after a successful boot (I did not verify this). Please expand this when you're working on it, and report your progress in #postmarketOS. Check out the <a href="../en/Mainlining_Guide.html" class="mw-redirect" title="Mainline Guide">Mainline Guide</a>.
</p>
<h3><span class="mw-headline" id="Partition_Layout">Partition Layout</span></h3>
<div class="toccolours mw-collapsible mw-collapsed" style="width: 620px; overflow: auto;">
<p>Partition layout:
</p>
<div class="mw-collapsible-content">
<div class="mw-highlight mw-content-ltr" dir="ltr"><pre><span></span><span class="gp">#</span> fdisk /dev/block/mmcblk0
<span class="go">Found valid GPT with protective MBR; using GPT</span>


<span class="go">Command (m for help): p</span>
<span class="go">Disk /dev/block/mmcblk0: 15269888 sectors, 3360M</span>
<span class="go">Logical sector size: 512</span>
<span class="go">Disk identifier (GUID): 98101b32-bbe2-4bf2-a06e-2bb33d000c20</span>
<span class="go">Partition table holds up to 28 entries</span>
<span class="go">First usable sector is 34, last usable sector is 15269854</span>

<span class="go">Number  Start (sector)    End (sector)  Size       Code  Name</span>
<span class="go">   1            1024          132095       64.0M   0700  modem</span>
<span class="go">   2          132096          133119        512K   0700  sbl1</span>
<span class="go">   3          133120          134143        512K   0700  sbl2</span>
<span class="go">   4          134144          138239       2048K   0700  sbl3</span>
<span class="go">   5          138240          139263        512K   0700  tz</span>
<span class="go">   6          139264          184319       22.0M   0700  boot</span>
<span class="go">   7          184320          229375       22.0M   0700  recovery</span>
<span class="go">   8          229376          230935        780K   0700  m9kefs1</span>
<span class="go">   9          230936          232495        780K   0700  m9kefs2</span>
<span class="go">  10          232496          234055        780K   0700  m9kefs3</span>
<span class="go">  11          234496          235519        512K   0700  rpm</span>
<span class="go">  12          235520          236543        512K   0700  aboot</span>
<span class="go">  13          236544          237567        512K   0700  sbl2b</span>
<span class="go">  14          237568          241663       2048K   0700  sbl3b</span>
<span class="go">  15          241664          242687        512K   0700  abootb</span>
<span class="go">  16          242688          243711        512K   0700  rpmb</span>
<span class="go">  17          243712          244735        512K   0700  tzb</span>
<span class="go">  18          244736          245759        512K   0700  metadata</span>
<span class="go">  19          245760          278527       16.0M   0700  misc</span>
<span class="go">  20          278528          311295       16.0M   0700  persist</span>
<span class="go">  21          311296         2031615        840M   0700  system</span>
<span class="go">  22         2031616         3178495        560M   0700  cache</span>
<span class="go">  23         3178496        15267839       5903M   0700  userdata</span>
<span class="go">  24        15267840        15268863        512K   0700  DDR</span>
<span class="go">  25        15268864        15269854        495K   0700  grow</span>
</pre></div>
</div>
</div>
<h1><span class="mw-headline" id="Community_Info">Community Info</span></h1>
<h2><span class="mw-headline" id="postmarketOS_users_that_own_the_device">postmarketOS users that own the device</span></h2>
<div style="-webkit-column-count: 2; -moz-column-count: 2; column-count: 2;"><ul style="margin-top: 0;">
<li><a href="../User:AnimalFriend11.html" title="User:AnimalFriend11">AnimalFriend11</a></li>
<li>
<a href="../User:Dcambie.html" title="User:Dcambie">Dcambie</a> (<span class="cargoFieldName">Notes:</span> Testing)</li>
<li>
<a href="../User:Gouchi.html" title="User:Gouchi">Gouchi</a> (<span class="cargoFieldName">Notes:</span> <a rel="nofollow" class="external text" href="https://gitlab.com/postmarketOS/pmaports/-/issues/209">pmaports#209</a>)</li>
<li><a href="../User:Haeckle.html" title="User:Haeckle">Haeckle</a></li>
<li><a href="../User:Ichernev.html" title="User:Ichernev">Ichernev</a></li>
<li><a href="../User:Lantizia.html" title="User:Lantizia">Lantizia</a></li>
<li>
<a href="../User:Lazcode.html" title="User:Lazcode">Lazcode</a> (<span class="cargoFieldName">Notes:</span> Needs new battery)</li>
<li>
<a href="../User:Lifehackerhansol.html" title="User:Lifehackerhansol">Lifehackerhansol</a> (<span class="cargoFieldName">Notes:</span> 16GB model)</li>
<li>
<a href="../User:Linmob.html" title="User:Linmob">Linmob</a> (<span class="cargoFieldName">Notes:</span> 8GB, runs Ubuntu Touch)</li>
<li>
<a href="../User:Maff.html" title="User:Maff">Maff</a> (<span class="cargoFieldName">Notes:</span> Screen-swapped with another, deader Nexus 4)</li>
<li><a href="../User:Ollieparanoid.html" title="User:Ollieparanoid">Ollieparanoid</a></li>
<li>
<a href="../User:Otto.html" title="User:Otto">Otto</a> (<span class="cargoFieldName">Notes:</span> 4 with broken screens)</li>
<li>
<a href="../User:Roboe.html" title="User:Roboe">Roboe</a> (<span class="cargoFieldName">Notes:</span> variant: mako 16GB, version-hardware: rev_11; working SlimPort HDMI adapter available; running UBPorts stable)</li>
<li>
<a href="../User:Russanandres.html" title="User:Russanandres">Russanandres</a> (<span class="cargoFieldName">Notes:</span> quadrupleboot)</li>
<li><a href="../User:TechEdison.html" title="User:TechEdison">TechEdison</a></li>
</ul></div>
<p><br>
</p>
<h2><span class="mw-headline" id="Maintainers">Maintainers</span></h2>
<ul><li>Ivan Belokobylskiy</li></ul>
<h2><span class="mw-headline" id="Contributors">Contributors</span></h2>
<ul>
<li>ollieparanoid</li>
<li>PabloCastellano and robb4 on IRC: Workaround for red screen bug (<a rel="nofollow" class="external text" href="https://github.com/postmarketOS/pmbootstrap/issues/54">#54</a>)</li>
</ul>
<h2><span class="mw-headline" id="See_also">See also</span></h2>
<ul>
<li><a rel="nofollow" class="external text" href="https://github.com/freedreno/freedreno/wiki/Nexus-4">freedreno: Nexus 4</a></li>
<li><a rel="nofollow" class="external text" href="https://gitlab.com/postmarketOS/pmaports/-/tree/master/device/testing/device-lg-mako">Device package</a></li>
<li><a rel="nofollow" class="external text" href="https://gitlab.com/postmarketOS/pmaports/-/tree/master/device/testing/linux-lg-mako">Kernel package</a></li>
<li><a rel="nofollow" class="external text" href="https://web.archive.org/web/20170607151608/https://www.optiv.com/blog/building-a-nexus-4-uart-debug-cable">Tutorial: UART debug cable</a></li>
<li><a rel="nofollow" class="external text" href="https://developers.google.com/android/drivers#mako">Official proprietary drivers</a></li>
<li>
<a rel="nofollow" class="external text" href="https://gitlab.com/postmarketOS/pmbootstrap/-/issues/1079">#1079</a> The Nexus 7 DTB is so similar, it even boots</li>
<li>
<a rel="nofollow" class="external text" href="https://gitlab.com/postmarketOS/linux-postmarketos/-/issues/9">linux-postmarketos#9</a> Attempt at writing a new DTS for the Nexus 4</li>
</ul>
</div></div>
		
		<div id="catlinks" class="catlinks" data-mw="interface"><div id="mw-normal-catlinks" class="mw-normal-catlinks">
<a href="../Special:Categories.html" title="Special:Categories">Categories</a>: <ul>
<li><a href="../en/Category:Pages_with_syntax_highlighting_errors.html" title="Category:Pages with syntax highlighting errors">Pages with syntax highlighting errors</a></li>
<li><a href="../en/Category:Devices.html" title="Category:Devices">Devices</a></li>
<li><a href="/index.php?title=Category:Android_on_Linux_3.4&amp;action=edit&amp;redlink=1" class="new" title="Category:Android on Linux 3.4 (page does not exist)">Android on Linux 3.4</a></li>
<li><a href="/index.php?title=Category:Google_(LG)&amp;action=edit&amp;redlink=1" class="new" title="Category:Google (LG) (page does not exist)">Google (LG)</a></li>
</ul>
</div></div>
		<div class="visualClear"></div>
		
	</div>
</div>


		<div id="footer" role="contentinfo" style="margin: 0">
						<ul id="footer-info">
								<li>Retrieved from "<a dir="ltr" href="https://wiki.postmarketos.org/index.php?title=Google_Nexus_4_(lg-mako)&amp;oldid=43538">https://wiki.postmarketos.org/index.php?title=Google_Nexus_4_(lg-mako)&amp;oldid=43538</a>"</li>
		
		<li id="footer-info-lastmod"> This page was last edited on 23 April 2023, at 14:40.</li>
								<li id="footer-info-copyright">Content is available under <a class="external" rel="nofollow" href="https://creativecommons.org/licenses/by-sa/4.0/">Creative Commons Attribution-ShareAlike</a> unless otherwise noted.</li>
							<br>
</ul>
						<ul id="footer-places">
								<li id="footer-places-privacy"><a href="../en/PostmarketOS:Privacy_policy.html" title="PostmarketOS:Privacy policy">Privacy policy</a></li>
								<li id="footer-places-about"><a href="../en/About_postmarketOS.html" class="mw-redirect" title="PostmarketOS:About">About postmarketOS</a></li>
								<li id="footer-places-disclaimer"><a href="../en/PostmarketOS:General_disclaimer.html" title="PostmarketOS:General disclaimer">Disclaimers</a></li>
								<li id="footer-places-mobileview"><a href="https://wiki.postmarketos.org/index.php?title=Google_Nexus_4_(lg-mako)&amp;mobileaction=toggle_view_mobile" class="noprint stopMobileRedirectToggle">Mobile view</a></li>
							</ul>
										<ul id="footer-icons" class="noprint">
										<li id="footer-copyrightico">
						<a href="https://creativecommons.org/licenses/by-sa/4.0/"><img src="../cc-by-sa.png" alt="Creative Commons Attribution-ShareAlike" width="88" height="31"></a>					</li>
										<li id="footer-poweredbyico">
						<a href="https://www.mediawiki.org/"><img src="../poweredby_mediawiki_88x31.png" alt="Powered by MediaWiki" srcset="" width="88" height="31"></a>					</li>
									</ul>
						<div style="clear: both;"></div>
		</div>
		

</body>
</html>
