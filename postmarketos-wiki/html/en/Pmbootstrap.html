<!DOCTYPE html>
<html class="client-nojs" dir="ltr" lang="en">
 <head>
  <meta charset="utf-8"/>
  <title>
   Pmbootstrap - postmarketOS
  </title>
  <link href="../PostmarketOSWikiOffline.css" rel="stylesheet"/>
  <meta content="" name="ResourceLoaderDynamicStyles"/>
  <meta content="MediaWiki 1.34.2" name="generator"/>
  <link href="/favicon.ico" rel="shortcut icon"/>
  <link href="/opensearch_desc.php" rel="search" title="postmarketOS (en)" type="application/opensearchdescription+xml"/>
  <link href="https://wiki.postmarketos.org/api.php?action=rsd" rel="EditURI" type="application/rsd+xml"/>
  <link href="https://creativecommons.org/licenses/by-sa/4.0/" rel="license"/>
  <link href="/index.php?title=Special:RecentChanges&amp;feed=atom" rel="alternate" title="postmarketOS Atom feed" type="application/atom+xml"/>
 </head>
 <body class="mediawiki ltr sitedir-ltr mw-hide-empty-elt ns-0 ns-subject page-Pmbootstrap rootpage-Pmbootstrap skin-vector action-view">
  <div class="mw-body" id="content" role="main" style="margin: 0">
   <a id="top">
   </a>
   <div class="mw-indicators mw-body-content">
   </div>
   <h1 class="firstHeading" id="firstHeading" lang="en">
    Pmbootstrap
   </h1>
   <div class="mw-body-content" id="bodyContent">
    <div class="noprint" id="siteSub">
     From postmarketOS
    </div>
    <div id="contentSub">
    </div>
    <div id="jump-to-nav">
    </div>
    <a class="mw-jump-link" href="#mw-head">
     Jump to navigation
    </a>
    <a class="mw-jump-link" href="#p-search">
     Jump to search
    </a>
    <div class="mw-content-ltr" dir="ltr" id="mw-content-text" lang="en">
     <div class="mw-parser-output">
      <p>
       <b>
        pmbootstrap
       </b>
       is the central tool to develop and install postmarketOS. It works using Alpine chroots to avoid installing software on the host's machine. It works well on any Linux distribution, but performs poorly on
       <a class="external text" href="https://en.wikipedia.org/wiki/Windows_Subsystem_for_Linux" rel="nofollow">
        WSL
       </a>
       . If you are using Windows, you should set up a dual boot or use a VM.
      </p>
      <div class="toc" id="toc">
       <input class="toctogglecheckbox" id="toctogglecheckbox" role="button" style="display:none" type="checkbox"/>
       <div class="toctitle" dir="ltr" lang="en">
        <h2>
         Contents
        </h2>
        <span class="toctogglespan">
         <label class="toctogglelabel" for="toctogglecheckbox">
         </label>
        </span>
       </div>
       <ul>
        <li class="toclevel-1 tocsection-1">
         <a href="#Installation">
          <span class="tocnumber">
           1
          </span>
          <span class="toctext">
           Installation
          </span>
         </a>
        </li>
        <li class="toclevel-1 tocsection-2">
         <a href="#Example_Development_Workflows">
          <span class="tocnumber">
           2
          </span>
          <span class="toctext">
           Example Development Workflows
          </span>
         </a>
         <ul>
          <li class="toclevel-2 tocsection-3">
           <a href="#Developing_packages_with_pmbootstrap">
            <span class="tocnumber">
             2.1
            </span>
            <span class="toctext">
             Developing packages with pmbootstrap
            </span>
           </a>
          </li>
         </ul>
        </li>
        <li class="toclevel-1 tocsection-4">
         <a href="#Developing_pmbootstrap_itself">
          <span class="tocnumber">
           3
          </span>
          <span class="toctext">
           Developing pmbootstrap itself
          </span>
         </a>
        </li>
        <li class="toclevel-1 tocsection-5">
         <a href="#Warning">
          <span class="tocnumber">
           4
          </span>
          <span class="toctext">
           Warning
          </span>
         </a>
        </li>
        <li class="toclevel-1 tocsection-6">
         <a href="#Useful_Links">
          <span class="tocnumber">
           5
          </span>
          <span class="toctext">
           Useful Links
          </span>
         </a>
        </li>
       </ul>
      </div>
      <h2>
       <span class="mw-headline" id="Installation">
        Installation
       </span>
      </h2>
      <p>
       refer to the
       <a href="../en/Installing_pmbootstrap.html" title="Installing pmbootstrap">
        installation page
       </a>
       .
      </p>
      <p>
       <br/>
      </p>
      <h2>
       <span class="mw-headline" id="Example_Development_Workflows">
        Example Development Workflows
       </span>
      </h2>
      <p>
       This doesn't concern installation for an existing device. For that refer to the
       <a href="../en/Installation_guide.html" title="Installation guide">
        installation guide
       </a>
       . It will be useful for working on postmarketOS packages and when one want to port postmarketOS to a new device (along with the
       <a href="../en/Porting_to_a_new_device.html" title="Porting to a new device">
        porting guide
       </a>
       ).
      </p>
      <div class="todo" role="note" style="padding: 5px 15px; color: #700000; border: 1px solid #b60000; background-color: #fdd1d1; margin-top: 5px; margin-bottom: 15px;">
       <strong>
        TODO
       </strong>
       add more typical uses of pmbootstrap
      </div>
      <h3>
       <span class="mw-headline" id="Developing_packages_with_pmbootstrap">
        Developing packages with pmbootstrap
       </span>
      </h3>
      <p>
       When developing postmarketOS packages, you will want to keep the package definition at hand. For that, you can move the
       <a class="mw-redirect" href="../en/Pmaports.git.html" title="Pmaports">
        pmaports
       </a>
       repository to an accessible location, using for example:
      </p>
      <pre>$ olddir="$(pmbootstrap config aports)"
$ newdir="$HOME/pmaports"
$ mv "$olddir" "$newdir"
$ pmbootstrap config aports "$newdir"
</pre>
      <p>
       or just the last command, if you don't have something to save yet.
      </p>
      <hr/>
      <p>
       When you are editing packages and want to test the modifications, you will maybe notice that pmbootstrap doesn't rebuild the package, as it already built a package with the same version number and revision. To force a rebuild, don't increment the pkgrel. Instead, use
       <code>
        pmbootstrap build --force package-name
       </code>
       .
      </p>
      <hr/>
      <p>
       Before uploading a package you just created, you may use
       <code>
        pmbootstrap build --force --strict
       </code>
       to check that the dependencies you specified are sufficient to build the package.
      </p>
      <p>
       <br/>
      </p>
      <h2>
       <span class="mw-headline" id="Developing_pmbootstrap_itself">
        Developing pmbootstrap itself
       </span>
      </h2>
      <p>
       Development happens
       <a class="external text" href="https://gitlab.com/postmarketOS/pmbootstrap" rel="nofollow">
        here
       </a>
       . You'll find information on parts of the code in
       <a href="../en/Pmbootstrap_development_guide.html" title="Pmbootstrap development guide">
        the pmbootstrap development guide
       </a>
       .
      </p>
      <p>
       <br/>
      </p>
      <h2>
       <span class="mw-headline" id="Warning">
        Warning
       </span>
      </h2>
      <p>
       The Bash shell works nicely, and the fish shell also seem to work. However, the Korn Shell (KSH93 / KSH88) doesn't work properly. Although some functions of pmbootstrap works, you would not be able to use some functions such as envkernel.sh and may get unexpected errors. If you are using ksh or another shell, you may need to install bash or fish to use pmbootstrap properly.
      </p>
      <p>
       Pmbootstrap needs sudo to work, otherwise you would not be able to use it at all, since pmbootstrap uses sudo to run root commands. If you are using an alternative such as doas, you would need to install sudo.
      </p>
      <h2>
       <span class="mw-headline" id="Useful_Links">
        Useful Links
       </span>
      </h2>
      <ul>
       <li>
        <a class="external text" href="https://gitlab.com/postmarketOS/pmbootstrap" rel="nofollow">
         The git repository
        </a>
        .
       </li>
      </ul>
     </div>
    </div>
    <div class="catlinks" data-mw="interface" id="catlinks">
     <div class="mw-normal-catlinks" id="mw-normal-catlinks">
      <a href="../Special:Categories.html" title="Special:Categories">
       Category
      </a>
      :
      <ul>
       <li>
        <a href="../en/Category:Todo_Items.html" title="Category:Todo Items">
         Todo Items
        </a>
       </li>
      </ul>
     </div>
    </div>
    <div class="visualClear">
    </div>
   </div>
  </div>
  <div id="footer" role="contentinfo" style="margin: 0">
   <ul id="footer-info">
    <li>
     Retrieved from "
     <a dir="ltr" href="https://wiki.postmarketos.org/index.php?title=Pmbootstrap&amp;oldid=22764">
      https://wiki.postmarketos.org/index.php?title=Pmbootstrap&amp;oldid=22764
     </a>
     "
    </li>
    <li id="footer-info-lastmod">
     This page was last edited on 1 October 2021, at 12:40.
    </li>
    <li id="footer-info-copyright">
     Content is available under
     <a class="external" href="https://creativecommons.org/licenses/by-sa/4.0/" rel="nofollow">
      Creative Commons Attribution-ShareAlike
     </a>
     unless otherwise noted.
    </li>
    <br/>
   </ul>
   <ul id="footer-places">
    <li id="footer-places-privacy">
     <a href="../en/PostmarketOS:Privacy_policy.html" title="PostmarketOS:Privacy policy">
      Privacy policy
     </a>
    </li>
    <li id="footer-places-about">
     <a class="mw-redirect" href="../en/About_postmarketOS.html" title="PostmarketOS:About">
      About postmarketOS
     </a>
    </li>
    <li id="footer-places-disclaimer">
     <a href="../en/PostmarketOS:General_disclaimer.html" title="PostmarketOS:General disclaimer">
      Disclaimers
     </a>
    </li>
    <li id="footer-places-mobileview">
     <a class="noprint stopMobileRedirectToggle" href="https://wiki.postmarketos.org/index.php?title=Pmbootstrap&amp;mobileaction=toggle_view_mobile">
      Mobile view
     </a>
    </li>
   </ul>
   <ul class="noprint" id="footer-icons">
    <li id="footer-copyrightico">
     <a href="https://creativecommons.org/licenses/by-sa/4.0/">
      <img alt="Creative Commons Attribution-ShareAlike" height="31" src="../cc-by-sa.png" width="88"/>
     </a>
    </li>
    <li id="footer-poweredbyico">
     <a href="https://www.mediawiki.org/">
      <img alt="Powered by MediaWiki" height="31" src="../poweredby_mediawiki_88x31.png" srcset="" width="88"/>
     </a>
    </li>
   </ul>
   <div style="clear: both;">
   </div>
  </div>
 </body>
</html>
