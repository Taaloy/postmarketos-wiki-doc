<!DOCTYPE html>
<html class="client-nojs" lang="en" dir="ltr">
<head>
<meta charset="UTF-8">
<title>Design - postmarketOS</title>
<link rel="stylesheet" href="../PostmarketOSWikiOffline.css">
<meta name="ResourceLoaderDynamicStyles" content="">
<meta name="generator" content="MediaWiki 1.39.7">
<meta name="format-detection" content="telephone=no">
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes, minimum-scale=0.25, maximum-scale=5.0">
<link rel="icon" href="/favicon.ico">
<link rel="search" type="application/opensearchdescription+xml" href="/opensearch_desc.php" title="postmarketOS (en)">
<link rel="EditURI" type="application/rsd+xml" href="https://wiki.postmarketos.org/api.php?action=rsd">
<link rel="license" href="https://creativecommons.org/licenses/by-sa/4.0/">
<link rel="alternate" type="application/atom+xml" title="postmarketOS Atom feed" href="/index.php?title=Special:RecentChanges&amp;feed=atom">
</head>
<body class="skin-vector skin-vector-search-vue mediawiki ltr sitedir-ltr mw-hide-empty-elt ns-0 ns-subject page-Design rootpage-Design skin-vector-2022 action-view skin--responsive vector-feature-language-in-header-enabled vector-feature-language-in-main-page-header-disabled vector-feature-language-alert-in-sidebar-disabled vector-feature-sticky-header-disabled vector-feature-sticky-header-edit-disabled vector-feature-table-of-contents-disabled vector-feature-visual-enhancement-next-disabled">
<div class="mw-page-container">
	<span id="top-page"></span>
	<a class="mw-jump-link" href="#content">Jump to content</a>
	<div class="mw-page-container-inner">
		<input type="checkbox" id="mw-sidebar-checkbox" class="mw-checkbox-hack-checkbox">
		<header class="mw-header">
			<div class="mw-header-aside">
			<label id="mw-sidebar-button" class="mw-checkbox-hack-button mw-ui-icon mw-ui-button mw-ui-quiet mw-ui-icon-element" for="mw-sidebar-checkbox" role="button" aria-controls="mw-panel" data-event-name="ui.sidebar" tabindex="0" title="Main menu">
				<span>Toggle sidebar</span>
			</label>
			
<a href="../en/Main_Page.html" class="mw-logo">
	<img class="mw-logo-icon" src="/logo_50x50.svg" alt="" aria-hidden="true" height="50" width="50">
	<span class="mw-logo-container">
		<strong class="mw-logo-wordmark">postmarketOS</strong>
	</span>
</a>

			</div>
			<div class="mw-header-content">
			
<div id="p-search" role="search" class="vector-search-box-vue  vector-search-box-collapses  vector-search-box-show-thumbnail vector-search-box-auto-expand-width vector-search-box">
	<a href="../Special:Search.html" title="Search postmarketOS [f]" accesskey="f" class="mw-ui-button mw-ui-quiet mw-ui-icon mw-ui-icon-element mw-ui-icon-wikimedia-search search-toggle">
		<span>Search</span>
	</a>
	
	<div>
		<form action="/index.php" id="searchform" class="vector-search-box-form">
			<div id="simpleSearch" class="vector-search-box-inner" data-search-loc="header-moved">
				<input class="vector-search-box-input" type="search" name="search" placeholder="Search postmarketOS" aria-label="Search postmarketOS" autocapitalize="sentences" title="Search postmarketOS [f]" accesskey="f" id="searchInput">
				<input type="hidden" name="title" value="Special:Search">
				<input id="mw-searchButton" class="searchButton mw-fallbackSearchButton" type="submit" name="fulltext" title="Search the pages for this text" value="Search">
				<input id="searchButton" class="searchButton" type="submit" name="go" title="Go to a page with this exact name if it exists" value="Go">
			</div>
		</form>
	</div>
</div>

			<nav class="vector-user-links" aria-label="Personal tools" role="navigation">
	

<div id="p-vector-user-menu-overflow" class="vector-menu mw-portlet mw-portlet-vector-user-menu-overflow vector-user-menu-overflow">
	<div class="vector-menu-content">
		
		<ul class="vector-menu-content-list"><li id="pt-createaccount-2" class="user-links-collapsible-item mw-list-item"><a href="../Special:RequestAccount.html"><span>Request account</span></a></li></ul>
		
	</div>
</div>

	

<div id="p-personal" class="vector-menu mw-portlet mw-portlet-personal vector-user-menu vector-user-menu-logged-out vector-menu-dropdown" title="More options">
	<input type="checkbox" id="p-personal-checkbox" role="button" aria-haspopup="true" data-event-name="ui.dropdown-p-personal" class="vector-menu-checkbox">
	<label id="p-personal-label" for="p-personal-checkbox" class="vector-menu-heading mw-ui-button mw-ui-quiet mw-ui-icon mw-ui-icon-element mw-ui-icon-ellipsis mw-ui-icon-wikimedia-ellipsis">
		<span class="vector-menu-heading-label">Personal tools</span>
	</label>
	<div class="vector-menu-content">
		<div class="vector-user-menu-create-account"><a href="/index.php?title=Special:CreateAccount&amp;returnto=Design" class="vector-menu-content-item user-links-collapsible-item" title="You are encouraged to create an account and log in; however, it is not mandatory"><span class="mw-ui-icon mw-ui-icon-userAdd mw-ui-icon-wikimedia-userAdd"></span> <span>Create account</span></a></div>
<div class="vector-user-menu-login"><a href="/index.php?title=Special:UserLogin&amp;returnto=Design" class="vector-menu-content-item vector-menu-content-item-login" title="You are encouraged to log in; however, it is not mandatory [o]" accesskey="o"><span class="mw-ui-icon mw-ui-icon-logIn mw-ui-icon-wikimedia-logIn"></span> <span>Log in</span></a></div>

		<ul class="vector-menu-content-list"></ul>
		
	</div>
</div>

</nav>

			</div>
		</header>
		<div class="vector-sidebar-container ">
			</div>
		<div class="vector-sitenotice-container">
			<div id="siteNotice"></div>
		</div>
		<input type="checkbox" id="vector-toc-collapsed-checkbox" class="mw-checkbox-hack-checkbox">
		<div class="mw-table-of-contents-container">
			<div class="vector-sticky-toc-container mw-sticky-header-element">
				<nav id="mw-panel-toc" class="sidebar-toc" role="navigation" aria-labelledby="sidebar-toc-label" data-event-name="ui.sidebar-toc">
	<div id="sidebar-toc-label" class="sidebar-toc-header">
		<p class="sidebar-toc-title">
		Contents
		<button class="vector-toc-uncollapse-button">move to sidebar</button>
		<button class="vector-toc-collapse-button">hide</button>
		</p>
	</div>
	<ul class="sidebar-toc-contents" id="mw-panel-toc-list">
		<li id="toc-mw-content-text" class="sidebar-toc-list-item sidebar-toc-level-1">
			<a href="#top-page" class="sidebar-toc-link">
				<div class="sidebar-toc-text">Beginning</div>
			</a>
		</li>
		<li id="toc-Device_Packages" class="sidebar-toc-list-item sidebar-toc-level-1 sidebar-toc-list-item-expanded">
			<a class="sidebar-toc-link" href="#Device_Packages">
				<div class="sidebar-toc-text">
				<span class="sidebar-toc-numb">1</span>Device Packages</div>
			</a>
			
				<button aria-controls="toc-Device_Packages-sublist" class="mw-ui-icon mw-ui-icon-wikimedia-expand mw-ui-icon-small sidebar-toc-toggle">
					Toggle Device Packages subsection
				</button>
			
			<ul id="toc-Device_Packages-sublist" class="sidebar-toc-list">
				<li id="toc-Device_Packages_2" class="sidebar-toc-list-item sidebar-toc-level-2">
			<a class="sidebar-toc-link" href="#Device_Packages_2">
				<div class="sidebar-toc-text">
				<span class="sidebar-toc-numb">1.1</span>Device Packages</div>
			</a>
			
			<ul id="toc-Device_Packages_2-sublist" class="sidebar-toc-list">
				<li id="toc-Generic_Device_Packages" class="sidebar-toc-list-item sidebar-toc-level-3">
			<a class="sidebar-toc-link" href="#Generic_Device_Packages">
				<div class="sidebar-toc-text">
				<span class="sidebar-toc-numb">1.1.1</span>Generic Device Packages</div>
			</a>
			
			<ul id="toc-Generic_Device_Packages-sublist" class="sidebar-toc-list">
			</ul>
		</li>
	</ul>
		</li>
		<li id="toc-SOC_Packages" class="sidebar-toc-list-item sidebar-toc-level-2">
			<a class="sidebar-toc-link" href="#SOC_Packages">
				<div class="sidebar-toc-text">
				<span class="sidebar-toc-numb">1.2</span>SOC Packages</div>
			</a>
			
			<ul id="toc-SOC_Packages-sublist" class="sidebar-toc-list">
			</ul>
		</li>
		<li id="toc-Firmware_Packages" class="sidebar-toc-list-item sidebar-toc-level-2">
			<a class="sidebar-toc-link" href="#Firmware_Packages">
				<div class="sidebar-toc-text">
				<span class="sidebar-toc-numb">1.3</span>Firmware Packages</div>
			</a>
			
			<ul id="toc-Firmware_Packages-sublist" class="sidebar-toc-list">
			</ul>
		</li>
		<li id="toc-Kernel_Packages" class="sidebar-toc-list-item sidebar-toc-level-2">
			<a class="sidebar-toc-link" href="#Kernel_Packages">
				<div class="sidebar-toc-text">
				<span class="sidebar-toc-numb">1.4</span>Kernel Packages</div>
			</a>
			
			<ul id="toc-Kernel_Packages-sublist" class="sidebar-toc-list">
			</ul>
		</li>
	</ul>
		</li>
		<li id="toc-UI_Packages" class="sidebar-toc-list-item sidebar-toc-level-1 sidebar-toc-list-item-expanded">
			<a class="sidebar-toc-link" href="#UI_Packages">
				<div class="sidebar-toc-text">
				<span class="sidebar-toc-numb">2</span>UI Packages</div>
			</a>
			
			<ul id="toc-UI_Packages-sublist" class="sidebar-toc-list">
			</ul>
		</li>
		<li id="toc-Base_Packages" class="sidebar-toc-list-item sidebar-toc-level-1 sidebar-toc-list-item-expanded">
			<a class="sidebar-toc-link" href="#Base_Packages">
				<div class="sidebar-toc-text">
				<span class="sidebar-toc-numb">3</span>Base Packages</div>
			</a>
			
			<ul id="toc-Base_Packages-sublist" class="sidebar-toc-list">
			</ul>
		</li>
	</ul>
</nav>

			</div>
		</div>
		<div class="mw-content-container">
			<main id="content" class="mw-body" role="main" style="margin: 0">
				<a id="top"></a>
				<header class="mw-body-header">
				
				
					<label id="vector-toc-collapsed-button" class="mw-ui-button mw-ui-quiet mw-ui-icon mw-ui-icon-element mw-ui-icon-wikimedia-listBullet mw-checkbox-hack-button" for="vector-toc-collapsed-checkbox" role="button" aria-controls="toc-toggle-list" data-event-name="vector.toc-toggle-list" tabindex="0" title="Table of Contents">
						Toggle the table of contents
					</label>
				    <h1 id="firstHeading" class="firstHeading mw-first-heading"><span class="mw-page-title-main">Design</span></h1>
				</header>
				<nav class="vector-article-toolbar" aria-label="Tools" role="navigation">
					<div class="mw-article-toolbar-container">
						<div id="left-navigation">
							

<div id="p-associated-pages" class="vector-menu mw-portlet mw-portlet-associated-pages vector-menu-tabs">
	<div class="vector-menu-content">
		
		<ul class="vector-menu-content-list">
<li id="ca-nstab-main" class="selected mw-list-item"><a href="../en/Design.html" title="View the content page [c]" accesskey="c"><span>Page</span></a></li>
<li id="ca-talk" class="new mw-list-item"><a href="/index.php?title=Talk:Design&amp;action=edit&amp;redlink=1" rel="discussion" title="Discussion about the content page (page does not exist) [t]" accesskey="t"><span>Discussion</span></a></li>
</ul>
		
	</div>
</div>

							

<div id="p-variants" class="vector-menu mw-portlet mw-portlet-variants emptyPortlet vector-menu-dropdown">
	<input type="checkbox" id="p-variants-checkbox" role="button" aria-haspopup="true" data-event-name="ui.dropdown-p-variants" class="vector-menu-checkbox" aria-label="Change language variant">
	<label id="p-variants-label" for="p-variants-checkbox" class="vector-menu-heading ">
		<span class="vector-menu-heading-label">English</span>
	</label>
	<div class="vector-menu-content">
		
		<ul class="vector-menu-content-list"></ul>
		
	</div>
</div>

						</div>
						<div id="right-navigation" class="vector-collapsible ">
							

<div id="p-views" class="vector-menu mw-portlet mw-portlet-views vector-menu-tabs">
	<div class="vector-menu-content">
		
		<ul class="vector-menu-content-list">
<li id="ca-view" class="selected mw-list-item"><a href="../en/Design.html"><span>Read</span></a></li>
<li id="ca-viewsource" class="mw-list-item"><a href="/index.php?title=Design&amp;action=edit" title="This page is protected.
You can view its source [e]" accesskey="e"><span>View source</span></a></li>
<li id="ca-history" class="mw-list-item"><a href="/index.php?title=Design&amp;action=history" title="Past revisions of this page [h]" accesskey="h"><span>View history</span></a></li>
</ul>
		
	</div>
</div>

							

<div id="p-cactions" class="vector-menu mw-portlet mw-portlet-cactions emptyPortlet vector-menu-dropdown vector-has-collapsible-items" title="More options">
	<input type="checkbox" id="p-cactions-checkbox" role="button" aria-haspopup="true" data-event-name="ui.dropdown-p-cactions" class="vector-menu-checkbox">
	<label id="p-cactions-label" for="p-cactions-checkbox" class="vector-menu-heading ">
		<span class="vector-menu-heading-label">More</span>
	</label>
	<div class="vector-menu-content">
		
		<ul class="vector-menu-content-list">
<li id="ca-more-view" class="selected vector-more-collapsible-item mw-list-item"><a href="../en/Design.html"><span>Read</span></a></li>
<li id="ca-more-viewsource" class="vector-more-collapsible-item mw-list-item"><a href="/index.php?title=Design&amp;action=edit"><span>View source</span></a></li>
<li id="ca-more-history" class="vector-more-collapsible-item mw-list-item"><a href="/index.php?title=Design&amp;action=history"><span>View history</span></a></li>
</ul>
		
	</div>
</div>

						</div>
					</div>
				</nav>
				<div id="bodyContent" class="vector-body" data-mw-ve-target-container>
					<div class="mw-body-subheader">
					        <div class="mw-indicators">
        </div>

					    <div id="siteSub" class="noprint">From postmarketOS</div>
					</div>
					
					
					
					<div id="mw-content-text" class="mw-body-content mw-content-ltr" lang="en" dir="ltr">
<div class="mw-parser-output">
<p>A great deal of postmarketOS's design lies in how we use packaging to create
various abstract layers in the OS for supporting devices and user interfaces.
This gives users and manufacturers a lot of flexibility to build pmOS images to
meet their use cases, and this makes it easy to add support for new devices and
user interfaces in the OS without having to worry about creating conflicts with
other devices/UIs.
</p>
<tocplace></tocplace>
<h1><span class="mw-headline" id="Device_Packages">Device Packages</span></h1>
<p>Device support in postmarketOS is handled through multiple types of packages
collectively referred to here as "device packages", that provide an abstraction
layer in the OS so that device-specific quirks and configuration can be
implemented. These packages are found in <code>pmaports</code> under the
<code>devices</code> repo.
</p>
<p>There are multiple types of device-related packages:
</p>
<h3><span class="mw-headline" id="Device_Packages_2">Device Packages</span></h3>
<p>These packages provide configuration for a single, specific device. They tend
to depend on SOC, firmware, and kernel packages in order to provide
out-of-the-box support for a device.
</p>
<h4><span class="mw-headline" id="Generic_Device_Packages">Generic Device Packages</span></h4>
<p>These are a special flavor of device packages that provide config for
a specific class or family of devices, for example <code>generic-x86_64</code>
for supporting general x86_64 computers that are not specific to any
manufacturer. These are ideal device packages since they support a wide range
of hardware and allow for greater re-use of config without having to create
many individual device packages.
</p>
<h3><span class="mw-headline" id="SOC_Packages">SOC Packages</span></h3>
<p>Some devices, more commonly phones and tablets, have a specific SOC that might
be shared among multiple similar devices. In many cases these devices have
other quirks that might be incompatible with each other, so it may not be
possible to put them into a "generic" device package. SOC packages allow us to
re-use SOC-specific configuration in these situations and reducing redundancy.
Single device packages will depend on an SOC package if it is relevant for the
device.
</p>
<h3><span class="mw-headline" id="Firmware_Packages">Firmware Packages</span></h3>
<p>Many consumer electronics contain a multitude of chips in them, and these tend
to require loading firmware from userspace to support features and
functionality. A very common case is requiring firmware for WiFi and/or
Bluetooth functionality. Any firmware required by a device is found in these
packages, and these packages have names like <code>firmware-ath6kl</code> and
<code>firmware-pine64-ov5640</code>. Device and SOC packages tend to depend on
these where appropriate. It's up to device maintainers to determine whether the
dependency on specific firmware packages is a hard dependency or a soft one,
where a soft dependency is one that allows users to remove the firmware.
</p>
<h3><span class="mw-headline" id="Kernel_Packages">Kernel Packages</span></h3>
<p>Device and SOC packages depend on a kernel to add required drivers, and in pmOS
many devices do not have mainline kernel support. Kernel packages will provide
a specific kernel + patches known to work for a given device. In some cases
multiple devices/SOCs can use the same kernel. For devices with good mainline
kernel support, they should depend on kernels packaged in Alpine Linux (e.g.
<code>linux-lts</code>.) Kernel packages in postmarketOS may include a current
mainline kernel, or they may contain an older downstream kernel from some
manufacturer either because there is no mainline support or to serve as a
reference for mainline work/debug on that device. It's possible for a device
package to offer multiple options for kernels to install, e.g. one with a
mainline kernel and maybe reduced feature set or an option to install a
featureful but outdated downstream kernel.
</p>
<h1><span class="mw-headline" id="UI_Packages">UI Packages</span></h1>
<p>User interfaces (UI) in postmarketOS are installed and configured by dedicated
meta packages, one for each UI. This allows the distro to be somewhat agnostic
to UIs in general, allowing users and manufacturers a lot of flexibility to
choose the UI they prefer without having to worry about conflicting with other
UI configuration. In <code>pmaports</code>, these packages are found in the
<code>main</code> repo and have names like <code>postmarketos-ui-gnome</code>
and <code>postmarketos-ui-plasma-mobile</code>. Installation of these packages
is currently done when the pmOS image is built with <code>pmbootstrap
init</code>, and users are not expected to install them directly. There are
tentative future plans to make it easier for users to switch/change UIs after
installation.
</p>
<h1><span class="mw-headline" id="Base_Packages">Base Packages</span></h1>
<p><code>postmarketos-base</code> provides default configuration and dependencies
for core pmOS functionality. This package also implements a number of
subpackages that are installed conditionally in order to keep the rootfs
lightweight. For example, <code>postmarketos-base-mesa</code> will only be
installed if Mesa3D is installed on the system, and it pulls in some other
packages that are useful for using Mesa on pmOS.
</p>
<p><code>postmarketos-base-ui-*</code> packages exist to provide a shared,
re-usable default configuration for families of user interfaces. For example,
there is a <code>postmarketos-base-ui-gnome</code> package that Phosh, GNOME
Mobile, and GNOME desktop depend on, and this package provides some useful
default applications and config for all three UIs without having to duplicate
this config across multiple individual UI packages.
</p>
</div>
</div>
					<div id="catlinks" class="catlinks catlinks-allhidden" data-mw="interface"></div>
				</div>
			</main>
			
		</div>
		<div class="mw-footer-container">
			
<footer id="footer" class="mw-footer" role="contentinfo" style="margin: 0">
	<ul id="footer-info">
	<li data-nosnippet="">Retrieved from "<a dir="ltr" href="https://wiki.postmarketos.org/index.php?title=Design&amp;oldid=59410">https://wiki.postmarketos.org/index.php?title=Design&amp;oldid=59410</a>"</li>
<li id="footer-info-lastmod"> This page was last edited on 24 May 2024, at 19:11.</li>
	<li id="footer-info-copyright">Content is available under <a class="external" rel="nofollow" href="https://creativecommons.org/licenses/by-sa/4.0/">Creative Commons Attribution-ShareAlike</a> unless otherwise noted.</li>
<br>
</ul>

	<ul id="footer-places">
	<li id="footer-places-privacy"><a href="../en/PostmarketOS:Privacy_policy.html">Privacy policy</a></li>
	<li id="footer-places-about"><a href="../en/About_postmarketOS.html">About postmarketOS</a></li>
	<li id="footer-places-disclaimer"><a href="../en/PostmarketOS:General_disclaimer.html">Disclaimers</a></li>
</ul>

	<ul id="footer-icons" class="noprint">
	<li id="footer-copyrightico"><a href="https://creativecommons.org/licenses/by-sa/4.0/"><img src="../cc-by-sa.png" alt="Creative Commons Attribution-ShareAlike" width="88" height="31" loading="lazy"></a></li>
	<li id="footer-poweredbyico"><a href="https://www.mediawiki.org/"><img src="../poweredby_mediawiki_88x31.png" alt="Powered by MediaWiki" srcset="" width="88" height="31" loading="lazy"></a></li>
</ul>

</footer>

		</div>
	</div> 
</div> 

</body>
</html>
