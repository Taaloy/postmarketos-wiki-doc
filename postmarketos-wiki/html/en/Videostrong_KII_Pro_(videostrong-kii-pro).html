<!DOCTYPE html>
<html class="client-nojs" lang="en" dir="ltr">
<head>
<meta charset="UTF-8">
<title>Videostrong KII Pro (videostrong-kii-pro) - postmarketOS</title>
<link rel="stylesheet" href="../PostmarketOSWikiOffline.css">
<meta name="ResourceLoaderDynamicStyles" content="">
<meta name="generator" content="MediaWiki 1.34.2">
<link rel="shortcut icon" href="/favicon.ico">
<link rel="search" type="application/opensearchdescription+xml" href="/opensearch_desc.php" title="postmarketOS (en)">
<link rel="EditURI" type="application/rsd+xml" href="https://wiki.postmarketos.org/api.php?action=rsd">
<link rel="license" href="https://creativecommons.org/licenses/by-sa/4.0/">
<link rel="alternate" type="application/atom+xml" title="postmarketOS Atom feed" href="/index.php?title=Special:RecentChanges&amp;feed=atom">
</head>
<body class="mediawiki ltr sitedir-ltr mw-hide-empty-elt ns-0 ns-subject page-Videostrong_KII_Pro_videostrong-kii-pro rootpage-Videostrong_KII_Pro_videostrong-kii-pro skin-vector action-view">
<div id="content" class="mw-body" role="main" style="margin: 0">
	<a id="top"></a>
	
	<div class="mw-indicators mw-body-content">
</div>

	<h1 id="firstHeading" class="firstHeading" lang="en">Videostrong KII Pro (videostrong-kii-pro)</h1>
	
	<div id="bodyContent" class="mw-body-content">
		<div id="siteSub" class="noprint">From postmarketOS</div>
		<div id="contentSub"></div>
		
		
		
		<div id="jump-to-nav"></div>
		<a class="mw-jump-link" href="#mw-head">Jump to navigation</a>
		<a class="mw-jump-link" href="#p-search">Jump to search</a>
		<div id="mw-content-text" lang="en" dir="ltr" class="mw-content-ltr"><div class="mw-parser-output">
<table class="infobox" cellspacing="3" style="border-spacing: 3px; width:22em;">
<caption class="" style="">Videostrong KII Pro</caption>
<tbody>
<tr class=""><td colspan="2" class="" style="text-align:center;">
<a href="../Videostrong-kii-pro-in-all-its-glory.png" class="image"><img alt="Videostrong KII Pro" src="../Videostrong-kii-pro-in-all-its-glory.png" decoding="async" width="200" height="150" srcset="../300px-Videostrong-kii-pro-in-all-its-glory.png 1.5x ../400px-Videostrong-kii-pro-in-all-its-glory.png 2x"></a><br><span style="">Videostrong KII Pro</span>
</td></tr>
<tr class="">
<th scope="row" style="text-align:left;">Manufacturer</th>
    <td class="" style="">
Videostrong</td>
</tr>
<tr class="">
<th scope="row" style="text-align:left;">Name</th>
    <td class="" style="">
KII Pro</td>
</tr>
<tr class="">
<th scope="row" style="text-align:left;">Codename</th>
    <td class="" style="">
videostrong-kii-pro</td>
</tr>
<tr class="">
<th scope="row" style="text-align:left;">Released</th>
    <td class="" style="">
2016</td>
</tr>
<tr class="">
<th scope="row" style="text-align:left;">Category</th>
    <td class="" style="">
testing</td>
</tr>
<tr class="">
<th scope="row" style="text-align:left;">Original software</th>
    <td class="" style="">
Android</td>
</tr>
<tr class="">
<th scope="row" style="text-align:left;"><abbr title="The version the device was shipped with.">Original version</abbr></th>
    <td class="" style="">
5.1.1 (+ preinstalled KII Pro software and a different launcher)</td>
</tr>
<tr class="">
<th scope="row" style="text-align:left;">postmarketOS kernel</th>
    <td class="" style="">
6.2.9</td>
</tr>
<tr><th colspan="2" class="" style="text-align:center;">Hardware</th></tr>
<tr class="">
<th scope="row" style="text-align:left;">Chipset</th>
    <td class="" style="">
<a href="../en/Amlogic_S905(-H).html" class="mw-redirect" title="Amlogic S905">Amlogic S905</a>
</td>
</tr>
<tr class="">
<th scope="row" style="text-align:left;">CPU</th>
    <td class="" style="">
2.0 GHz Quad core</td>
</tr>
<tr class="">
<th scope="row" style="text-align:left;">GPU</th>
    <td class="" style="">
Mali 450</td>
</tr>
<tr class="">
<th scope="row" style="text-align:left;">Storage</th>
    <td class="" style="">
16 GB eMMC</td>
</tr>
<tr class="">
<th scope="row" style="text-align:left;">Memory</th>
    <td class="" style="">
2 GB</td>
</tr>
<tr class="">
<th scope="row" style="text-align:left;">Architecture</th>
    <td class="" style="">
aarch64</td>
</tr>
<tr><td colspan="2" style="text-align:right"></td></tr>
</tbody>
</table>
<p><br>
</p>
<p><br>
</p>
<table class="infobox" cellspacing="3" style="border-spacing: 3px; width:22em;">
<caption class="" style="">Features</caption>
<tbody>
<tr class="">
<th scope="row" style="text-align:left;"><abbr title="After connecting the device with USB to your PC, you can connect to it via telnet (initramfs) or SSH (booted system).">USB Networking</abbr></th>
    <td class="" style="">
<div class="feature feature-unavailable">Unavailable</div>
</td>
</tr>
<tr class="">
<th scope="row" style="text-align:left;"><abbr title="It is possible to flash the device with `pmbootstrap flasher`.">Flashing</abbr></th>
    <td class="" style="">
<div class="feature feature-no">Broken</div>
</td>
</tr>
<tr class="">
<th scope="row" style="text-align:left;">Touchscreen</th>
    <td class="" style="">
<div class="feature feature-unavailable">Unavailable</div>
</td>
</tr>
<tr class="">
<th scope="row" style="text-align:left;"><abbr title="Display works. Ideally with sleep mode and brightness control.">Display</abbr></th>
    <td class="" style="">
<div class="feature feature-unavailable">Unavailable</div>
</td>
</tr>
<tr class="">
<th scope="row" style="text-align:left;">WiFi</th>
    <td class="" style="">
<div class="feature feature-yes">Works</div>
</td>
</tr>
<tr class="">
<th scope="row" style="text-align:left;"><abbr title="Full disk encryption and unlocking with osk-sdl.">FDE</abbr></th>
    <td class="" style="">
<div></div>
</td>
</tr>
<tr class="">
<th scope="row" style="text-align:left;"><abbr title="Instead of a Linux kernel fork, it is possible to run mainline.">Mainline</abbr></th>
    <td class="" style="">
<div class="feature feature-yes">Works</div>
</td>
</tr>
<tr class="">
<th scope="row" style="text-align:left;"><abbr title="Charging and battery level reporting works">Battery</abbr></th>
    <td class="" style="">
<div class="feature feature-unavailable">Unavailable</div>
</td>
</tr>
<tr class="">
<th scope="row" style="text-align:left;">3D Acceleration</th>
    <td class="" style="">
<div class="feature feature-yes">Works</div>
</td>
</tr>
<tr class="">
<th scope="row" style="text-align:left;"><abbr title="Audio playback, microphone, headset and buttons.">Audio</abbr></th>
    <td class="" style="">
<div class="feature feature-yes">Works</div>
</td>
</tr>
<tr class="">
<th scope="row" style="text-align:left;">Bluetooth</th>
    <td class="" style="">
<div class="feature feature-yes">Works</div>
</td>
</tr>
<tr class="">
<th scope="row" style="text-align:left;">Camera</th>
    <td class="" style="">
<div class="feature feature-unavailable">Unavailable</div>
</td>
</tr>
<tr class="">
<th scope="row" style="text-align:left;">GPS</th>
    <td class="" style="">
<div class="feature feature-unavailable">Unavailable</div>
</td>
</tr>
<tr class="">
<th scope="row" style="text-align:left;">Mobile data</th>
    <td class="" style="">
<div class="feature feature-unavailable">Unavailable</div>
</td>
</tr>
<tr class="">
<th scope="row" style="text-align:left;">SMS</th>
    <td class="" style="">
<div class="feature feature-unavailable">Unavailable</div>
</td>
</tr>
<tr class="">
<th scope="row" style="text-align:left;">Calls</th>
    <td class="" style="">
<div class="feature feature-unavailable">Unavailable</div>
</td>
</tr>
<tr class="">
<th scope="row" style="text-align:left;">USB OTG</th>
    <td class="" style="">
<div class="feature feature-unavailable">Unavailable</div>
</td>
</tr>
<tr class="">
<th scope="row" style="text-align:left;">NFC</th>
    <td class="" style="">
<div class="feature feature-unavailable">Unavailable</div>
</td>
</tr>
<tr><td colspan="2" style="text-align:right"></td></tr>
</tbody>
</table>
<table class="infobox" cellspacing="3" style="border-spacing: 3px; width:22em;">
<caption class="" style="">Sensors</caption>
<tbody>
<tr class="">
<th scope="row" style="text-align:left;"><abbr title="Auto screen rotation works in desktops e.g. Phosh or Plasma Mobile">Accelerometer</abbr></th>
    <td class="" style="">
<div class="feature feature-unavailable">Unavailable</div>
</td>
</tr>
<tr class="">
<th scope="row" style="text-align:left;">Magnetometer</th>
    <td class="" style="">
<div class="feature feature-unavailable">Unavailable</div>
</td>
</tr>
<tr class="">
<th scope="row" style="text-align:left;">Ambient Light</th>
    <td class="" style="">
<div class="feature feature-unavailable">Unavailable</div>
</td>
</tr>
<tr class="">
<th scope="row" style="text-align:left;">Proximity</th>
    <td class="" style="">
<div class="feature feature-unavailable">Unavailable</div>
</td>
</tr>
<tr class="">
<th scope="row" style="text-align:left;"><abbr title="Also known as flip cover sensor">Hall Effect</abbr></th>
    <td class="" style="">
<div class="feature feature-unavailable">Unavailable</div>
</td>
</tr>
<tr class="">
<th scope="row" style="text-align:left;">Barometer</th>
    <td class="" style="">
<div class="feature feature-unavailable">Unavailable</div>
</td>
</tr>
<tr class="">
<th scope="row" style="text-align:left;">Power Sensor</th>
    <td class="" style="">
<div class="feature feature-unavailable">Unavailable</div>
</td>
</tr>
<tr><td colspan="2" style="text-align:right"></td></tr>
</tbody>
</table>
<table class="infobox" cellspacing="3" style="border-spacing: 3px; width:22em;">
<caption class="" style="">Misc</caption>
<tbody>
<tr class="">
<th scope="row" style="text-align:left;">Camera Flash</th>
    <td class="" style="">
<div class="feature feature-unavailable">Unavailable</div>
</td>
</tr>
<tr class="">
<th scope="row" style="text-align:left;">Keyboard</th>
    <td class="" style="">
<div class="feature feature-unavailable">Unavailable</div>
</td>
</tr>
<tr class="">
<th scope="row" style="text-align:left;">Touchpad</th>
    <td class="" style="">
<div class="feature feature-unavailable">Unavailable</div>
</td>
</tr>
<tr class="">
<th scope="row" style="text-align:left;"><abbr title="Full-sized USB-A port works (Usually applicable to SBCs and laptops).">USB-A</abbr></th>
    <td class="" style="">
<div class="feature feature-yes">Works</div>
</td>
</tr>
<tr class="">
<th scope="row" style="text-align:left;"><abbr title="Video and audio output with HDMI or Display Port works.">HDMI/DP</abbr></th>
    <td class="" style="">
<div class="feature feature-yes">Works</div>
</td>
</tr>
<tr class="">
<th scope="row" style="text-align:left;">Ir TX</th>
    <td class="" style="">
<div class="feature feature-unavailable">Unavailable</div>
</td>
</tr>
<tr class="">
<th scope="row" style="text-align:left;">Ir RX</th>
    <td class="" style="">
<div class="feature feature-yes">Works</div>
</td>
</tr>
<tr class="">
<th scope="row" style="text-align:left;">Stylus</th>
    <td class="" style="">
<div class="feature feature-unavailable">Unavailable</div>
</td>
</tr>
<tr class="">
<th scope="row" style="text-align:left;">Haptics</th>
    <td class="" style="">
<div class="feature feature-unavailable">Unavailable</div>
</td>
</tr>
<tr class="">
<th scope="row" style="text-align:left;">Ethernet</th>
    <td class="" style="">
<div class="feature feature-yes">Works</div>
</td>
</tr>
<tr class="">
<th scope="row" style="text-align:left;">FOSS bootloader</th>
    <td class="" style="">
<div class="feature feature-yes">Works</div>
</td>
</tr>
<tr><td colspan="2" style="text-align:right"></td></tr>
</tbody>
</table>
<table class="infobox" cellspacing="3" style="border-spacing: 3px; width:22em;">
<caption class="" style="">U-Boot</caption>
<tbody>
<tr class="">
<th scope="row" style="text-align:left;"><abbr title="It is possible to replace stock bootloader with U-Boot.">Primary Bootloader</abbr></th>
    <td class="" style="">
<div class="feature feature-yes">Works</div>
</td>
</tr>
<tr class="">
<th scope="row" style="text-align:left;"><abbr title="It is possible to chainload U-Boot from stock bootloader.">Secondary Bootloader</abbr></th>
    <td class="" style="">
<div class="feature feature-yes">Works</div>
</td>
</tr>
<tr class="">
<th scope="row" style="text-align:left;"><abbr title="Latest versions of U-Boot are not broken and it is possible to use them.">Mainline</abbr></th>
    <td class="" style="">
<div class="feature feature-partial">Partial</div>
</td>
</tr>
<tr class="">
<th scope="row" style="text-align:left;"><abbr title="It is possible to boot from internal storage (e.g. eMMC or UFS).">Internal Storage</abbr></th>
    <td class="" style="">
<div></div>
</td>
</tr>
<tr class="">
<th scope="row" style="text-align:left;"><abbr title="It is possible to boot from SD card.">SD card</abbr></th>
    <td class="" style="">
<div class="feature feature-yes">Works</div>
</td>
</tr>
<tr class="">
<th scope="row" style="text-align:left;"><abbr title="It is possible to boot from a USB storage or connect a keyboard.">USB Host</abbr></th>
    <td class="" style="">
<div></div>
</td>
</tr>
<tr class="">
<th scope="row" style="text-align:left;"><abbr title="It is possible to use device as a peripheral in U-Boot, e.g. for fastboot mode.">USB Peripheral</abbr></th>
    <td class="" style="">
<div class="feature feature-unavailable">Unavailable</div>
</td>
</tr>
<tr class="">
<th scope="row" style="text-align:left;">Display</th>
    <td class="" style="">
<div class="feature feature-yes">Works</div>
</td>
</tr>
<tr class="">
<th scope="row" style="text-align:left;">Keyboard</th>
    <td class="" style="">
<div class="feature feature-no">Broken</div>
</td>
</tr>
<tr class="">
<th scope="row" style="text-align:left;"><abbr title="It is possible to navigate in boot menu or grub with volume and power buttons.">Buttons</abbr></th>
    <td class="" style="">
<div class="feature feature-unavailable">Unavailable</div>
</td>
</tr>
<tr><td colspan="2" style="text-align:right"></td></tr>
</tbody>
</table>
<p><br>
</p>
<table class="infobox" style="float: right; width: 22em; color: inherit; background-color: #f7fff7; border: 3px solid #8a8;"><tbody><tr><td>
<b>This device is based on the <a href="../en/Amlogic_S905(-H).html" title="Amlogic S905(-H)">Amlogic S905</a>.</b><br>See the SoC page for common tips, guides and troubleshooting steps</td></tr></tbody></table>
<p>The KII Pro is a set-top box made by Videostrong, using an Amlogic S905 SoC, and running a custom
(proprietary) fork of AOSP. It also comes with DVB inputs and an infrared TV remote.
</p>
<ul>
<li><a href="../en/Videostrong_KII_Pro_(videostrong-kii-pro)_DVB.html" title="Videostrong KII Pro (videostrong-kii-pro)/DVB">DVB</a></li>
<li><a href="../en/Videostrong_KII_Pro_(videostrong-kii-pro)_U-Boot_as_primary_bootloader.html" title="Videostrong KII Pro (videostrong-kii-pro)/U-Boot as primary bootloader">Running mainline U-Boot as the primary bootloader</a></li>
</ul>
<h2><span class="mw-headline" id="Beaware_of_different_versions">Beaware of different versions</span></h2>
<p>There were different versions of this TV box, all made by the same manufacturer. 
</p>
<p>Videostrong just happens to (re)sell some of their products under the Mecool brand, with 
different hardware.
</p>
<p>The 2 known versions of the KII Pro are the "original" KII Pro (the version this port is made for), which uses the 
Amlogic S905 SoC, and the newer Mecool KII Pro, which uses the Amlogic S905D SoC instead. They both look the same except 
the newer one most likely has a Mecool logo on the front, and the Mecool KII Pro seems to use Android 7.1.1 instead of 
Android 5.1.1. If you own the Mecool KII Pro then this port won't work there without some changes. 
It may work by using the right DTB file though but that's untested since <a href="../User:F.html" title="User:F">F</a> doesn't own a Mecool KII Pro.
</p>
<h2><span class="mw-headline" id="How_to_enter_flash_mode">How to enter flash mode</span></h2>
<table role="text container" style="color: inherit; background-color: #f6efe5; border: 1px solid #ac6600; margin: 4px 0; border-collapse: collapse;"><tbody><tr>
<td style="padding: 2px 0 2px 0.9em; text-align: center;"><span style="white-space: nowrap;"><img alt="Note" src="../Reference_icon.svg" decoding="async" title="Note" width="20" height="20" srcset="../Reference_icon.svg 1.5x ../Reference_icon.svg 2x"></span></td>
<td style="padding: 0.35em 0.9em; width: 100%;">This isn't needed to boot up postmarketOS. It's only really used if you bricked your set-top box.</td>
</tr></tbody></table>
<p>You need a USB Type-A to USB Type-A cable.
</p>
<ul>
<li>Unplug everything from your set-top box</li>
<li>Plug your USB cable to the USB port at the top left (other USB ports won't work)</li>
</ul>
<div class="mw-highlight mw-content-ltr" dir="ltr"><pre><span></span>     this one
_______ \/ ____________
        __   __     || \
       |__| |__|    ||  \
   __  |__| |__|    ||   \
__________________________\
</pre></div>
<ul><li>Press and hold the reset button</li></ul>
<div class="mw-highlight mw-content-ltr" dir="ltr"><pre><span></span> _||_||____________
|                  |
| O              O |
|   ------------   |
|   ------------. &lt; here
|   ------------   |
|   ------------   |
| O              O |
|__________________|
</pre></div>
<ul>
<li>While holding the reset button, plug the USB cable to your computer</li>
<li>After 5 seconds or so, release the reset button</li>
<li>Run <code>lsusb</code>, you should see something like this:</li>
</ul>
<div class="mw-highlight mw-content-ltr" dir="ltr"><pre><span></span><span class="gp">$</span> lsusb
<span class="go">[...]</span>
<span class="go">Bus 003 Device 004: ID 1b8e:c003 Amlogic, Inc. </span>
<span class="go">[...]</span>
</pre></div>
<p>You'd also need a computer running Microsoft Windows with the Amlogic USB Burner or Amlogic Update if you wish to use <b>GNU</b>+Linux. Both software are 
proprietary.
</p>
<table role="text container" style="color: inherit; background-color: #f6efe5; border: 1px solid #ac6600; margin: 4px 0; border-collapse: collapse;"><tbody><tr>
<td style="padding: 2px 0 2px 0.9em; text-align: center;"><span style="white-space: nowrap;"><img alt="Note" src="../Reference_icon.svg" decoding="async" title="Note" width="20" height="20" srcset="../Reference_icon.svg 1.5x ../Reference_icon.svg 2x"></span></td>
<td style="padding: 0.35em 0.9em; width: 100%;">If the eMMC and SD card are not bootable, the set-top box will likely boot into the flash mode. Again, untested.</td>
</tr></tbody></table>
<h2><span class="mw-headline" id="How_to_enter_recovery_mode">How to enter recovery mode</span></h2>
<p>Also not needed. Press the reset button once while booting. You'll be booted to an Android recovery, where it may 
be possible to flash postmarketOS, but this is untested.
</p>
<h2><span class="mw-headline" id="Installation">Installation</span></h2>
<p>Only installing to an SD card works currently.
</p>
<p>Use <a href="../en/Pmbootstrap.html" title="Pmbootstrap">pmbootstrap</a> to build your own image, like so:
</p>
<div class="mw-highlight mw-content-ltr" dir="ltr"><pre><span></span><span class="gp">$</span> pmbootstrap init
<span class="go">installing to an SD card. change 'mmcblkX' with the path of your SD card. </span>
<span class="go">THIS WILL ERASE ALL DATA IN YOUR SD CARD</span>
<span class="gp">$</span> pmbootstrap install --sdcard<span class="o">=</span>/dev/mmcblkX
</pre></div>
<p>What you need to do, basically is:
</p>
<ol>
<li>Select the correct release channel (this device is currently only supported by edge)</li>
<li>Select the right manufacturer (videostrong)</li>
<li>Select the right device codename (kii-pro)</li>
<li>Choose if you want nonfree firmware or not (required for working Wi-Fi and bluetooth)</li>
<li>Answer all the other questions as you wish</li>
</ol>
<p>Then:
</p>
<ol>
<li>Put the SD card you installed postmarketOS on in the SD card slot</li>
<li>The steps below need to be done only once (unless you format the internal eMMC)
<ol>
<li>Unplug the power supply</li>
<li>Press and hold the reset button below your TV box</li>
<li>While holding the reset button, plug in your power supply back</li>
<li>Keep holding the reset button until your screen gets a signal</li>
</ol>
</li>
</ol>
<p>A mainline U-Boot should load, and postmarketOS should boot up.
</p>
<h2><span class="mw-headline" id="What_works">What works</span></h2>
<p>See the device status at the top (mobile) or at the right (desktop).
</p>
<div class="floatleft"><a href="../KIIPro-UART-PinOut.png" class="image" title="Click to enlarge"><img alt="Click to enlarge" src="../KIIPro-UART-PinOut.png" decoding="async" width="229" height="406" srcset="../344px-KIIPro-UART-PinOut.png 1.5x ../458px-KIIPro-UART-PinOut.png 2x"></a></div>
<h3><span class="mw-headline" id="UART">UART</span></h3>
<p>UART works, but is disabled by default when booting postmarketOS. You can enable UART in postmarketOS by editing the 
<code>extlinux/extlinux.conf</code> file located in the boot partition.
</p>
<p>Find this line:
</p>
<div class="mw-highlight mw-content-ltr" dir="ltr"><pre>  append console=null PMOS_NO_OUTPUT_REDIRECT</pre></div>
<p>And change it to:
</p>
<div class="mw-highlight mw-content-ltr" dir="ltr"><pre>  append console=ttyAML0,115200 PMOS_NO_OUTPUT_REDIRECT</pre></div>
<p>Then connect RX, TX, and Ground to your USB-to-TTL, according to the pinout shown. <b>DO NOT CONNECT THE 3V3 PAD</b> 
</p>
<p>Afterwards, you can now run:
</p>
<div class="mw-highlight mw-content-ltr" dir="ltr"><pre><span></span><span class="gp">#</span> microcom -s <span class="m">115200</span> /dev/ttyUSB0 <span class="c1"># replace /dev/ttyUSB0 with the path of your USB-to-TTL device</span>
</pre></div>
<p><br>
</p>
<h3><span class="mw-headline" id="LEDs">LEDs</span></h3>
<p>The 2 LEDs the device has are functionnal.
</p>
<p>Use <code>/sys/class/leds/red:status</code> to control the LEDs, like this for example:
</p>
<div class="mw-highlight mw-content-ltr" dir="ltr"><pre><span></span><span class="gp">#</span> <span class="nb">echo</span> <span class="m">1</span> &gt; /sys/class/leds/red:status/brightness <span class="c1"># red: on, blue: off</span>
<span class="gp">#</span> <span class="nb">echo</span> <span class="m">0</span> &gt; /sys/class/leds/red:status/brightness <span class="c1"># red: off, blue: on</span>
</pre></div>
<h3><span class="mw-headline" id="DVB_hardware">DVB hardware</span></h3>
<p>See <a href="../en/Videostrong_KII_Pro_(videostrong-kii-pro)_DVB.html" title="Videostrong KII Pro (videostrong-kii-pro)/DVB">Videostrong KII Pro (videostrong-kii-pro)/DVB</a>.
</p>
<h3><span class="mw-headline" id="IR_Receiver">IR Receiver</span></h3>
<p>Works! No setup is needed apart from using an interface that's optimized for remote controls.
</p>
<h3><span class="mw-headline" id="Wi-Fi_and_Ethernet">Wi-Fi and Ethernet</span></h3>
<p>Wi-Fi works, but requires a nonfree firmware. It also doesn't seem to work properly sometimes. This issue also happens on the <a href="../en/Xiaomi_POCO_F1_(xiaomi-beryllium).html" title="Xiaomi POCO F1 (xiaomi-beryllium)">Xiaomi POCO F1 (xiaomi-beryllium)</a>. Doesn't happen on LibreELEC, which doesn't use NetworkManager, so it may be a problem with NetworkManager after all.
</p>
<p>The TV box has an 8P8C port used for connecting to the internet (so-called 'Ethernet port') which works fine on postmarketOS as long as you boot it using a mainline U-Boot chainloaded from the vendor U-Boot. This weird quirk has to do with the device tree.
</p>
<h3><span class="mw-headline" id="Bluetooth">Bluetooth</span></h3>
<p>Bluetooth works, but requires nonfree firmware. It also requires a DTS patch which has been sent <a rel="nofollow" class="external text" href="https://patchwork.kernel.org/project/linux-amlogic/patch/20230210170721.1285914-3-christianshewitt@gmail.com/">upstream</a>.
</p>
<h3><span class="mw-headline" id="FOSS_bootloader">FOSS bootloader</span></h3>
<p>The KII Pro uses U-Boot as its primary bootloader. 
U-Boot v2020.07 (with some minor modifications) works on the TV box. Newer versions also work, although HDMI output (until postmarketOS boots) and ethernet are broken.
</p>
<h3><span class="mw-headline" id="Audio">Audio</span></h3>
<p>Works. Needs a DTS kernel patch, which has been sent <a rel="nofollow" class="external text" href="https://patchwork.kernel.org/project/linux-amlogic/patch/20230210170721.1285914-4-christianshewitt@gmail.com/">upstream</a>. There are no ALSA UCM configs, so you may need to tinker around a little bit with <code>alsamixer</code> for HDMI audio to work, which is fairly straightforward. And when you're done, you can save your configuration with this command:
</p>
<div class="mw-highlight mw-content-ltr" dir="ltr"><pre><span></span><span class="gp">#</span> alsactl store
</pre></div>
<table role="text container" style="color: inherit; background-color: #fdd1d1; border: 1px solid #b60000; margin: 4px 0; border-collapse: collapse;"><tbody><tr>
<td style="padding: 2px 0 2px 0.9em; text-align: center;"><span style="white-space: nowrap;"><img alt="Icon" src="../Red_warning_icon.svg" decoding="async" title="Icon" width="20" height="20" srcset="../Red_warning_icon.svg 1.5x ../Red_warning_icon.svg 2x"></span></td>
<td style="padding: 0.35em 0.9em; width: 100%;">
<b>TODO:</b> ALSA UCM</td>
</tr></tbody></table>
<h3><span class="mw-headline" id="Hardware_acceleration">Hardware acceleration</span></h3>
<p>Seems to work! Weston and Plasma, as well as Plasma Bigscreen run fine on the device and the postmarketOS demos work fine too.
Video encoding/decoding doesn't work however.
</p>
<h3><span class="mw-headline" id="X11">X11</span></h3>
<p>Works fine. A custom configuration file is needed else it crashes (included).
</p>
<h3><span class="mw-headline" id="HDMI-CEC">HDMI-CEC</span></h3>
<p>Sort of works. The TV detects a CEC device, but you cannot use the TV's remote to control the set-top box (at least, on Plasma Bigscreen).
Seems like <code>libcec</code> does detect which button in the remote is pressed.
</p>
<h3><span class="mw-headline" id="UIs">UIs</span></h3>
<p>Most UIs are expected to work, although you may want to use one suited for televisions (such as Plasma Bigscreen).
</p>
<p>(This list isn't in any particular order)
</p>
<table class="wikitable feature-colors">
<tbody>
<tr>
<th>Name
</th>
<th>Display server
</th>
<th>Notes
</th>
</tr>
<tr>
<td>Phosh
</td>
<td>Wayland
</td>
<td>Works.
</td>
</tr>
<tr>
<td>KDE Plasma Desktop
</td>
<td>Wayland
</td>
<td>Works. A little unstable.
</td>
</tr>
<tr>
<td>KDE Plasma Mobile
</td>
<td>Wayland
</td>
<td>Doesn't work. After the lockscreen it's completly unusable.
</td>
</tr>
<tr>
<td>KDE Plasma Bigscreen
</td>
<td>Wayland
</td>
<td>Works.
</td>
</tr>
<tr>
<td>Weston
</td>
<td>Wayland
</td>
<td>Works. The cursor disappears sometimes when using an XWayland app. A little unstable (less than Plasma Desktop)
</td>
</tr>
<tr>
<td>LXQt
</td>
<td>X11
</td>
<td>Works.
</td>
</tr>
<tr>
<td>Kodi on framebuffer
</td>
<td>-
</td>
<td>Works.
</td>
</tr>
<tr>
<td>GNOME and GNOME Classic
</td>
<td>Wayland
</td>
<td>Works. A little laggy.
</td>
</tr>
<tr>
<td>SXMO
</td>
<td>X11
</td>
<td>Works.
</td>
</tr>
<tr>
<td>SXMO
</td>
<td>Wayland
</td>
<td>Works.
</td>
</tr>
<tr>
<td>MATE
</td>
<td>X11
</td>
<td>Works.
</td>
</tr>
<tr>
<td>XFCE4
</td>
<td>X11
</td>
<td>Works.
</td>
</tr>
</tbody>
</table>
<h2><span class="mw-headline" id="Disassembly_guide">Disassembly guide</span></h2>
<table role="text container" style="color: inherit; background-color: #fdd1d1; border: 1px solid #b60000; margin: 4px 0; border-collapse: collapse;"><tbody><tr>
<td style="padding: 2px 0 2px 0.9em; text-align: center;"><span style="white-space: nowrap;"><img alt="Icon" src="../Red_warning_icon.svg" decoding="async" title="Icon" width="20" height="20" srcset="../Red_warning_icon.svg 1.5x ../Red_warning_icon.svg 2x"></span></td>
<td style="padding: 0.35em 0.9em; width: 100%;">
<b>TODO:</b> Good disassembly guide.</td>
</tr></tbody></table>
<ul><li>Flip your set-top box and unscrew the following screws:</li></ul>
<div class="mw-highlight mw-content-ltr" dir="ltr"><pre><span></span>         | | | |
       __| |_| |_______________________________
      |                                        |
      |   ( )                           ( )    |
      |                                        |
      |                                        |
      |                                        |
      |                                        |
      |                                        |
      |                                        |
      |                                        |
 this &gt;   (o)                        o  ( )    |
      |                             /\         |
      |_________________________ and this  ____|
</pre></div>
<ul>
<li>Unscrew the nut in the DVB-S2 port</li>
<li>Pry the top casing</li>
</ul>
<h2><span class="mw-headline" id="Pictures">Pictures</span></h2>
<ul class="gallery mw-gallery-traditional">
		<li class="gallerybox" style="width: 155px"><div style="width: 155px">
			<div class="thumb" style="width: 150px;"><div style="margin:30px auto;"><a href="../Videostrong-kii-pro-running-kde.jpg" class="image"><img alt="" src="../Videostrong-kii-pro-running-kde.jpg" decoding="async" width="120" height="90" srcset="../180px-Videostrong-kii-pro-running-kde.jpg 1.5x ../240px-Videostrong-kii-pro-running-kde.jpg 2x"></a></div></div>
			<div class="gallerytext">
<p>Running KDE Plasma!
</p>
			</div>
		</div></li>
		<li class="gallerybox" style="width: 155px"><div style="width: 155px">
			<div class="thumb" style="width: 150px;"><div style="margin:41px auto;"><a href="../Videostrong-kii-pro-mate.jpeg" class="image"><img alt="" src="../Videostrong-kii-pro-mate.jpeg" decoding="async" width="120" height="68" srcset="../180px-Videostrong-kii-pro-mate.jpeg 1.5x ../240px-Videostrong-kii-pro-mate.jpeg 2x"></a></div></div>
			<div class="gallerytext">
<p>Running MATE.
</p>
			</div>
		</div></li>
		<li class="gallerybox" style="width: 155px"><div style="width: 155px">
			<div class="thumb" style="width: 150px;"><div style="margin:41px auto;"><a href="../Videostrong-kii-pro-tty.jpeg" class="image"><img alt="" src="../Videostrong-kii-pro-tty.jpeg" decoding="async" width="120" height="68" srcset="../180px-Videostrong-kii-pro-tty.jpeg 1.5x ../240px-Videostrong-kii-pro-tty.jpeg 2x"></a></div></div>
			<div class="gallerytext">
<p>On a TTY. Running neofetch to look cool.
</p>
			</div>
		</div></li>
</ul>
<h2>
<span id="Boot_process_(very_simplified)"></span><span class="mw-headline" id="Boot_process_.28very_simplified.29">Boot process (very simplified)</span>
</h2>
<p>(Useful for porting other OSes to it)
</p>
<div class="mw-highlight mw-content-ltr" dir="ltr"><pre><span></span>                    if emmc   +------+
                  +----------&gt;| emmc |---------------+
                  |           +------+               |
 +---------+      | else if sd card   +---------+    |
 | bootrom |------+------------------&gt;| sd card |    |
 +---------+      |                   +---------+    |
                  +-----[...]                        | 
                                                     |
        +------------------[...]---------------------+
        |      
        |                                          +---------+     +-------------------+     +-----------------+
        v                                    +----&gt;| sd card |----&gt;| 's905_autoscript' |----&gt;| v2020.07 u-boot |
 +---------------+  if sd and multiboot mode |     +---------+     +-------------------+     +-----------------+
 | vendor u-boot |---------------------------+                                                        |
 +---------------+              else if emmc |     +------+     +-----------------------------+       v 
                                             +----&gt;| emmc |----&gt;| vendor's android 5.1.1 fork |   +----------+
                                                   +------+     +-----------------------------+   | extlinux |
                                                                                                  +----------+
                                                                                                       |
                                                                                                       v
                                                                                                +--------------+
                                                                                                | postmarketOS |
                                                                                                +--------------+
</pre></div>
<h2><span class="mw-headline" id="Replace_the_vendor_U-Boot">Replace the vendor U-Boot</span></h2>
<p>See <a href="../en/Videostrong_KII_Pro_(videostrong-kii-pro)_U-Boot_as_primary_bootloader.html" title="Videostrong KII Pro (videostrong-kii-pro)/U-Boot as primary bootloader">Running mainline U-Boot as the primary bootloader</a>
</p>
<h2><span class="mw-headline" id="Community_info">Community info</span></h2>
<h3><span class="mw-headline" id="Maintainers">Maintainers</span></h3>
<ul><li>
<a href="../User:F.html" title="User:F">F</a> (<code>f_</code> on OFTC and Libera, <code>@notrealvitali64:matrix.org</code> on Matrix (NOT USED. PLEASE USE IRC))</li></ul>
<h3><span class="mw-headline" id="Contributors">Contributors</span></h3>
<ul><li>
<a href="../User:Exkc.html" title="User:Exkc">exkc</a> ( <code>@root:exkc.moe</code>/<code>@exxxxkc:yatrix.org</code>/<code>@exxxxkc:matrix.org</code>/<code>@af2e02839bcfb0aae789a9ea66f63afff6bc14a5c1685be36c6db57fcf2cdc6f78176afe0ffab58e82d82df2457744c693593ebc9ac063e65a1e6260503ef373:the-apothecary.club</code>/<code>@exxxxkc:cuteworld.space</code> on Matrix)</li></ul>
<h3><span class="mw-headline" id="Users_owning_this_device">Users owning this device</span></h3>
<div style="-webkit-column-count: 2; -moz-column-count: 2; column-count: 2;"><ul style="margin-top: 0;">
<li>
<a href="../User:F.html" title="User:F">F</a> (<span class="cargoFieldName">Notes:</span> Wiped eMMC. Porting postmarketOS and Arm Trusted Firmware-A to it.)</li>
</ul></div>
<p><br>
</p>
<h2><span class="mw-headline" id="See_also">See also</span></h2>
<ul>
<li>
<a rel="nofollow" class="external text" href="https://gitlab.com/postmarketOS/pmaports/-/merge_requests/3833">pmaports!3833</a> Initial merge request</li>
<li><a rel="nofollow" class="external text" href="https://gitlab.com/postmarketOS/pmaports/-/tree/master/device/testing/device-videostrong-kii-pro">Device package</a></li>
<li><a rel="nofollow" class="external text" href="https://gitlab.com/postmarketOS/pmaports/-/tree/master/device/testing/linux-postmarketos-amlogic">Kernel package</a></li>
<li>
<a rel="nofollow" class="external text" href="https://linux-meson.com">linux-meson.com</a> Porting mainline Linux and U-Boot to Amlogic SoCs</li>
<li>(Outdated) <a rel="nofollow" class="external text" href="https://blog.vitali64.duckdns.org/articles/KIIProAdventures">notes</a>
</li>
<li>
<a rel="nofollow" class="external text" href="https://libreelec.tv">LibreELEC</a> has a working port for Amlogic set-top boxes</li>
</ul>
</div></div>
		
		<div id="catlinks" class="catlinks" data-mw="interface"><div id="mw-normal-catlinks" class="mw-normal-catlinks">
<a href="../Special:Categories.html" title="Special:Categories">Categories</a>: <ul>
<li><a href="../en/Category:Pages_with_syntax_highlighting_errors.html" title="Category:Pages with syntax highlighting errors">Pages with syntax highlighting errors</a></li>
<li><a href="../en/Category:Devices.html" title="Category:Devices">Devices</a></li>
<li><a href="../en/Category:Android.html" title="Category:Android">Android</a></li>
<li><a href="../en/Category:Videostrong.html" title="Category:Videostrong">Videostrong</a></li>
<li><a href="../en/Category:Devices_with_known_UART_pinout.html" title="Category:Devices with known UART pinout">Devices with known UART pinout</a></li>
<li><a href="../en/Category:Todo_Items.html" title="Category:Todo Items">Todo Items</a></li>
</ul>
</div></div>
		<div class="visualClear"></div>
		
	</div>
</div>


		<div id="footer" role="contentinfo" style="margin: 0">
						<ul id="footer-info">
								<li>Retrieved from "<a dir="ltr" href="https://wiki.postmarketos.org/index.php?title=Videostrong_KII_Pro_(videostrong-kii-pro)&amp;oldid=44482">https://wiki.postmarketos.org/index.php?title=Videostrong_KII_Pro_(videostrong-kii-pro)&amp;oldid=44482</a>"</li>
		
		<li id="footer-info-lastmod"> This page was last edited on 27 May 2023, at 09:12.</li>
								<li id="footer-info-copyright">Content is available under <a class="external" rel="nofollow" href="https://creativecommons.org/licenses/by-sa/4.0/">Creative Commons Attribution-ShareAlike</a> unless otherwise noted.</li>
							<br>
</ul>
						<ul id="footer-places">
								<li id="footer-places-privacy"><a href="../en/PostmarketOS:Privacy_policy.html" title="PostmarketOS:Privacy policy">Privacy policy</a></li>
								<li id="footer-places-about"><a href="../en/About_postmarketOS.html" class="mw-redirect" title="PostmarketOS:About">About postmarketOS</a></li>
								<li id="footer-places-disclaimer"><a href="../en/PostmarketOS:General_disclaimer.html" title="PostmarketOS:General disclaimer">Disclaimers</a></li>
								<li id="footer-places-mobileview"><a href="https://wiki.postmarketos.org/index.php?title=Videostrong_KII_Pro_(videostrong-kii-pro)&amp;mobileaction=toggle_view_mobile" class="noprint stopMobileRedirectToggle">Mobile view</a></li>
							</ul>
										<ul id="footer-icons" class="noprint">
										<li id="footer-copyrightico">
						<a href="https://creativecommons.org/licenses/by-sa/4.0/"><img src="../cc-by-sa.png" alt="Creative Commons Attribution-ShareAlike" width="88" height="31"></a>					</li>
										<li id="footer-poweredbyico">
						<a href="https://www.mediawiki.org/"><img src="../poweredby_mediawiki_88x31.png" alt="Powered by MediaWiki" srcset="" width="88" height="31"></a>					</li>
									</ul>
						<div style="clear: both;"></div>
		</div>
		

</body>
</html>
