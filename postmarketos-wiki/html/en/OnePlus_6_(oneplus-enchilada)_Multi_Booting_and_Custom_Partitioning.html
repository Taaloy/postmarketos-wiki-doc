<!DOCTYPE html>
<html class="client-nojs" lang="en" dir="ltr">
<head>
<meta charset="UTF-8">
<title>OnePlus 6 (oneplus-enchilada)/Multi Booting and Custom Partitioning - postmarketOS Wiki</title>
<link rel="stylesheet" href="../PostmarketOSWikiOffline.css">
<meta name="ResourceLoaderDynamicStyles" content="">
<meta name="generator" content="MediaWiki 1.39.8">
<meta name="format-detection" content="telephone=no">
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes, minimum-scale=0.25, maximum-scale=5.0">
<link rel="icon" href="/favicon.ico">
<link rel="search" type="application/opensearchdescription+xml" href="/opensearch_desc.php" title="postmarketOS Wiki (en)">
<link rel="EditURI" type="application/rsd+xml" href="https://wiki.postmarketos.org/api.php?action=rsd">
<link rel="license" href="https://creativecommons.org/licenses/by-sa/4.0/">
<link rel="alternate" type="application/atom+xml" title="postmarketOS Wiki Atom feed" href="/index.php?title=Special:RecentChanges&amp;feed=atom">
</head>
<body class="skin-vector skin-vector-search-vue mediawiki ltr sitedir-ltr mw-hide-empty-elt ns-0 ns-subject page-OnePlus_6_oneplus-enchilada_Multi_Booting_and_Custom_Partitioning rootpage-OnePlus_6_oneplus-enchilada_Multi_Booting_and_Custom_Partitioning skin-vector-2022 action-view skin--responsive vector-feature-language-in-header-enabled vector-feature-language-in-main-page-header-disabled vector-feature-language-alert-in-sidebar-disabled vector-feature-sticky-header-disabled vector-feature-sticky-header-edit-disabled vector-feature-table-of-contents-disabled vector-feature-visual-enhancement-next-disabled">
<div class="mw-page-container">
	<span id="top-page"></span>
	<a class="mw-jump-link" href="#content">Jump to content</a>
	<div class="mw-page-container-inner">
		<input type="checkbox" id="mw-sidebar-checkbox" class="mw-checkbox-hack-checkbox">
		<header class="mw-header">
			<div class="mw-header-aside">
			<label id="mw-sidebar-button" class="mw-checkbox-hack-button mw-ui-icon mw-ui-button mw-ui-quiet mw-ui-icon-element" for="mw-sidebar-checkbox" role="button" aria-controls="mw-panel" data-event-name="ui.sidebar" tabindex="0" title="Main menu">
				<span>Toggle sidebar</span>
			</label>
			
<a href="../en/Main_Page.html" class="mw-logo">
	<img class="mw-logo-icon" src="/logo_50x50.svg" alt="" aria-hidden="true" height="50" width="50">
	<span class="mw-logo-container">
		<strong class="mw-logo-wordmark">postmarketOS Wiki</strong>
	</span>
</a>

			</div>
			<div class="mw-header-content">
			
<div id="p-search" role="search" class="vector-search-box-vue  vector-search-box-collapses  vector-search-box-show-thumbnail vector-search-box-auto-expand-width vector-search-box">
	<a href="../Special:Search.html" title="Search postmarketOS Wiki [f]" accesskey="f" class="mw-ui-button mw-ui-quiet mw-ui-icon mw-ui-icon-element mw-ui-icon-wikimedia-search search-toggle">
		<span>Search</span>
	</a>
	
	<div>
		<form action="/index.php" id="searchform" class="vector-search-box-form">
			<div id="simpleSearch" class="vector-search-box-inner" data-search-loc="header-moved">
				<input class="vector-search-box-input" type="search" name="search" placeholder="Search postmarketOS Wiki" aria-label="Search postmarketOS Wiki" autocapitalize="sentences" title="Search postmarketOS Wiki [f]" accesskey="f" id="searchInput">
				<input type="hidden" name="title" value="Special:Search">
				<input id="mw-searchButton" class="searchButton mw-fallbackSearchButton" type="submit" name="fulltext" title="Search the pages for this text" value="Search">
				<input id="searchButton" class="searchButton" type="submit" name="go" title="Go to a page with this exact name if it exists" value="Go">
			</div>
		</form>
	</div>
</div>

			<nav class="vector-user-links" aria-label="Personal tools" role="navigation">
	

<div id="p-vector-user-menu-overflow" class="vector-menu mw-portlet mw-portlet-vector-user-menu-overflow vector-user-menu-overflow">
	<div class="vector-menu-content">
		
		<ul class="vector-menu-content-list"><li id="pt-createaccount-2" class="user-links-collapsible-item mw-list-item"><a href="../Special:RequestAccount.html"><span>Request account</span></a></li></ul>
		
	</div>
</div>

	

<div id="p-personal" class="vector-menu mw-portlet mw-portlet-personal vector-user-menu vector-user-menu-logged-out vector-menu-dropdown" title="More options">
	<input type="checkbox" id="p-personal-checkbox" role="button" aria-haspopup="true" data-event-name="ui.dropdown-p-personal" class="vector-menu-checkbox">
	<label id="p-personal-label" for="p-personal-checkbox" class="vector-menu-heading mw-ui-button mw-ui-quiet mw-ui-icon mw-ui-icon-element mw-ui-icon-ellipsis mw-ui-icon-wikimedia-ellipsis">
		<span class="vector-menu-heading-label">Personal tools</span>
	</label>
	<div class="vector-menu-content">
		<div class="vector-user-menu-create-account"><a href="/index.php?title=Special:CreateAccount&amp;returnto=OnePlus+6+%28oneplus-enchilada%29%2FMulti+Booting+and+Custom+Partitioning" class="vector-menu-content-item user-links-collapsible-item" title="You are encouraged to create an account and log in; however, it is not mandatory"><span class="mw-ui-icon mw-ui-icon-userAdd mw-ui-icon-wikimedia-userAdd"></span> <span>Create account</span></a></div>
<div class="vector-user-menu-login"><a href="/index.php?title=Special:UserLogin&amp;returnto=OnePlus+6+%28oneplus-enchilada%29%2FMulti+Booting+and+Custom+Partitioning" class="vector-menu-content-item vector-menu-content-item-login" title="You are encouraged to log in; however, it is not mandatory [o]" accesskey="o"><span class="mw-ui-icon mw-ui-icon-logIn mw-ui-icon-wikimedia-logIn"></span> <span>Log in</span></a></div>

		<ul class="vector-menu-content-list"></ul>
		
	</div>
</div>

</nav>

			</div>
		</header>
		<div class="vector-sidebar-container ">
			</div>
		<div class="vector-sitenotice-container">
			<div id="siteNotice"></div>
		</div>
		<input type="checkbox" id="vector-toc-collapsed-checkbox" class="mw-checkbox-hack-checkbox">
		<div class="mw-table-of-contents-container">
			<div class="vector-sticky-toc-container mw-sticky-header-element">
				<nav id="mw-panel-toc" class="sidebar-toc" role="navigation" aria-labelledby="sidebar-toc-label" data-event-name="ui.sidebar-toc">
	<div id="sidebar-toc-label" class="sidebar-toc-header">
		<p class="sidebar-toc-title">
		Contents
		<button class="vector-toc-uncollapse-button">move to sidebar</button>
		<button class="vector-toc-collapse-button">hide</button>
		</p>
	</div>
	<ul class="sidebar-toc-contents" id="mw-panel-toc-list">
		<li id="toc-mw-content-text" class="sidebar-toc-list-item sidebar-toc-level-1">
			<a href="#top-page" class="sidebar-toc-link">
				<div class="sidebar-toc-text">Beginning</div>
			</a>
		</li>
		<li id="toc-Custom_Partition" class="sidebar-toc-list-item sidebar-toc-level-1">
			<a class="sidebar-toc-link" href="#Custom_Partition">
				<div class="sidebar-toc-text">
				<span class="sidebar-toc-numb">1</span>Custom Partition</div>
			</a>
			
				<button aria-controls="toc-Custom_Partition-sublist" class="mw-ui-icon mw-ui-icon-wikimedia-expand mw-ui-icon-small sidebar-toc-toggle">
					Toggle Custom Partition subsection
				</button>
			
			<ul id="toc-Custom_Partition-sublist" class="sidebar-toc-list">
				<li id="toc-Editing_Partition_Table" class="sidebar-toc-list-item sidebar-toc-level-2">
			<a class="sidebar-toc-link" href="#Editing_Partition_Table">
				<div class="sidebar-toc-text">
				<span class="sidebar-toc-numb">1.1</span>Editing Partition Table</div>
			</a>
			
			<ul id="toc-Editing_Partition_Table-sublist" class="sidebar-toc-list">
				<li id="toc-Using_partition_tools_on_OnePlus_6/6t" class="sidebar-toc-list-item sidebar-toc-level-3">
			<a class="sidebar-toc-link" href="#Using_partition_tools_on_OnePlus_6/6t">
				<div class="sidebar-toc-text">
				<span class="sidebar-toc-numb">1.1.1</span>Using partition tools on OnePlus 6/6t</div>
			</a>
			
			<ul id="toc-Using_partition_tools_on_OnePlus_6/6t-sublist" class="sidebar-toc-list">
				<li id="toc-Custom_recovery_mode" class="sidebar-toc-list-item sidebar-toc-level-4">
			<a class="sidebar-toc-link" href="#Custom_recovery_mode">
				<div class="sidebar-toc-text">
				<span class="sidebar-toc-numb">1.1.1.1</span>Custom recovery mode</div>
			</a>
			
			<ul id="toc-Custom_recovery_mode-sublist" class="sidebar-toc-list">
			</ul>
		</li>
		<li id="toc-pmOS" class="sidebar-toc-list-item sidebar-toc-level-4">
			<a class="sidebar-toc-link" href="#pmOS">
				<div class="sidebar-toc-text">
				<span class="sidebar-toc-numb">1.1.1.2</span>pmOS</div>
			</a>
			
			<ul id="toc-pmOS-sublist" class="sidebar-toc-list">
			</ul>
		</li>
	</ul>
		</li>
		<li id="toc-Partiting_via_other_device" class="sidebar-toc-list-item sidebar-toc-level-3">
			<a class="sidebar-toc-link" href="#Partiting_via_other_device">
				<div class="sidebar-toc-text">
				<span class="sidebar-toc-numb">1.1.2</span>Partiting via other device</div>
			</a>
			
			<ul id="toc-Partiting_via_other_device-sublist" class="sidebar-toc-list">
			</ul>
		</li>
	</ul>
		</li>
		<li id="toc-Custom_Partition_Scheme" class="sidebar-toc-list-item sidebar-toc-level-2">
			<a class="sidebar-toc-link" href="#Custom_Partition_Scheme">
				<div class="sidebar-toc-text">
				<span class="sidebar-toc-numb">1.2</span>Custom Partition Scheme</div>
			</a>
			
			<ul id="toc-Custom_Partition_Scheme-sublist" class="sidebar-toc-list">
				<li id="toc-Android" class="sidebar-toc-list-item sidebar-toc-level-3">
			<a class="sidebar-toc-link" href="#Android">
				<div class="sidebar-toc-text">
				<span class="sidebar-toc-numb">1.2.1</span>Android</div>
			</a>
			
			<ul id="toc-Android-sublist" class="sidebar-toc-list">
				<li id="toc-Shrink_Uesrdata" class="sidebar-toc-list-item sidebar-toc-level-4">
			<a class="sidebar-toc-link" href="#Shrink_Uesrdata">
				<div class="sidebar-toc-text">
				<span class="sidebar-toc-numb">1.2.1.1</span>Shrink Uesrdata</div>
			</a>
			
			<ul id="toc-Shrink_Uesrdata-sublist" class="sidebar-toc-list">
			</ul>
		</li>
		<li id="toc-Remove_Android_Partition" class="sidebar-toc-list-item sidebar-toc-level-4">
			<a class="sidebar-toc-link" href="#Remove_Android_Partition">
				<div class="sidebar-toc-text">
				<span class="sidebar-toc-numb">1.2.1.2</span>Remove Android Partition</div>
			</a>
			
			<ul id="toc-Remove_Android_Partition-sublist" class="sidebar-toc-list">
			</ul>
		</li>
	</ul>
		</li>
		<li id="toc-pmOS_2" class="sidebar-toc-list-item sidebar-toc-level-3">
			<a class="sidebar-toc-link" href="#pmOS_2">
				<div class="sidebar-toc-text">
				<span class="sidebar-toc-numb">1.2.2</span>pmOS</div>
			</a>
			
			<ul id="toc-pmOS_2-sublist" class="sidebar-toc-list">
				<li id="toc-Creating_Custom_Partition_for_Subpartitions_partition_scheme" class="sidebar-toc-list-item sidebar-toc-level-4">
			<a class="sidebar-toc-link" href="#Creating_Custom_Partition_for_Subpartitions_partition_scheme">
				<div class="sidebar-toc-text">
				<span class="sidebar-toc-numb">1.2.2.1</span>Creating Custom Partition for Subpartitions partition scheme</div>
			</a>
			
			<ul id="toc-Creating_Custom_Partition_for_Subpartitions_partition_scheme-sublist" class="sidebar-toc-list">
			</ul>
		</li>
		<li id='toc-Creating_Custom_Partition_for_"Use_the_whole_storage_device"_partition_scheme' class="sidebar-toc-list-item sidebar-toc-level-4">
			<a class="sidebar-toc-link" href="#Creating_Custom_Partition_for_%22Use_the_whole_storage_device%22_partition_scheme">
				<div class="sidebar-toc-text">
				<span class="sidebar-toc-numb">1.2.2.2</span>Creating Custom Partition for "Use the whole storage device" partition scheme</div>
			</a>
			
			<ul id='toc-Creating_Custom_Partition_for_"Use_the_whole_storage_device"_partition_scheme-sublist' class="sidebar-toc-list">
			</ul>
		</li>
	</ul>
		</li>
		<li id="toc-Windows" class="sidebar-toc-list-item sidebar-toc-level-3">
			<a class="sidebar-toc-link" href="#Windows">
				<div class="sidebar-toc-text">
				<span class="sidebar-toc-numb">1.2.3</span>Windows</div>
			</a>
			
			<ul id="toc-Windows-sublist" class="sidebar-toc-list">
			</ul>
		</li>
	</ul>
		</li>
	</ul>
		</li>
		<li id="toc-Multi_Booting" class="sidebar-toc-list-item sidebar-toc-level-1">
			<a class="sidebar-toc-link" href="#Multi_Booting">
				<div class="sidebar-toc-text">
				<span class="sidebar-toc-numb">2</span>Multi Booting</div>
			</a>
			
				<button aria-controls="toc-Multi_Booting-sublist" class="mw-ui-icon mw-ui-icon-wikimedia-expand mw-ui-icon-small sidebar-toc-toggle">
					Toggle Multi Booting subsection
				</button>
			
			<ul id="toc-Multi_Booting-sublist" class="sidebar-toc-list">
				<li id="toc-UEFI_Implementation_Only" class="sidebar-toc-list-item sidebar-toc-level-2">
			<a class="sidebar-toc-link" href="#UEFI_Implementation_Only">
				<div class="sidebar-toc-text">
				<span class="sidebar-toc-numb">2.1</span>UEFI Implementation Only</div>
			</a>
			
			<ul id="toc-UEFI_Implementation_Only-sublist" class="sidebar-toc-list">
				<li id="toc-Android_2" class="sidebar-toc-list-item sidebar-toc-level-3">
			<a class="sidebar-toc-link" href="#Android_2">
				<div class="sidebar-toc-text">
				<span class="sidebar-toc-numb">2.1.1</span>Android</div>
			</a>
			
			<ul id="toc-Android_2-sublist" class="sidebar-toc-list">
			</ul>
		</li>
		<li id="toc-UEFI_OS" class="sidebar-toc-list-item sidebar-toc-level-3">
			<a class="sidebar-toc-link" href="#UEFI_OS">
				<div class="sidebar-toc-text">
				<span class="sidebar-toc-numb">2.1.2</span>UEFI OS</div>
			</a>
			
			<ul id="toc-UEFI_OS-sublist" class="sidebar-toc-list">
			</ul>
		</li>
		<li id="toc-UEFI_Implementation" class="sidebar-toc-list-item sidebar-toc-level-3">
			<a class="sidebar-toc-link" href="#UEFI_Implementation">
				<div class="sidebar-toc-text">
				<span class="sidebar-toc-numb">2.1.3</span>UEFI Implementation</div>
			</a>
			
			<ul id="toc-UEFI_Implementation-sublist" class="sidebar-toc-list">
			</ul>
		</li>
	</ul>
		</li>
		<li id="toc-UEFI_Implementation_+_A/B_slot" class="sidebar-toc-list-item sidebar-toc-level-2">
			<a class="sidebar-toc-link" href="#UEFI_Implementation_+_A/B_slot">
				<div class="sidebar-toc-text">
				<span class="sidebar-toc-numb">2.2</span>UEFI Implementation + A/B slot</div>
			</a>
			
			<ul id="toc-UEFI_Implementation_+_A/B_slot-sublist" class="sidebar-toc-list">
				<li id="toc-Android_3" class="sidebar-toc-list-item sidebar-toc-level-3">
			<a class="sidebar-toc-link" href="#Android_3">
				<div class="sidebar-toc-text">
				<span class="sidebar-toc-numb">2.2.1</span>Android</div>
			</a>
			
			<ul id="toc-Android_3-sublist" class="sidebar-toc-list">
			</ul>
		</li>
		<li id="toc-UEFI_OS_2" class="sidebar-toc-list-item sidebar-toc-level-3">
			<a class="sidebar-toc-link" href="#UEFI_OS_2">
				<div class="sidebar-toc-text">
				<span class="sidebar-toc-numb">2.2.2</span>UEFI OS</div>
			</a>
			
			<ul id="toc-UEFI_OS_2-sublist" class="sidebar-toc-list">
			</ul>
		</li>
		<li id="toc-UEFI_Implementation_2" class="sidebar-toc-list-item sidebar-toc-level-3">
			<a class="sidebar-toc-link" href="#UEFI_Implementation_2">
				<div class="sidebar-toc-text">
				<span class="sidebar-toc-numb">2.2.3</span>UEFI Implementation</div>
			</a>
			
			<ul id="toc-UEFI_Implementation_2-sublist" class="sidebar-toc-list">
			</ul>
		</li>
	</ul>
		</li>
		<li id="toc-A/B_slot_Only" class="sidebar-toc-list-item sidebar-toc-level-2">
			<a class="sidebar-toc-link" href="#A/B_slot_Only">
				<div class="sidebar-toc-text">
				<span class="sidebar-toc-numb">2.3</span>A/B slot Only</div>
			</a>
			
			<ul id="toc-A/B_slot_Only-sublist" class="sidebar-toc-list">
				<li id="toc-Android_4" class="sidebar-toc-list-item sidebar-toc-level-3">
			<a class="sidebar-toc-link" href="#Android_4">
				<div class="sidebar-toc-text">
				<span class="sidebar-toc-numb">2.3.1</span>Android</div>
			</a>
			
			<ul id="toc-Android_4-sublist" class="sidebar-toc-list">
			</ul>
		</li>
		<li id="toc-pmOS_3" class="sidebar-toc-list-item sidebar-toc-level-3">
			<a class="sidebar-toc-link" href="#pmOS_3">
				<div class="sidebar-toc-text">
				<span class="sidebar-toc-numb">2.3.2</span>pmOS</div>
			</a>
			
			<ul id="toc-pmOS_3-sublist" class="sidebar-toc-list">
				<li id='toc-"Subpartitions"' class="sidebar-toc-list-item sidebar-toc-level-4">
			<a class="sidebar-toc-link" href="#%22Subpartitions%22">
				<div class="sidebar-toc-text">
				<span class="sidebar-toc-numb">2.3.2.1</span>"Subpartitions"</div>
			</a>
			
			<ul id='toc-"Subpartitions"-sublist' class="sidebar-toc-list">
			</ul>
		</li>
		<li id='toc-"Use_the_whole_storage_device"' class="sidebar-toc-list-item sidebar-toc-level-4">
			<a class="sidebar-toc-link" href="#%22Use_the_whole_storage_device%22">
				<div class="sidebar-toc-text">
				<span class="sidebar-toc-numb">2.3.2.2</span>"Use the whole storage device"</div>
			</a>
			
			<ul id='toc-"Use_the_whole_storage_device"-sublist' class="sidebar-toc-list">
			</ul>
		</li>
		<li id="toc-Stowaway" class="sidebar-toc-list-item sidebar-toc-level-4">
			<a class="sidebar-toc-link" href="#Stowaway">
				<div class="sidebar-toc-text">
				<span class="sidebar-toc-numb">2.3.2.3</span>Stowaway</div>
			</a>
			
			<ul id="toc-Stowaway-sublist" class="sidebar-toc-list">
			</ul>
		</li>
	</ul>
		</li>
	</ul>
		</li>
	</ul>
		</li>
		<li id="toc-Switching_OS" class="sidebar-toc-list-item sidebar-toc-level-1">
			<a class="sidebar-toc-link" href="#Switching_OS">
				<div class="sidebar-toc-text">
				<span class="sidebar-toc-numb">3</span>Switching OS</div>
			</a>
			
				<button aria-controls="toc-Switching_OS-sublist" class="mw-ui-icon mw-ui-icon-wikimedia-expand mw-ui-icon-small sidebar-toc-toggle">
					Toggle Switching OS subsection
				</button>
			
			<ul id="toc-Switching_OS-sublist" class="sidebar-toc-list">
				<li id="toc-UEFI" class="sidebar-toc-list-item sidebar-toc-level-2">
			<a class="sidebar-toc-link" href="#UEFI">
				<div class="sidebar-toc-text">
				<span class="sidebar-toc-numb">3.1</span>UEFI</div>
			</a>
			
			<ul id="toc-UEFI-sublist" class="sidebar-toc-list">
			</ul>
		</li>
		<li id="toc-Slot_A/B" class="sidebar-toc-list-item sidebar-toc-level-2">
			<a class="sidebar-toc-link" href="#Slot_A/B">
				<div class="sidebar-toc-text">
				<span class="sidebar-toc-numb">3.2</span>Slot A/B</div>
			</a>
			
			<ul id="toc-Slot_A/B-sublist" class="sidebar-toc-list">
				<li id="toc-fastboot" class="sidebar-toc-list-item sidebar-toc-level-3">
			<a class="sidebar-toc-link" href="#fastboot">
				<div class="sidebar-toc-text">
				<span class="sidebar-toc-numb">3.2.1</span>fastboot</div>
			</a>
			
			<ul id="toc-fastboot-sublist" class="sidebar-toc-list">
				<li id="toc-Switch_to_slot_A" class="sidebar-toc-list-item sidebar-toc-level-4">
			<a class="sidebar-toc-link" href="#Switch_to_slot_A">
				<div class="sidebar-toc-text">
				<span class="sidebar-toc-numb">3.2.1.1</span>Switch to slot A</div>
			</a>
			
			<ul id="toc-Switch_to_slot_A-sublist" class="sidebar-toc-list">
			</ul>
		</li>
		<li id="toc-Switch_to_slot_b" class="sidebar-toc-list-item sidebar-toc-level-4">
			<a class="sidebar-toc-link" href="#Switch_to_slot_b">
				<div class="sidebar-toc-text">
				<span class="sidebar-toc-numb">3.2.1.2</span>Switch to slot b</div>
			</a>
			
			<ul id="toc-Switch_to_slot_b-sublist" class="sidebar-toc-list">
			</ul>
		</li>
		<li id="toc-Check_Current_Slot" class="sidebar-toc-list-item sidebar-toc-level-4">
			<a class="sidebar-toc-link" href="#Check_Current_Slot">
				<div class="sidebar-toc-text">
				<span class="sidebar-toc-numb">3.2.1.3</span>Check Current Slot</div>
			</a>
			
			<ul id="toc-Check_Current_Slot-sublist" class="sidebar-toc-list">
			</ul>
		</li>
	</ul>
		</li>
		<li id="toc-pmOS_4" class="sidebar-toc-list-item sidebar-toc-level-3">
			<a class="sidebar-toc-link" href="#pmOS_4">
				<div class="sidebar-toc-text">
				<span class="sidebar-toc-numb">3.2.2</span>pmOS</div>
			</a>
			
			<ul id="toc-pmOS_4-sublist" class="sidebar-toc-list">
				<li id="toc-Switch_to_slot_A_2" class="sidebar-toc-list-item sidebar-toc-level-4">
			<a class="sidebar-toc-link" href="#Switch_to_slot_A_2">
				<div class="sidebar-toc-text">
				<span class="sidebar-toc-numb">3.2.2.1</span>Switch to slot A</div>
			</a>
			
			<ul id="toc-Switch_to_slot_A_2-sublist" class="sidebar-toc-list">
			</ul>
		</li>
		<li id="toc-Switch_to_slot_b_2" class="sidebar-toc-list-item sidebar-toc-level-4">
			<a class="sidebar-toc-link" href="#Switch_to_slot_b_2">
				<div class="sidebar-toc-text">
				<span class="sidebar-toc-numb">3.2.2.2</span>Switch to slot b</div>
			</a>
			
			<ul id="toc-Switch_to_slot_b_2-sublist" class="sidebar-toc-list">
			</ul>
		</li>
		<li id="toc-Check_Current_Slot_2" class="sidebar-toc-list-item sidebar-toc-level-4">
			<a class="sidebar-toc-link" href="#Check_Current_Slot_2">
				<div class="sidebar-toc-text">
				<span class="sidebar-toc-numb">3.2.2.3</span>Check Current Slot</div>
			</a>
			
			<ul id="toc-Check_Current_Slot_2-sublist" class="sidebar-toc-list">
			</ul>
		</li>
	</ul>
		</li>
		<li id="toc-Android_5" class="sidebar-toc-list-item sidebar-toc-level-3">
			<a class="sidebar-toc-link" href="#Android_5">
				<div class="sidebar-toc-text">
				<span class="sidebar-toc-numb">3.2.3</span>Android</div>
			</a>
			
			<ul id="toc-Android_5-sublist" class="sidebar-toc-list">
			</ul>
		</li>
		<li id="toc-UEFI_implementation_3" class="sidebar-toc-list-item sidebar-toc-level-3">
			<a class="sidebar-toc-link" href="#UEFI_implementation_3">
				<div class="sidebar-toc-text">
				<span class="sidebar-toc-numb">3.2.4</span>UEFI implementation</div>
			</a>
			
			<ul id="toc-UEFI_implementation_3-sublist" class="sidebar-toc-list">
			</ul>
		</li>
	</ul>
		</li>
	</ul>
		</li>
		<li id="toc-Tips_and_Trick" class="sidebar-toc-list-item sidebar-toc-level-1">
			<a class="sidebar-toc-link" href="#Tips_and_Trick">
				<div class="sidebar-toc-text">
				<span class="sidebar-toc-numb">4</span>Tips and Trick</div>
			</a>
			
				<button aria-controls="toc-Tips_and_Trick-sublist" class="mw-ui-icon mw-ui-icon-wikimedia-expand mw-ui-icon-small sidebar-toc-toggle">
					Toggle Tips and Trick subsection
				</button>
			
			<ul id="toc-Tips_and_Trick-sublist" class="sidebar-toc-list">
				<li id="toc-UEFI_Implementation_4" class="sidebar-toc-list-item sidebar-toc-level-2">
			<a class="sidebar-toc-link" href="#UEFI_Implementation_4">
				<div class="sidebar-toc-text">
				<span class="sidebar-toc-numb">4.1</span>UEFI Implementation</div>
			</a>
			
			<ul id="toc-UEFI_Implementation_4-sublist" class="sidebar-toc-list">
				<li id="toc-uboot" class="sidebar-toc-list-item sidebar-toc-level-3">
			<a class="sidebar-toc-link" href="#uboot">
				<div class="sidebar-toc-text">
				<span class="sidebar-toc-numb">4.1.1</span>uboot</div>
			</a>
			
			<ul id="toc-uboot-sublist" class="sidebar-toc-list">
			</ul>
		</li>
	</ul>
		</li>
		<li id="toc-UEFI_OS_3" class="sidebar-toc-list-item sidebar-toc-level-2">
			<a class="sidebar-toc-link" href="#UEFI_OS_3">
				<div class="sidebar-toc-text">
				<span class="sidebar-toc-numb">4.2</span>UEFI OS</div>
			</a>
			
			<ul id="toc-UEFI_OS_3-sublist" class="sidebar-toc-list">
				<li id="toc-pmOS_5" class="sidebar-toc-list-item sidebar-toc-level-3">
			<a class="sidebar-toc-link" href="#pmOS_5">
				<div class="sidebar-toc-text">
				<span class="sidebar-toc-numb">4.2.1</span>pmOS</div>
			</a>
			
			<ul id="toc-pmOS_5-sublist" class="sidebar-toc-list">
				<li id="toc-Renegade_Project_UEFI_Implementation" class="sidebar-toc-list-item sidebar-toc-level-4">
			<a class="sidebar-toc-link" href="#Renegade_Project_UEFI_Implementation">
				<div class="sidebar-toc-text">
				<span class="sidebar-toc-numb">4.2.1.1</span>Renegade Project UEFI Implementation</div>
			</a>
			
			<ul id="toc-Renegade_Project_UEFI_Implementation-sublist" class="sidebar-toc-list">
				<li id="toc-Audio_don't_work" class="sidebar-toc-list-item sidebar-toc-level-5">
			<a class="sidebar-toc-link" href="#Audio_don't_work">
				<div class="sidebar-toc-text">
				<span class="sidebar-toc-numb">4.2.1.1.1</span>Audio don't work</div>
			</a>
			
			<ul id="toc-Audio_don't_work-sublist" class="sidebar-toc-list">
			</ul>
		</li>
		<li id="toc-pmOs_boot_dont_appear_in_the_boot_menu" class="sidebar-toc-list-item sidebar-toc-level-5">
			<a class="sidebar-toc-link" href="#pmOs_boot_dont_appear_in_the_boot_menu">
				<div class="sidebar-toc-text">
				<span class="sidebar-toc-numb">4.2.1.1.2</span>pmOs_boot dont appear in the boot menu</div>
			</a>
			
			<ul id="toc-pmOs_boot_dont_appear_in_the_boot_menu-sublist" class="sidebar-toc-list">
			</ul>
		</li>
	</ul>
		</li>
	</ul>
		</li>
	</ul>
		</li>
		<li id="toc-Android_6" class="sidebar-toc-list-item sidebar-toc-level-2">
			<a class="sidebar-toc-link" href="#Android_6">
				<div class="sidebar-toc-text">
				<span class="sidebar-toc-numb">4.3</span>Android</div>
			</a>
			
			<ul id="toc-Android_6-sublist" class="sidebar-toc-list">
				<li id="toc-Upgrading/Flashing_Android" class="sidebar-toc-list-item sidebar-toc-level-3">
			<a class="sidebar-toc-link" href="#Upgrading/Flashing_Android">
				<div class="sidebar-toc-text">
				<span class="sidebar-toc-numb">4.3.1</span>Upgrading/Flashing Android</div>
			</a>
			
			<ul id="toc-Upgrading/Flashing_Android-sublist" class="sidebar-toc-list">
			</ul>
		</li>
	</ul>
		</li>
	</ul>
		</li>
		<li id="toc-See_Also" class="sidebar-toc-list-item sidebar-toc-level-1">
			<a class="sidebar-toc-link" href="#See_Also">
				<div class="sidebar-toc-text">
				<span class="sidebar-toc-numb">5</span>See Also</div>
			</a>
			
			<ul id="toc-See_Also-sublist" class="sidebar-toc-list">
			</ul>
		</li>
	</ul>
</nav>

			</div>
		</div>
		<div class="mw-content-container">
			<main id="content" class="mw-body" role="main" style="margin: 0">
				<a id="top"></a>
				<header class="mw-body-header">
				
				
					<label id="vector-toc-collapsed-button" class="mw-ui-button mw-ui-quiet mw-ui-icon mw-ui-icon-element mw-ui-icon-wikimedia-listBullet mw-checkbox-hack-button" for="vector-toc-collapsed-checkbox" role="button" aria-controls="toc-toggle-list" data-event-name="vector.toc-toggle-list" tabindex="0" title="Table of Contents">
						Toggle the table of contents
					</label>
				    <h1 id="firstHeading" class="firstHeading mw-first-heading"><span class="mw-page-title-main">OnePlus 6 (oneplus-enchilada)/Multi Booting and Custom Partitioning</span></h1>
				</header>
				<nav class="vector-article-toolbar" aria-label="Tools" role="navigation">
					<div class="mw-article-toolbar-container">
						<div id="left-navigation">
							

<div id="p-associated-pages" class="vector-menu mw-portlet mw-portlet-associated-pages vector-menu-tabs">
	<div class="vector-menu-content">
		
		<ul class="vector-menu-content-list">
<li id="ca-nstab-main" class="selected mw-list-item"><a href="../en/OnePlus_6_(oneplus-enchilada)_Multi_Booting_and_Custom_Partitioning.html" title="View the content page [c]" accesskey="c"><span>Page</span></a></li>
<li id="ca-talk" class="new mw-list-item"><a href="/index.php?title=Talk:OnePlus_6_(oneplus-enchilada)/Multi_Booting_and_Custom_Partitioning&amp;action=edit&amp;redlink=1" rel="discussion" title="Discussion about the content page (page does not exist) [t]" accesskey="t"><span>Discussion</span></a></li>
</ul>
		
	</div>
</div>

							

<div id="p-variants" class="vector-menu mw-portlet mw-portlet-variants emptyPortlet vector-menu-dropdown">
	<input type="checkbox" id="p-variants-checkbox" role="button" aria-haspopup="true" data-event-name="ui.dropdown-p-variants" class="vector-menu-checkbox" aria-label="Change language variant">
	<label id="p-variants-label" for="p-variants-checkbox" class="vector-menu-heading ">
		<span class="vector-menu-heading-label">English</span>
	</label>
	<div class="vector-menu-content">
		
		<ul class="vector-menu-content-list"></ul>
		
	</div>
</div>

						</div>
						<div id="right-navigation" class="vector-collapsible ">
							

<div id="p-views" class="vector-menu mw-portlet mw-portlet-views vector-menu-tabs">
	<div class="vector-menu-content">
		
		<ul class="vector-menu-content-list">
<li id="ca-view" class="selected mw-list-item"><a href="../en/OnePlus_6_(oneplus-enchilada)_Multi_Booting_and_Custom_Partitioning.html"><span>Read</span></a></li>
<li id="ca-viewsource" class="mw-list-item"><a href="/index.php?title=OnePlus_6_(oneplus-enchilada)/Multi_Booting_and_Custom_Partitioning&amp;action=edit" title="This page is protected.
You can view its source [e]" accesskey="e"><span>View source</span></a></li>
<li id="ca-history" class="mw-list-item"><a href="/index.php?title=OnePlus_6_(oneplus-enchilada)/Multi_Booting_and_Custom_Partitioning&amp;action=history" title="Past revisions of this page [h]" accesskey="h"><span>View history</span></a></li>
</ul>
		
	</div>
</div>

							

<div id="p-cactions" class="vector-menu mw-portlet mw-portlet-cactions emptyPortlet vector-menu-dropdown vector-has-collapsible-items" title="More options">
	<input type="checkbox" id="p-cactions-checkbox" role="button" aria-haspopup="true" data-event-name="ui.dropdown-p-cactions" class="vector-menu-checkbox">
	<label id="p-cactions-label" for="p-cactions-checkbox" class="vector-menu-heading ">
		<span class="vector-menu-heading-label">More</span>
	</label>
	<div class="vector-menu-content">
		
		<ul class="vector-menu-content-list">
<li id="ca-more-view" class="selected vector-more-collapsible-item mw-list-item"><a href="../en/OnePlus_6_(oneplus-enchilada)_Multi_Booting_and_Custom_Partitioning.html"><span>Read</span></a></li>
<li id="ca-more-viewsource" class="vector-more-collapsible-item mw-list-item"><a href="/index.php?title=OnePlus_6_(oneplus-enchilada)/Multi_Booting_and_Custom_Partitioning&amp;action=edit"><span>View source</span></a></li>
<li id="ca-more-history" class="vector-more-collapsible-item mw-list-item"><a href="/index.php?title=OnePlus_6_(oneplus-enchilada)/Multi_Booting_and_Custom_Partitioning&amp;action=history"><span>View history</span></a></li>
</ul>
		
	</div>
</div>

						</div>
					</div>
				</nav>
				<div id="bodyContent" class="vector-body" data-mw-ve-target-container>
					<div class="mw-body-subheader">
					        <div class="mw-indicators">
        </div>

					    <div id="siteSub" class="noprint">From postmarketOS Wiki</div>
					</div>
					
					
					
					<div id="mw-content-text" class="mw-body-content mw-content-ltr" lang="en" dir="ltr">
<div class="mw-parser-output">
<table role="text container" style="color: inherit; background-color: #fee7e6; border: 1px solid #d33; margin: 4px 0; border-collapse: collapse;"><tbody><tr>
<td style="padding: 2px 0 2px 0.9em; text-align: center; line-height: 1;"><span style="white-space: nowrap;"><img alt="Icon" src="../Red_warning_icon.svg" decoding="async" title="Icon" width="20" height="20"></span></td>
<td style="padding: 0.35em 0.9em; width: 100%;">
<b>WARNING:</b> THIS PROCESS CAN BRICK YOUR PHONE IF DONE INCORRECTLY! IF YOU DON'T FEEL COMFORTABLE RECOVERING YOUR PHONE VIA EDL MODE, DO NOT ATTEMPT THIS</td>
</tr></tbody></table>
<table role="text container" style="color: inherit; background-color: #f6efe5; border: 1px solid #ac6600; margin: 4px 0; border-collapse: collapse;"><tbody><tr>
<td style="padding: 2px 0 2px 0.9em; text-align: center; line-height: 1;"><span style="white-space: nowrap;"><img alt="Note" src="../Reference_icon.svg" decoding="async" title="Note" width="20" height="20"></span></td>
<td style="padding: 0.35em 0.9em; width: 100%;">Currently,There are 2 UEFI Implementation support 6/6t (<a href="../en/Renegade_Project.html" title="Renegade Project">Renegade Project</a>,<a rel="nofollow" class="external text" href="https://git.codelinaro.org/linaro/qcomlt/u-boot/-/releases">this fork of uboot</a>(See <a href="../en/Qualcomm_SDM845_(qualcomm-sdm845).html" title="Qualcomm SDM845 (qualcomm-sdm845)">Qualcomm_SDM845_(qualcomm-sdm845)</a>)</td>
</tr></tbody></table>
<tocplace></tocplace>
<h2><span class="mw-headline" id="Custom_Partition">Custom Partition</span></h2>
<h3><span class="mw-headline" id="Editing_Partition_Table">Editing Partition Table</span></h3>
<p>In this sector we will cover variant of way to edit partition table
</p>
<h4>
<span id="Using_partition_tools_on_OnePlus_6.2F6t"></span><span class="mw-headline" id="Using_partition_tools_on_OnePlus_6/6t">Using partition tools on OnePlus 6/6t</span>
</h4>
<h5><span class="mw-headline" id="Custom_recovery_mode">Custom recovery mode</span></h5>
<p>You need to find a working aarch64 binary of sgdisk, parted or other partition tools. Then find a way to run that binary in a Terminal on your device like using a Custom android recovery (like orange fox, twrp).For some reason parted error out on custom android recovery when editing custom partition.
</p>
<h5><span class="mw-headline" id="pmOS">pmOS</span></h5>
<p>Netbooting pmOS or a (Modified) postmaketos boot.img (like <a rel="nofollow" class="external text" href="https://github.com/dreemurrs-embedded/Jumpdrive">Jumpdrive</a> )would work in that case. They all will work as long as they has included the parted or sgdisk or other partition tools , nothing is accessing the device storage.
</p>
<h4><span class="mw-headline" id="Partiting_via_other_device">Partiting via other device</span></h4>
<p>Some UEFI Implementation (like Renegade Project,uboot) has provide usb mass storage mode which can expose the whole ufs via usb mass storage so you can do partitioning via another device and this mode.
</p>
<h3><span class="mw-headline" id="Custom_Partition_Scheme">Custom Partition Scheme</span></h3>
<h4><span class="mw-headline" id="Android">Android</span></h4>
<p>Before you create any custom partition , it is always a good idea to follow those 2 guides at below to free up some space for custom partition.
</p>
<h5><span class="mw-headline" id="Shrink_Uesrdata">Shrink Uesrdata</span></h5>
<p>Shrink Uesrdata  is required to free up space for custom partition.
</p>
<p>1. Shrink Uesrdata in the partition table
</p>
<p>2. boot up to twrp to format userdata
</p>
<p>After that you should able to see some free space for  custom partition.
</p>
<h5><span class="mw-headline" id="Remove_Android_Partition">Remove Android Partition</span></h5>
<p>On Oneplus 6, It is safe to wipe those android partition /dev/sda13-17 (system_a , system_b , odm_a , odm_b , userdata) without any harm being done to the bootloader. 
</p>
<p>However on Oneplus 6T,you can only safely remove userdata (/dev/sda17).
</p>
<p><br>
</p>
<h4><span class="mw-headline" id="pmOS_2">pmOS</span></h4>
<h5><span class="mw-headline" id="Creating_Custom_Partition_for_Subpartitions_partition_scheme">Creating Custom Partition for Subpartitions partition scheme</span></h5>
<table role="text container" style="color: inherit; background-color: #f6efe5; border: 1px solid #ac6600; margin: 4px 0; border-collapse: collapse;"><tbody><tr>
<td style="padding: 2px 0 2px 0.9em; text-align: center; line-height: 1;"><span style="white-space: nowrap;"><img alt="Note" src="../Reference_icon.svg" decoding="async" title="Note" width="20" height="20"></span></td>
<td style="padding: 0.35em 0.9em; width: 100%;">As of now , pmOS only support subpartition on  the system* (Any partition that has prefix of system) partition or userdata partition.Also system* and userdata has to be labeled in the gpt partition table. The postmarketOS initramfs checks those partiton label via  gpt partition table , not the file system. Therefore the partition have to have a system prefix in the label.However In order to not confuse the bootloader.DO NOT LABEL THE PARTITION WITH NAME LIKE  system system_a system_b system_c userdata.For example systempmos is a perfect name that would work.</td>
</tr></tbody></table>
<p>1. Create a Partition that named as systempmos in the partition table.
</p>
<h5>
<span id="Creating_Custom_Partition_for_.22Use_the_whole_storage_device.22_partition_scheme"></span><span class="mw-headline" id='Creating_Custom_Partition_for_"Use_the_whole_storage_device"_partition_scheme'>Creating Custom Partition for "Use the whole storage device" partition scheme</span>
</h5>
<table role="text container" style="color: inherit; background-color: #f6efe5; border: 1px solid #ac6600; margin: 4px 0; border-collapse: collapse;"><tbody><tr>
<td style="padding: 2px 0 2px 0.9em; text-align: center; line-height: 1;"><span style="white-space: nowrap;"><img alt="Note" src="../Reference_icon.svg" decoding="async" title="Note" width="20" height="20"></span></td>
<td style="padding: 0.35em 0.9em; width: 100%;">pmOS_boot and pmOS_root has to be labelled in the file system. The postmarketOS initramfs checks those partiton label via file system, not the partition table. However It is recommended to label those partition in the partition table if you want them to be flashable in fastboot.(It doesn't matter what you have labelled them in partition table.As long as fastboot is able to read those label.)</td>
</tr></tbody></table>
<table role="text container" style="color: inherit; background-color: #f6efe5; border: 1px solid #ac6600; margin: 4px 0; border-collapse: collapse;"><tbody><tr>
<td style="padding: 2px 0 2px 0.9em; text-align: center; line-height: 1;"><span style="white-space: nowrap;"><img alt="Note" src="../Reference_icon.svg" decoding="async" title="Note" width="20" height="20"></span></td>
<td style="padding: 0.35em 0.9em; width: 100%;">The disk image the generated by pmbootstrap has already been labelled</td>
</tr></tbody></table>
<p>1 . Create a new boot partition that labelled as pmOS_boot in the file system 
</p>
<p>2 . Create a new root partition that labelled as pmOS_root in the file system
</p>
<h4><span class="mw-headline" id="Windows">Windows</span></h4>
<p>In order to boot Windows you need to create :
</p>
<ul>
<li>ESP partition: Windows's Boot/EFI Partition</li>
<li>Windows partition: Windows's Main Partition</li>
</ul>
<h2><span class="mw-headline" id="Multi_Booting">Multi Booting</span></h2>
<p>There are few configuration for multi booting : 
</p>
<ul>
<li>
<a href="#UEFI_Implementation_Only">#UEFI Implementation Only</a> : Multi booting Multiple UEFI OS</li>
<li>
<a href="#UEFI_Implementation_+_A/B_slot">#UEFI Implementation + A/B slot</a> : Multi booting Multiple UEFI OS alongside Android</li>
<li>
<a href="#A/B_slot_Only">#A/B slot Only</a> :  Multi booting pmOS alongside Android</li>
</ul>
<h4><span class="mw-headline" id="UEFI_Implementation_Only">UEFI Implementation Only</span></h4>
<h5><span class="mw-headline" id="Android_2">Android</span></h5>
<p>Since you don't boot Android in this configuration , please follow <a href="#Remove_Android_Partition">#Remove Android Partition</a>
</p>
<h5><span class="mw-headline" id="UEFI_OS">UEFI OS</span></h5>
<table role="text container" style="color: inherit; background-color: #f6efe5; border: 1px solid #ac6600; margin: 4px 0; border-collapse: collapse;"><tbody><tr>
<td style="padding: 2px 0 2px 0.9em; text-align: center; line-height: 1;"><span style="white-space: nowrap;"><img alt="Note" src="../Reference_icon.svg" decoding="async" title="Note" width="20" height="20"></span></td>
<td style="padding: 0.35em 0.9em; width: 100%;">if you want to install pmOS as UEFI OS,please refer to <a href="#pmOS">#pmOS</a> in <a href="#Tips_and_trick">#Tips and trick</a>
</td>
</tr></tbody></table>
<table role="text container" style="color: inherit; background-color: #f6efe5; border: 1px solid #ac6600; margin: 4px 0; border-collapse: collapse;"><tbody><tr>
<td style="padding: 2px 0 2px 0.9em; text-align: center; line-height: 1;"><span style="white-space: nowrap;"><img alt="Note" src="../Reference_icon.svg" decoding="async" title="Note" width="20" height="20"></span></td>
<td style="padding: 0.35em 0.9em; width: 100%;">Most of the pre-build OS disk images found online are not made for 4k sectors. The OnePlus 6/6t uses 4k sectors. Therefore you have to convert the OS image to 4k sectors before you flash the partition image to your phone partition.</td>
</tr></tbody></table>
<p>After freeing some space , then make some custom partition for  the UEFI OS of your choose and follow the installation instructions of the UEFI OS.You should able to see the UEFI OS in the boot menu of the UEFI Implementation.If your UEFI Implementation dont have  boot menu and you have multiple installed UEFI OS, you might need use a bootloader for managing multiple UEFI OS.
</p>
<h5><span class="mw-headline" id="UEFI_Implementation">UEFI Implementation</span></h5>
<p>There nothing special to it.As long as it boot then is it fine.
</p>
<h4>
<span id="UEFI_Implementation_.2B_A.2FB_slot"></span><span class="mw-headline" id="UEFI_Implementation_+_A/B_slot">UEFI Implementation + A/B slot</span>
</h4>
<p>Currently It is possible to dual boot variant UEFI OS and Android via  A/B slot.
</p>
<h5><span class="mw-headline" id="Android_3">Android</span></h5>
<p>The Android OS should be installed on the phone's slot A already and you need to fellow <a href="#Shrink_Uesrdata">#Shrink Uesrdata</a> to free some space for custom partition.
</p>
<h5><span class="mw-headline" id="UEFI_OS_2">UEFI OS</span></h5>
<p>See <a href="#UEFI_OS">#UEFI OS</a> in <a href="#UEFI_Implementation_Only">#UEFI Implementation Only</a>
</p>
<h5><span class="mw-headline" id="UEFI_Implementation_2">UEFI Implementation</span></h5>
<table role="text container" style="color: inherit; background-color: #f6efe5; border: 1px solid #ac6600; margin: 4px 0; border-collapse: collapse;"><tbody><tr>
<td style="padding: 2px 0 2px 0.9em; text-align: center; line-height: 1;"><span style="white-space: nowrap;"><img alt="Note" src="../Reference_icon.svg" decoding="async" title="Note" width="20" height="20"></span></td>
<td style="padding: 0.35em 0.9em; width: 100%;">As of now most of the UEFI Implementation cant replace the stock bootloader due to chain of trust thus they useually are chainloaded from the stock bootloader.</td>
</tr></tbody></table>
<p>Currently this configuration only support those UEFI Implementation that is chainloaded from the stock bootloader.
</p>
<p>1. Flash the boot.img of the UEFI Implementation in to slot b (boot_b)
</p>
<p>After that , The UEFI implementation should boot if you selected slot b.
</p>
<h4>
<span id="A.2FB_slot_Only"></span><span class="mw-headline" id="A/B_slot_Only">A/B slot Only</span>
</h4>
<p>Currently, the dedicated port of pmOS would generate boot.img by default so that allow pmos to be directly booted  from the stock bootloader.Due to that it is possible to dualboot  pmos and android using via A/B slot mechanism  from the stock bootloader.However generic port would not generate boot.img by default (due to it only support UEFI) but it is possible to make the generic port  generate boot.img by editing <code>/etc/deviceinfo</code>.
</p>
<h5><span class="mw-headline" id="Android_4">Android</span></h5>
<p>There are not much need to do.The Android OS should be installed on the phone's slot A already.If you want to/need to do custom partition then fellow <a href="#Shrink_Uesrdata">#Shrink Uesrdata</a> to free some space for custom partition.
</p>
<h5><span class="mw-headline" id="pmOS_3">pmOS</span></h5>
<p>There are two ways to run pmos : run pmOS in dedicated partition or Stowaway (Sharing userdata with android).
</p>
<p><br>
Before Flashing pmOS's Subpartitions/Stowaway/boot,root partition  to your device , you have to
</p>
<p>1. Flashing pmOS's boot.img into slot B
</p>
<p>2. <code>fastboot erase dtbo_b</code>
</p>
<p><br>
After following all the instructions (including those that are at below) , The pmOS should boot if you selected slot b.
</p>
<p><b> Run pmOS in dedicated partition : </b>
</p>
<p>There are two partition scheme you could use for that :  "Use the whole storage device" and "Subpartitions"
</p>
<table role="text container" style="color: inherit; background-color: #f6efe5; border: 1px solid #ac6600; margin: 4px 0; border-collapse: collapse;"><tbody><tr>
<td style="padding: 2px 0 2px 0.9em; text-align: center; line-height: 1;"><span style="white-space: nowrap;"><img alt="Note" src="../Reference_icon.svg" decoding="async" title="Note" width="20" height="20"></span></td>
<td style="padding: 0.35em 0.9em; width: 100%;">Currently Only the generic port use "Use the whole storage device" partition scheme.However the dedicated port  of 6/6t use "Subpartitions" scheme .Once  <a rel="nofollow" class="external text" href="https://gitlab.com/postmarketOS/pmaports/-/merge_requests/5369">pmaports!5369</a> is 
merged,new installation would use "Use the whole storage device".</td>
</tr></tbody></table>
<h6>
<span id=".22Subpartitions.22"></span><span class="mw-headline" id='"Subpartitions"'>"Subpartitions"</span>
</h6>
<p>If you don't want to do custom partition then flash pmOS Subpartitions to system_b but you will be limited to the the small partition size of system_b. If you want to  bigger partitions  then follow <a href="#Creating_Custom_Partition_for_Subpartitions_partition_scheme">#Creating Custom Partition for Subpartitions partition scheme</a> and install pmOS to your own custom partition.
</p>
<h6>
<span id=".22Use_the_whole_storage_device.22"></span><span class="mw-headline" id='"Use_the_whole_storage_device"'>"Use the whole storage device"</span>
</h6>
<p>It is required to do custom partition for this partition scheme.
</p>
<p>1. Follow <a href="#%22Use_the_whole_storage_device%22_partition_scheme">#"Use the whole storage device" partition scheme</a> to create a custom partition
</p>
<p>2. Flash to the boot partition and root partition to your custom boot,root partition
</p>
<h6><span class="mw-headline" id="Stowaway">Stowaway</span></h6>
<p>See <a href="../en/Dual_Booting_WiP.html#Stowaway" title="Dual Booting/WiP">Dual Booting/WiP#Stowaway</a>
</p>
<h2><span class="mw-headline" id="Switching_OS">Switching OS</span></h2>
<h3><span class="mw-headline" id="UEFI">UEFI</span></h3>
<p>You should able to switch variant OS via boot menu  of your UEFI implementation boot menu or bootloader (if you use Bootloader to managing multiple UEFI OS).
</p>
<h3>
<span id="Slot_A.2FB"></span><span class="mw-headline" id="Slot_A/B">Slot A/B</span>
</h3>
<h4><span class="mw-headline" id="fastboot">fastboot</span></h4>
<p>you can switching to Slot different slot via fastboot mode
</p>
<h5><span class="mw-headline" id="Switch_to_slot_A">Switch to slot A</span></h5>
<div class="mw-highlight mw-highlight-lang-shell-session mw-content-ltr" dir="ltr"><pre><span></span><span class="gp">$ </span>fastboot set_active a
<span class="gp">$ </span>fastboot reboot
</pre></div>
<h5><span class="mw-headline" id="Switch_to_slot_b">Switch to slot b</span></h5>
<div class="mw-highlight mw-highlight-lang-shell-session mw-content-ltr" dir="ltr"><pre><span></span><span class="gp">$ </span>fastboot set_active b
<span class="gp">$ </span>fastboot reboot
</pre></div>
<h5><span class="mw-headline" id="Check_Current_Slot">Check Current Slot</span></h5>
<div class="mw-highlight mw-highlight-lang-shell-session mw-content-ltr" dir="ltr"><pre><span></span><span class="gp">$ </span>fastboot getvar current-slot
</pre></div>
<h4><span class="mw-headline" id="pmOS_4">pmOS</span></h4>
<table role="text container" style="color: inherit; background-color: #f6efe5; border: 1px solid #ac6600; margin: 4px 0; border-collapse: collapse;"><tbody><tr>
<td style="padding: 2px 0 2px 0.9em; text-align: center; line-height: 1;"><span style="white-space: nowrap;"><img alt="Note" src="../Reference_icon.svg" decoding="async" title="Note" width="20" height="20"></span></td>
<td style="padding: 0.35em 0.9em; width: 100%;">Those instruction may not work if pmOS is installed as UEFI OS</td>
</tr></tbody></table>
<h5><span class="mw-headline" id="Switch_to_slot_A_2">Switch to slot A</span></h5>
<div class="mw-highlight mw-highlight-lang-shell-session mw-content-ltr" dir="ltr"><pre><span></span><span class="gp">$ </span>qbootctl -s a
</pre></div>
<h5><span class="mw-headline" id="Switch_to_slot_b_2">Switch to slot b</span></h5>
<div class="mw-highlight mw-highlight-lang-shell-session mw-content-ltr" dir="ltr"><pre><span></span><span class="gp">$ </span>qbootctl -s b
</pre></div>
<h5><span class="mw-headline" id="Check_Current_Slot_2">Check Current Slot</span></h5>
<div class="mw-highlight mw-highlight-lang-shell-session mw-content-ltr" dir="ltr"><pre><span></span><span class="gp">$ </span>qbootctl -c
</pre></div>
<h4><span class="mw-headline" id="Android_5">Android</span></h4>
<p>There are a Android apps  <a rel="nofollow" class="external text" href="https://github.com/likeadragonmaid/Switch-My-Slot-Android">Switch My Slot </a> . It is for switch slots.It required root access to work.
</p>
<h4><span class="mw-headline" id="UEFI_implementation_3">UEFI implementation</span></h4>
<p>Depend on your uefi implement.There might be a option for switching slot in the boot menu.
</p>
<h2><span class="mw-headline" id="Tips_and_Trick">Tips and Trick</span></h2>
<h3><span class="mw-headline" id="UEFI_Implementation_4">UEFI Implementation</span></h3>
<h4><span class="mw-headline" id="uboot">uboot</span></h4>
<p>There are boot menu in the fork of uboot .However that isn't for booting multiple UEFI OS.you might need to make your own custom boot menu or use a bootloader for managing multiple UEFI OS.
</p>
<h3><span class="mw-headline" id="UEFI_OS_3">UEFI OS</span></h3>
<h4><span class="mw-headline" id="pmOS_5">pmOS</span></h4>
<table role="text container" style="color: inherit; background-color: #f6efe5; border: 1px solid #ac6600; margin: 4px 0; border-collapse: collapse;"><tbody><tr>
<td style="padding: 2px 0 2px 0.9em; text-align: center; line-height: 1;"><span style="white-space: nowrap;"><img alt="Note" src="../Reference_icon.svg" decoding="async" title="Note" width="20" height="20"></span></td>
<td style="padding: 0.35em 0.9em; width: 100%;">The following sector is for installing/booting pmos at UEFI OS</td>
</tr></tbody></table>
<table role="text container" style="color: inherit; background-color: #f6efe5; border: 1px solid #ac6600; margin: 4px 0; border-collapse: collapse;"><tbody><tr>
<td style="padding: 2px 0 2px 0.9em; text-align: center; line-height: 1;"><span style="white-space: nowrap;"><img alt="Note" src="../Reference_icon.svg" decoding="async" title="Note" width="20" height="20"></span></td>
<td style="padding: 0.35em 0.9em; width: 100%;">Currently Only the generic port support UEFI.However the dedicated port  of 6/6t dont .Once  <a rel="nofollow" class="external text" href="https://gitlab.com/postmarketOS/pmaports/-/merge_requests/5369">pmaports!5369</a> is 
merged,dedicated port of 6/6t would support UEFI.</td>
</tr></tbody></table>
<table role="text container" style="color: inherit; background-color: #f6efe5; border: 1px solid #ac6600; margin: 4px 0; border-collapse: collapse;"><tbody><tr>
<td style="padding: 2px 0 2px 0.9em; text-align: center; line-height: 1;"><span style="white-space: nowrap;"><img alt="Note" src="../Reference_icon.svg" decoding="async" title="Note" width="20" height="20"></span></td>
<td style="padding: 0.35em 0.9em; width: 100%;">Under <a href="#UEFI_Implementation_Only">#UEFI Implementation Only</a> configuration , you might not need to create a boot partition.For example you can be used some Android partition (like op1} as boot partition.</td>
</tr></tbody></table>
<p>pmOS would use "Use the whole storage device" if it is installed at UEFI OS.Please follow <a href="#Creating_Custom_Partition_for_%22Use_the_whole_storage_device%22_partition_scheme">#Creating Custom Partition for "Use the whole storage device" partition scheme</a> if you need to do custom partition.Also Depend on UEFI implementation , you might not need to do `fastboot erase dtbo`
</p>
<h5><span class="mw-headline" id="Renegade_Project_UEFI_Implementation">Renegade Project UEFI Implementation</span></h5>
<p>The following sector is for issue with  pmos and Renegade Project UEFI Implementation.  Renegade Project can boot pmOS without without uefi runtime (See <a rel="nofollow" class="external autonumber" href="https://renegade-project.tech/en/config/bootmenu">[1]</a>).
</p>
<h6>
<span id="Audio_don.27t_work"></span><span class="mw-headline" id="Audio_don't_work">Audio don't work</span>
</h6>
<p>Booting pmOS under Renegade Project UEFI Implementation via the normal uefi way  is known to have broken audio . However it is possible to boot pmos without uefi runtime for getting around the issue.
</p>
<h6><span class="mw-headline" id="pmOs_boot_dont_appear_in_the_boot_menu">pmOs_boot dont appear in the boot menu</span></h6>
<p>For some reason it failed to read fat32 that flashed from image that made by pmbootstrap.Those follow step seemed to fix the issue :
</p>
<p>1. Copy anything that in the boot partition
</p>
<p>2. Reformat the boot partition
</p>
<p>3. Copy everything back
</p>
<p>4. Modifies the fstab to have the new uuid of the reformatted boot partition
</p>
<p>5. Regenerate the boot config via <code>mkinitfs</code>
</p>
<h3><span class="mw-headline" id="Android_6">Android</span></h3>
<h4>
<span id="Upgrading.2FFlashing_Android"></span><span class="mw-headline" id="Upgrading/Flashing_Android">Upgrading/Flashing Android</span>
</h4>
<table role="text container" style="color: inherit; background-color: #fee7e6; border: 1px solid #d33; margin: 4px 0; border-collapse: collapse;"><tbody><tr>
<td style="padding: 2px 0 2px 0.9em; text-align: center; line-height: 1;"><span style="white-space: nowrap;"><img alt="Icon" src="../Red_warning_icon.svg" decoding="async" title="Icon" width="20" height="20"></span></td>
<td style="padding: 0.35em 0.9em; width: 100%;">
<b>WARNING:</b> Make sure you selected the right slot before you upgrading/flashing android.</td>
</tr></tbody></table>
<p>If you decided to upgrade Android or fresh another Android spin off,then It is always a good idea to backup system_b boot_b because Android might wipe off partition that on the other slot during the process of upgrading/flashing.Generally speaking android wont touch those  custom partitions.
</p>
<h2><span class="mw-headline" id="See_Also">See Also</span></h2>
<ul>
<li><a href="../en/Qualcomm_SDM845_(qualcomm-sdm845).html" title="Qualcomm SDM845 (qualcomm-sdm845)">Qualcomm SDM845 (qualcomm-sdm845)</a></li>
<li><a href="../en/Android_AB_Slots.html" title="Android AB Slots">Android AB Slots</a></li>
<li><a href="../en/Partition_Layout.html" title="Partition Layout">Partition Layout</a></li>
<li><a href="../en/Dual_Booting.html" class="mw-redirect" title="Dual Boot">Dual Boot</a></li>
<li><a href="../en/Dual_Booting_WiP.html" title="Dual Booting/WiP">Dual Booting/WiP</a></li>
</ul>
</div>
</div>
					<div id="catlinks" class="catlinks catlinks-allhidden" data-mw="interface"></div>
				</div>
			</main>
			
		</div>
		<div class="mw-footer-container">
			
<footer id="footer" class="mw-footer" role="contentinfo" style="margin: 0">
	<ul id="footer-info">
	<li data-nosnippet="">Retrieved from "<a dir="ltr" href="https://wiki.postmarketos.org/index.php?title=OnePlus_6_(oneplus-enchilada)/Multi_Booting_and_Custom_Partitioning&amp;oldid=63949">https://wiki.postmarketos.org/index.php?title=OnePlus_6_(oneplus-enchilada)/Multi_Booting_and_Custom_Partitioning&amp;oldid=63949</a>"</li>
<li id="footer-info-lastmod"> This page was last edited on 26 September 2024, at 10:18.</li>
	<li id="footer-info-copyright">Content is available under <a class="external" rel="nofollow" href="https://creativecommons.org/licenses/by-sa/4.0/">Creative Commons Attribution-ShareAlike</a> unless otherwise noted.</li>
<br>
</ul>

	<ul id="footer-places">
	<li id="footer-places-privacy"><a href="../en/PostmarketOS:Privacy_policy.html">Privacy policy</a></li>
	<li id="footer-places-about"><a href="../en/About_postmarketOS.html">About postmarketOS Wiki</a></li>
	<li id="footer-places-disclaimer"><a href="../en/PostmarketOS:General_disclaimer.html">Disclaimers</a></li>
</ul>

	<ul id="footer-icons" class="noprint">
	<li id="footer-copyrightico"><a href="https://creativecommons.org/licenses/by-sa/4.0/"><img src="../cc-by-sa.png" alt="Creative Commons Attribution-ShareAlike" width="88" height="31" loading="lazy"></a></li>
	<li id="footer-poweredbyico"><a href="https://www.mediawiki.org/"><img src="../poweredby_mediawiki_88x31.png" alt="Powered by MediaWiki" srcset="" width="88" height="31" loading="lazy"></a></li>
</ul>

</footer>

		</div>
	</div> 
</div> 

</body>
</html>
