<!DOCTYPE html>
<html class="client-nojs" dir="ltr" lang="en">
 <head>
  <meta charset="utf-8"/>
  <title>
   Dump proprietary flashing procedures - postmarketOS
  </title>
  <link href="../PostmarketOSWikiOffline.css" rel="stylesheet"/>
  <meta content="" name="ResourceLoaderDynamicStyles"/>
  <meta content="MediaWiki 1.34.2" name="generator"/>
  <link href="/favicon.ico" rel="shortcut icon"/>
  <link href="/opensearch_desc.php" rel="search" title="postmarketOS (en)" type="application/opensearchdescription+xml"/>
  <link href="https://wiki.postmarketos.org/api.php?action=rsd" rel="EditURI" type="application/rsd+xml"/>
  <link href="https://creativecommons.org/licenses/by-sa/4.0/" rel="license"/>
  <link href="/index.php?title=Special:RecentChanges&amp;feed=atom" rel="alternate" title="postmarketOS Atom feed" type="application/atom+xml"/>
 </head>
 <body class="mediawiki ltr sitedir-ltr mw-hide-empty-elt ns-0 ns-subject page-Dump_proprietary_flashing_procedures rootpage-Dump_proprietary_flashing_procedures skin-vector action-view">
  <div class="mw-body" id="content" role="main" style="margin: 0">
   <a id="top">
   </a>
   <div class="mw-indicators mw-body-content">
   </div>
   <h1 class="firstHeading" id="firstHeading" lang="en">
    Dump proprietary flashing procedures
   </h1>
   <div class="mw-body-content" id="bodyContent">
    <div class="noprint" id="siteSub">
     From postmarketOS
    </div>
    <div id="contentSub">
    </div>
    <div id="jump-to-nav">
    </div>
    <a class="mw-jump-link" href="#mw-head">
     Jump to navigation
    </a>
    <a class="mw-jump-link" href="#p-search">
     Jump to search
    </a>
    <div class="mw-content-ltr" dir="ltr" id="mw-content-text" lang="en">
     <div class="mw-parser-output">
      <p>
       While some devices can be flashed with the open
       <code>
        fastboot
       </code>
       , some devices require a proprietary program to flash to the devices. In postmarketOS we want to use free and open source software for everything, hence we need open flashing tools as well. This guide describes how you can record the flashing process of the proprietary program we're trying to replace.
      </p>
      <h3>
       <span class="mw-headline" id="Preparation">
        Preparation
       </span>
      </h3>
      <ul>
       <li>
        This should work on Linux and Windows (some flashers only work on Windows!)
       </li>
       <li>
        To sandbox the proprietary code we're running and to avoid recording sensitive data by accident, consider setting up a virtual machine (e.g.
        <a class="external text" href="https://virtualbox.org/" rel="nofollow">
         VirtualBox
        </a>
        ) for this task.
       </li>
       <li>
        Install
        <a class="external text" href="https://www.wireshark.org/" rel="nofollow">
         Wireshark
        </a>
        (on Windows: from their homepage, on Linux: with your package manager)
       </li>
       <li>
        Download the flashing program
       </li>
       <li>
        Get a file you can safely flash on your device. If you flash the wrong file, you might brick your device (especially if you are flashing your bootloader)
       </li>
       <li>
        Disconnect as many USB devices as possible, so their data does not get recorded in the dump. Do not transfer any files via USB and do not type in sensitive date on your keyboard, especially passwords and login information.
        <b>
         Only use your keyboard to start the flashing process!
        </b>
       </li>
       <li>
        If you have any questions, ask in the
        <a href="../en/Matrix_and_IRC.html" title="Matrix and IRC">
         channel
        </a>
       </li>
      </ul>
      <h3>
       <span class="mw-headline" id="Creating_the_dump">
        Creating the dump
       </span>
      </h3>
      <ul>
       <li>
        Linux:
        <a class="external text" href="https://github.com/openrazer/openrazer/wiki/Reverse-Engineering-USB-Protocol#phase-2---setup" rel="nofollow">
         prepare Wireshark with a filter for your mobile device
        </a>
       </li>
       <li>
        Start wireshark
       </li>
       <li>
        Wireshark: Start recording the USB port
       </li>
       <li>
        Run the proprietary flash program
       </li>
       <li>
        Flash exactly one file to the device, and only something rather uncritical like flashing TWRP to the recovery partition
       </li>
       <li>
        Wireshark: Stop recording
       </li>
       <li>
        Wireshark: Save the dump to a file
       </li>
       <li>
        Send the dump to someone who's working on reversing flashing tools. Do not publicly upload them, they may contain sensitive data (all devices plugged into your PC etc.)
       </li>
      </ul>
      <h3>
       <span class="mw-headline" id="See_also">
        See also
       </span>
      </h3>
      <ul>
       <li>
        <a class="external text" href="https://github.com/openrazer/openrazer/wiki/Reverse-Engineering-USB-Protocol" rel="nofollow">
         OpenRazer: Reverse Engineering USB Protocol
        </a>
       </li>
      </ul>
     </div>
    </div>
    <div class="catlinks" data-mw="interface" id="catlinks">
     <div class="mw-normal-catlinks" id="mw-normal-catlinks">
      <a href="../Special:Categories.html" title="Special:Categories">
       Category
      </a>
      :
      <ul>
       <li>
        <a href="../en/Category:Guide.html" title="Category:Guide">
         Guide
        </a>
       </li>
      </ul>
     </div>
    </div>
    <div class="visualClear">
    </div>
   </div>
  </div>
  <div id="footer" role="contentinfo" style="margin: 0">
   <ul id="footer-info">
    <li>
     Retrieved from "
     <a dir="ltr" href="https://wiki.postmarketos.org/index.php?title=Dump_proprietary_flashing_procedures&amp;oldid=5606">
      https://wiki.postmarketos.org/index.php?title=Dump_proprietary_flashing_procedures&amp;oldid=5606
     </a>
     "
    </li>
    <li id="footer-info-lastmod">
     This page was last edited on 27 December 2018, at 14:19.
    </li>
    <li id="footer-info-copyright">
     Content is available under
     <a class="external" href="https://creativecommons.org/licenses/by-sa/4.0/" rel="nofollow">
      Creative Commons Attribution-ShareAlike
     </a>
     unless otherwise noted.
    </li>
    <br/>
   </ul>
   <ul id="footer-places">
    <li id="footer-places-privacy">
     <a href="../en/PostmarketOS:Privacy_policy.html" title="PostmarketOS:Privacy policy">
      Privacy policy
     </a>
    </li>
    <li id="footer-places-about">
     <a class="mw-redirect" href="../en/About_postmarketOS.html" title="PostmarketOS:About">
      About postmarketOS
     </a>
    </li>
    <li id="footer-places-disclaimer">
     <a href="../en/PostmarketOS:General_disclaimer.html" title="PostmarketOS:General disclaimer">
      Disclaimers
     </a>
    </li>
    <li id="footer-places-mobileview">
     <a class="noprint stopMobileRedirectToggle" href="https://wiki.postmarketos.org/index.php?title=Dump_proprietary_flashing_procedures&amp;mobileaction=toggle_view_mobile">
      Mobile view
     </a>
    </li>
   </ul>
   <ul class="noprint" id="footer-icons">
    <li id="footer-copyrightico">
     <a href="https://creativecommons.org/licenses/by-sa/4.0/">
      <img alt="Creative Commons Attribution-ShareAlike" height="31" src="../cc-by-sa.png" width="88"/>
     </a>
    </li>
    <li id="footer-poweredbyico">
     <a href="https://www.mediawiki.org/">
      <img alt="Powered by MediaWiki" height="31" src="../poweredby_mediawiki_88x31.png" srcset="" width="88"/>
     </a>
    </li>
   </ul>
   <div style="clear: both;">
   </div>
  </div>
 </body>
</html>
