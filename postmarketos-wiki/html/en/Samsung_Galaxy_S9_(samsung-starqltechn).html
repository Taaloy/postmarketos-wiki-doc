<!DOCTYPE html>
<html class="client-nojs" dir="ltr" lang="en">
 <head>
  <meta charset="utf-8"/>
  <title>
   Samsung Galaxy S9 (samsung-starqltechn) - postmarketOS
  </title>
  <link href="../PostmarketOSWikiOffline.css" rel="stylesheet"/>
  <meta content="" name="ResourceLoaderDynamicStyles"/>
  <meta content="MediaWiki 1.34.2" name="generator"/>
  <link href="/favicon.ico" rel="shortcut icon"/>
  <link href="/opensearch_desc.php" rel="search" title="postmarketOS (en)" type="application/opensearchdescription+xml"/>
  <link href="https://wiki.postmarketos.org/api.php?action=rsd" rel="EditURI" type="application/rsd+xml"/>
  <link href="https://creativecommons.org/licenses/by-sa/4.0/" rel="license"/>
  <link href="/index.php?title=Special:RecentChanges&amp;feed=atom" rel="alternate" title="postmarketOS Atom feed" type="application/atom+xml"/>
 </head>
 <body class="mediawiki ltr sitedir-ltr mw-hide-empty-elt ns-0 ns-subject page-Samsung_Galaxy_S9_samsung-starqltechn rootpage-Samsung_Galaxy_S9_samsung-starqltechn skin-vector action-view">
  <div class="mw-body" id="content" role="main" style="margin: 0">
   <a id="top">
   </a>
   <div class="mw-indicators mw-body-content">
   </div>
   <h1 class="firstHeading" id="firstHeading" lang="en">
    Samsung Galaxy S9 (samsung-starqltechn)
   </h1>
   <div class="mw-body-content" id="bodyContent">
    <div class="noprint" id="siteSub">
     From postmarketOS
    </div>
    <div id="contentSub">
    </div>
    <div id="jump-to-nav">
    </div>
    <a class="mw-jump-link" href="#mw-head">
     Jump to navigation
    </a>
    <a class="mw-jump-link" href="#p-search">
     Jump to search
    </a>
    <div class="mw-content-ltr" dir="ltr" id="mw-content-text" lang="en">
     <div class="mw-parser-output">
      <table cellspacing="3" class="infobox" style="border-spacing: 3px; width:22em;">
       <caption class="" style="">
        Samsung Galaxy S9 (SM-G9600/DS)
       </caption>
       <tbody>
        <tr class="">
         <td class="" colspan="2" style="text-align:center;">
          <a class="image" href="../SM-G9600.jpg">
           <img alt="SM-G9600" decoding="async" height="267" src="../SM-G9600.jpg" srcset="../300px-SM-G9600.jpg 1.5x ../400px-SM-G9600.jpg 2x" width="200"/>
          </a>
          <br/>
          <span style="">
           SM-G9600
          </span>
         </td>
        </tr>
        <tr class="">
         <th scope="row" style="text-align:left;">
          Manufacturer
         </th>
         <td class="" style="">
          Samsung
         </td>
        </tr>
        <tr class="">
         <th scope="row" style="text-align:left;">
          Name
         </th>
         <td class="" style="">
          Galaxy S9 (SM-G9600/DS)
         </td>
        </tr>
        <tr class="">
         <th scope="row" style="text-align:left;">
          Codename
         </th>
         <td class="" style="">
          samsung-starqltechn
         </td>
        </tr>
        <tr class="">
         <th scope="row" style="text-align:left;">
          Released
         </th>
         <td class="" style="">
          2018
         </td>
        </tr>
        <tr class="">
         <th scope="row" style="text-align:left;">
          Category
         </th>
         <td class="" style="">
          testing
         </td>
        </tr>
        <tr class="">
         <th scope="row" style="text-align:left;">
          Original software
         </th>
         <td class="" style="">
          Android 8 - 10
         </td>
        </tr>
        <tr>
         <th class="" colspan="2" style="text-align:center;">
          Hardware
         </th>
        </tr>
        <tr class="">
         <th scope="row" style="text-align:left;">
          Chipset
         </th>
         <td class="" style="">
          Qualcomm SDM845 Snapdragon 845
         </td>
        </tr>
        <tr class="">
         <th scope="row" style="text-align:left;">
          CPU
         </th>
         <td class="" style="">
          Octa-core (4x 2.8 GHz Kryo 385 Gold &amp; 4x 1.7 GHz Kryo 385 Silver)
         </td>
        </tr>
        <tr class="">
         <th scope="row" style="text-align:left;">
          GPU
         </th>
         <td class="" style="">
          Adreno 630
         </td>
        </tr>
        <tr class="">
         <th scope="row" style="text-align:left;">
          Display
         </th>
         <td class="" style="">
          5.8 inch 18.5:9, 2960 x 1440 pixel 568 PPI, capacitive touchscreen, 10 multi-touch points, Super AMOLED, Corning Gorilla Glass 5, glossy: yes
         </td>
        </tr>
        <tr class="">
         <th scope="row" style="text-align:left;">
          Storage
         </th>
         <td class="" style="">
          64 GB
         </td>
        </tr>
        <tr class="">
         <th scope="row" style="text-align:left;">
          Memory
         </th>
         <td class="" style="">
          4 GB
         </td>
        </tr>
        <tr class="">
         <th scope="row" style="text-align:left;">
          Architecture
         </th>
         <td class="" style="">
          aarch64
         </td>
        </tr>
        <tr>
         <td colspan="2" style="text-align:right">
         </td>
        </tr>
       </tbody>
      </table>
      <table cellspacing="3" class="infobox" style="border-spacing: 3px; width:22em;">
       <caption class="" style="">
        Features
       </caption>
       <tbody>
        <tr class="">
         <th scope="row" style="text-align:left;">
          <abbr title="After connecting the device with USB to your PC, you can connect to it via telnet (initramfs) or SSH (booted system).">
           USB Networking
          </abbr>
         </th>
         <td class="" style="">
          <div class="feature feature-yes">
           Works
          </div>
         </td>
        </tr>
        <tr class="">
         <th scope="row" style="text-align:left;">
          <abbr title="It is possible to flash the device with `pmbootstrap flasher`.">
           Flashing
          </abbr>
         </th>
         <td class="" style="">
          <div class="feature feature-no">
           Broken
          </div>
         </td>
        </tr>
        <tr class="">
         <th scope="row" style="text-align:left;">
          Touchscreen
         </th>
         <td class="" style="">
          <div>
          </div>
         </td>
        </tr>
        <tr class="">
         <th scope="row" style="text-align:left;">
          <abbr title="Display works. Ideally with sleep mode and brightness control.">
           Display
          </abbr>
         </th>
         <td class="" style="">
          <div class="feature feature-no">
           Broken
          </div>
         </td>
        </tr>
        <tr class="">
         <th scope="row" style="text-align:left;">
          WiFi
         </th>
         <td class="" style="">
          <div class="feature feature-no">
           Broken
          </div>
         </td>
        </tr>
        <tr class="">
         <th scope="row" style="text-align:left;">
          <abbr title="Full disk encryption and unlocking with osk-sdl.">
           FDE
          </abbr>
         </th>
         <td class="" style="">
          <div>
          </div>
         </td>
        </tr>
        <tr class="">
         <th scope="row" style="text-align:left;">
          <abbr title="Instead of a Linux kernel fork, it is possible to run mainline.">
           Mainline
          </abbr>
         </th>
         <td class="" style="">
          <div>
          </div>
         </td>
        </tr>
        <tr class="">
         <th scope="row" style="text-align:left;">
          <abbr title="Charging and battery level reporting works">
           Battery
          </abbr>
         </th>
         <td class="" style="">
          <div>
          </div>
         </td>
        </tr>
        <tr class="">
         <th scope="row" style="text-align:left;">
          3D Acceleration
         </th>
         <td class="" style="">
          <div>
          </div>
         </td>
        </tr>
        <tr class="">
         <th scope="row" style="text-align:left;">
          <abbr title="Audio playback, microphone, headset and buttons.">
           Audio
          </abbr>
         </th>
         <td class="" style="">
          <div>
          </div>
         </td>
        </tr>
        <tr class="">
         <th scope="row" style="text-align:left;">
          Bluetooth
         </th>
         <td class="" style="">
          <div>
          </div>
         </td>
        </tr>
        <tr class="">
         <th scope="row" style="text-align:left;">
          Camera
         </th>
         <td class="" style="">
          <div>
          </div>
         </td>
        </tr>
        <tr class="">
         <th scope="row" style="text-align:left;">
          GPS
         </th>
         <td class="" style="">
          <div>
          </div>
         </td>
        </tr>
        <tr class="">
         <th scope="row" style="text-align:left;">
          Mobile data
         </th>
         <td class="" style="">
          <div>
          </div>
         </td>
        </tr>
        <tr class="">
         <th scope="row" style="text-align:left;">
          SMS
         </th>
         <td class="" style="">
          <div>
          </div>
         </td>
        </tr>
        <tr class="">
         <th scope="row" style="text-align:left;">
          Calls
         </th>
         <td class="" style="">
          <div>
          </div>
         </td>
        </tr>
        <tr class="">
         <th scope="row" style="text-align:left;">
          USB OTG
         </th>
         <td class="" style="">
          <div>
          </div>
         </td>
        </tr>
        <tr class="">
         <th scope="row" style="text-align:left;">
          NFC
         </th>
         <td class="" style="">
          <div>
          </div>
         </td>
        </tr>
        <tr>
         <td colspan="2" style="text-align:right">
         </td>
        </tr>
       </tbody>
      </table>
      <table cellspacing="3" class="infobox" style="border-spacing: 3px; width:22em;">
       <caption class="" style="">
        Sensors
       </caption>
       <tbody>
        <tr class="">
         <th scope="row" style="text-align:left;">
          <abbr title="Auto screen rotation works in desktops e.g. Phosh or Plasma Mobile">
           Accelerometer
          </abbr>
         </th>
         <td class="" style="">
          <div>
          </div>
         </td>
        </tr>
        <tr class="">
         <th scope="row" style="text-align:left;">
          Magnetometer
         </th>
         <td class="" style="">
          <div>
          </div>
         </td>
        </tr>
        <tr class="">
         <th scope="row" style="text-align:left;">
          Ambient Light
         </th>
         <td class="" style="">
          <div>
          </div>
         </td>
        </tr>
        <tr class="">
         <th scope="row" style="text-align:left;">
          Proximity
         </th>
         <td class="" style="">
          <div>
          </div>
         </td>
        </tr>
        <tr class="">
         <th scope="row" style="text-align:left;">
          <abbr title="Used as flip cover sensor, keyboard slide out sensor, etc.">
           Hall Effect
          </abbr>
         </th>
         <td class="" style="">
          <div>
          </div>
         </td>
        </tr>
        <tr>
         <td colspan="2" style="text-align:right">
         </td>
        </tr>
       </tbody>
      </table>
      <table cellspacing="3" class="infobox" style="border-spacing: 3px; width:22em;">
       <caption class="" style="">
        Misc
       </caption>
       <tbody>
        <tr class="">
         <th scope="row" style="text-align:left;">
          Ir TX
         </th>
         <td class="" style="">
          <div>
          </div>
         </td>
        </tr>
        <tr class="">
         <th scope="row" style="text-align:left;">
          TrustZone
         </th>
         <td class="" style="">
          <div>
          </div>
         </td>
        </tr>
        <tr>
         <td colspan="2" style="text-align:right">
         </td>
        </tr>
       </tbody>
      </table>
      <p>
       <br/>
      </p>
      <p>
       <br/>
      </p>
      <h2>
       <span class="mw-headline" id="Contributors">
        Contributors
       </span>
      </h2>
      <ul>
       <li>
        dsankouski
       </li>
      </ul>
      <h2>
       <span id="Maintainer(s)">
       </span>
       <span class="mw-headline" id="Maintainer.28s.29">
        Maintainer(s)
       </span>
      </h2>
      <h2>
       <span class="mw-headline" id="Users_owning_this_device">
        Users owning this device
       </span>
      </h2>
      <div style="-webkit-column-count: 2; -moz-column-count: 2; column-count: 2;">
       <ul style="margin-top: 0;">
        <li>
         <a href="../User:Dsankouski.html" title="User:Dsankouski">
          Dsankouski
         </a>
        </li>
        <li>
         <a href="../User:Zephyr1112.html" title="User:Zephyr1112">
          Zephyr1112
         </a>
         (
         <span class="cargoFieldName">
          Notes:
         </span>
         OneUI 2.5 (stock), 4/64GB)
        </li>
       </ul>
      </div>
      <p>
       <br/>
      </p>
      <h2>
       <span class="mw-headline" id="How_to_enter_flash_mode">
        How to enter flash mode
       </span>
      </h2>
      <h2>
       <span class="mw-headline" id="Installation">
        Installation
       </span>
      </h2>
      <h3>
       <span class="mw-headline" id="Flash_boot_image_from_TWRP">
        Flash boot image from TWRP
       </span>
      </h3>
      <p>
       <code>
        adb push $BOOT_IMAGE_PATH /tmp/boot.img &amp;&amp; adb -d shell 'dd of=/dev/block/platform/soc/1d84000.ufshc/by-name/boot if=/tmp/boot.img'
       </code>
      </p>
      <h2>
       <span class="mw-headline" id="Mainline">
        Mainline
       </span>
      </h2>
      <p>
       Mainline kernel can be booted with stock bootloader or u-boot. Logs may be viewed from pstore(ramoops) or simple framebuffer.
      </p>
      <h3>
       <span class="mw-headline" id="Status">
        Status
       </span>
      </h3>
      <ul>
       <li>
        <span style="color:green">
         Green lines - works
        </span>
       </li>
       <li>
        <span style="color:blue">
         Yellow - in progress
        </span>
       </li>
       <li>
        <span style="color:red">
         Red - backlog
        </span>
       </li>
      </ul>
      <h4>
       <span class="mw-headline" id="Roadmap">
        Roadmap
       </span>
      </h4>
      <ul>
       <li>
        <span style="color:green">
         boots
        </span>
       </li>
       <li>
        <span style="color:green">
         framebuffer
        </span>
       </li>
       <li>
        <span style="color:green">
         storage, both main and sdcard
        </span>
       </li>
       <li>
        <span style="color:blue">
         touchscreen driver (dsankouski)
        </span>
       </li>
       <li>
        <span style="color:red">
         muic driver(max77705), at least detect usb cable
        </span>
       </li>
       <li>
        <span style="color:red">
         assemble firmware package in aports
        </span>
       </li>
       <li>
        <span style="color:red">
         wifi
        </span>
       </li>
       <li>
        <span style="color:red">
         bluetooth
        </span>
       </li>
       <li>
        <span style="color:red">
         display panel driver
        </span>
       </li>
      </ul>
      <p>
       <br/>
      </p>
      <h3>
       <span class="mw-headline" id="Assembling_boot_image">
        Assembling boot image
       </span>
      </h3>
      <ul>
       <li>
        clone mainline sources
       </li>
       <li>
        build kernel. See also
        <a href="../en/Compiling_kernels_with_envkernel.sh.html" title="Compiling kernels with envkernel.sh">
         Compiling_kernels_with_envkernel.sh
        </a>
       </li>
       <li>
        append dtb to gzipped kernel image
        <ul>
         <li>
          pushd .output/arch/arm64/boot
         </li>
         <li>
          <code>
           cat Image.gz dts/qcom/sdm845-samsung-starqltechn.dtb &gt; Image.gz-dtb
          </code>
         </li>
        </ul>
       </li>
       <li>
        generate initramfs image
       </li>
       <li>
        make android bootimage
        <code>
         mkbootimg --base 0x0 --kernel_offset 0x00008000 --ramdisk_offset 0x02000000 --tags_offset 0x01e00000 --pagesize 4096 --second_offset 0x00f00000 --ramdisk "$INITRAMFS" --kernel Image.gz-dtb -o boot.img
        </code>
       </li>
      </ul>
      <h3>
       <span class="mw-headline" id="Boot">
        Boot
       </span>
      </h3>
      <p>
       Flash boot image from twrp to boot partition. Reboot to system. Phone will stay on manufacturer logo. Check logs in pstore. If there's only twrp logs in pstore, try to reboot phone with power+volume down one more time.
      </p>
      <h2>
       <span class="mw-headline" id="U-boot">
        U-boot
       </span>
      </h2>
      <p>
       U-boot can be used as a second stage bootloader, and also a tool to experiment with uart on usb.
      </p>
      <p>
       Using u-boot as a second stage bootloader involves packing u-boot instead of linux kernel, and u-boot's payload instead of initramfs in android boot image.
      </p>
      <h3>
       <span class="mw-headline" id="Second_stage_bootloader">
        Second stage bootloader
       </span>
      </h3>
      <p>
       In this section, we'll generate an android boot image with u-boot as second stage bootloader for linux kernel in FIT image format.
      </p>
      <h4>
       <span class="mw-headline" id="Build_u-boot">
        Build u-boot
       </span>
      </h4>
      <ul>
       <li>
        clone u-boot repo
       </li>
       <li>
        apply
        <a class="external text" href="http://patchwork.ozlabs.org/project/uboot/list/?series=285899" rel="nofollow">
         save previous bootloader data patch series
        </a>
       </li>
       <li>
        run
        <code>
         make starqltechn_defconfig &amp;&amp; make
        </code>
       </li>
       <li>
        create payload for SBOOT by gzipping and appending dtb:
       </li>
      </ul>
      <div class="mw-highlight mw-content-ltr" dir="ltr">
       <pre><span></span>gzip -k u-boot.bin
cat u-boot.bin.gz u-boot.dtb &gt; u-boot.gz-dtb
</pre>
      </div>
      <h4>
       <span class="mw-headline" id="Build_kernel">
        Build kernel
       </span>
      </h4>
      <ul>
       <li>
        build
        <a class="external text" href="https://gitlab.com/dsankouski/sdm845-linux-next" rel="nofollow">
         starqltechn kernel
        </a>
        with
        <a href="../en/Compiling_kernels_with_envkernel.sh.html" title="Compiling kernels with envkernel.sh">
         envkernel.sh
        </a>
       </li>
      </ul>
      <h4>
       <span class="mw-headline" id="Generate_android_boot_image">
        Generate android boot image
       </span>
      </h4>
      <ul>
       <li>
        create
        <b>
         bootscript.sh
        </b>
        file:
        <code>
         bootm $prevbl_initrd_start_addr
        </code>
       </li>
       <li>
        build ramdisk
       </li>
       <li>
        create
        <b>
         boot.its
        </b>
        file, describing u-boot's payload:
       </li>
      </ul>
      <pre>/dts-v1/;

/ {
        description = "Samsung S9 SM-G9600 starqltechn FIT Image";
        #address-cells = &lt;1&gt;;
        images {
                bootscript {
                        description = "Boot script";
                        data = /incbin/("bootscript.sh");
                        type = "script";
                        compression = "none";
                        load = &lt;0x90000000&gt;;
                        entry = &lt;0x90000000&gt;;
                        hash {
                                algo = "sha1";
                        };
                };
                kernel {
                        description = "Kernel";
                        //data = /incbin/("Image.gz");
                        data = /incbin/(".output/arch/arm64/boot/Image.gz");
                        type = "kernel";
                        arch = "arm64";
                        os = "linux";
                        compression = "gzip";
                        load = &lt;0x80000000&gt;;
                        entry = &lt;0x80000000&gt;;
                        hash {
                                algo = "sha1";
                        };
                };
                fdt {
                        description = "DTB";
                        data = /incbin/(".output/arch/arm64/boot/dts/qcom/sdm845-samsung-starqltechn.dtb");
                        type = "flat_dt";
                        arch = "arm64";
                        compression = "none";
                        load = &lt;0x82a80000&gt;;
                        entry = &lt;0x82a80000&gt;;
                        hash {
                                algo = "sha1";
                        };
                };
                initrd {
                        description = "Initrd";
                        data = /incbin/("&lt;ramdisk path&gt;");
                        type = "ramdisk";
                        arch = "arm64";
                        os = "linux";
                        compression = "none";
                        hash {
                                algo = "sha1";
                        };
                };
        };
        configurations {
                default = "standard";
                standard {
                        description = "Standard Boot";
                        kernel = "kernel";
                        fdt = "fdt";
                        ramdisk = "initrd";
                        hash {
                                algo = "sha1";
                        };
                };
        };
};
</pre>
      <p>
       <br/>
      </p>
      <ul>
       <li>
        build u-boot payload
        <div class="mw-highlight mw-content-ltr" dir="ltr">
         <pre><span></span>mkimage -f boot.its boot.itb
</pre>
        </div>
       </li>
       <li>
        make android boot image:
       </li>
      </ul>
      <div class="mw-highlight mw-content-ltr" dir="ltr">
       <pre><span></span>mkbootimg --base 0x0 --kernel_offset 0x00008000 --ramdisk_offset 0x02000000 --tags_offset 0x01e00000 --pagesize <span class="m">4096</span> --second_offset 0x00f00000 <span class="se">\</span>
--ramdisk boot.itb <span class="se">\</span>
--kernel u-boot.gz-dtb -o boot.img
</pre>
      </div>
      <h4>
       <span class="mw-headline" id="Running">
        Running
       </span>
      </h4>
      <ul>
       <li>
        flash android boot image.
       </li>
       <li>
        Reboot to system, give it some time to boot
       </li>
       <li>
        Read logs. See
        <a href="../en/Samsung_Galaxy_S9_(samsung-starqltechn).html#Notes" title="Samsung Galaxy S9 (samsung-starqltechn)">
         Getting logs from pstore
         <i>
         </i>
        </a>
       </li>
      </ul>
      <h4>
       <span class="mw-headline" id="Development">
        Development
       </span>
      </h4>
      <p>
       See also
       <a href="../en/Initramfs_development.html" title="Initramfs development">
        Initramfs_development
       </a>
      </p>
      <h3>
       <span class="mw-headline" id="Experimenting:_procedure_with_usb-uart_cable">
        Experimenting: procedure with usb-uart cable
       </span>
      </h3>
      <p>
       This intendent for getting uart console at u-boot stage, with ability to load and boot kernel to RAM via uart. Initramfs console in possible.
This way also allows you to use phone as daily driver during development, since storage is not touched
      </p>
      <h4>
       <span class="mw-headline" id="Building">
        Building
       </span>
      </h4>
      <ul>
       <li>
        build u-boot.bin file. Follow
        <a class="external text" href="https://github.com/u-boot/u-boot/blob/master/doc/board/qualcomm/sdm845.rst" rel="nofollow">
         u-boot docs installation section
        </a>
       </li>
       <li>
        build mainline kernel
        <ul>
         <li>
          <a class="external text" href="https://gitlab.com/dsankouski/sdm845-linux-next/-/tree/starqltechn" rel="nofollow">
           clone sources
          </a>
         </li>
         <li>
          <code>
           source /home/dzmitry/side/pmos/pmbootstrap/helpers/envkernel.sh
          </code>
         </li>
         <li>
          <code>
           make defconfig
          </code>
         </li>
         <li>
          <code>
           make
          </code>
         </li>
        </ul>
       </li>
       <li>
        assemble initramfs
       </li>
       <li>
        <div class="todo" role="note" style="padding: 5px 15px; color: #700000; border: 1px solid #b60000; background-color: #fdd1d1; margin-top: 5px; margin-bottom: 15px;">
         <strong>
          TODO
         </strong>
         assemble u-boot fit image:
        </div>
       </li>
      </ul>
      <h4>
       <span class="mw-headline" id="Installing">
        Installing
       </span>
      </h4>
      <p>
       This section is useless for now, because currently there's no way to tell if something is alive, when you boot from the flash.  
See next section.
      </p>
      <h4>
       <span class="mw-headline" id="Booting_kernel_and_getting_console">
        Booting kernel and getting console
       </span>
      </h4>
      <p>
       Is performed with kexec-similar stuff for now. See
       <a href="../en/Bootloaders_porting_using_linux.html" title="Bootloaders porting using linux">
        guide for that method
       </a>
       . Remember, you should have a cable from in `UART USB-debug cable schematic` section of
       <a href="../en/Samsung_Galaxy_A5_2017_(samsung-a5y17lte).html#Notes" title="Samsung Galaxy A5 2017 (samsung-a5y17lte)">
        Samsung_Galaxy_A5_2017_(samsung-a5y17lte)#Notes
       </a>
       , and 1.8V compatible uart adapter
      </p>
      <ul>
       <li>
        Download
        <a class="external text" href="https://drive.google.com/file/d/12ASMGNTxYhrto92XprXBdbx83wJW0bsX/view?usp=sharing" rel="nofollow">
         prebuilt twrp image, with kexec and manual muic switching support
        </a>
       </li>
       <li>
        Boot into twrp
       </li>
       <li>
        Connect uart-usb cable
       </li>
       <li>
        Switch muic uart on usb, and run u-boot.
        <ul>
         <li>
          go to Advanced -&gt; Terminal
         </li>
         <li>
          run
          <code>
           /exec.sh
          </code>
          command. It will switch uart on usb, load u-boot(it's included in twrp image) in RAM, and run it.
         </li>
         <li>
          You are in u-boot console now ;)
         </li>
        </ul>
       </li>
       <li>
        Load u-boot payload via kermit (you may use
        <a class="external text" href="https://drive.google.com/file/d/1SHF7rjik8mxymyCXSYhZjzV4wIv12cqf/view?usp=sharing" rel="nofollow">
         my high speed version for linux
        </a>
        at 921600bps)
        <ul>
         <li>
          in u-boot prompt run
          <code>
           loadb 0x90000000
          </code>
         </li>
        </ul>
       </li>
       <li>
        in u-boot prompt run
        <code>
         bootm 0x90000000
        </code>
        command
       </li>
      </ul>
      <div class="todo" role="note" style="padding: 5px 15px; color: #700000; border: 1px solid #b60000; background-color: #fdd1d1; margin-top: 5px; margin-bottom: 15px;">
       <strong>
        TODO
       </strong>
       how to setup initramfs console
      </div>
      <h2>
       <span class="mw-headline" id="Notes">
        Notes
       </span>
      </h2>
      <h3>
       <span class="mw-headline" id="Uart">
        Uart
       </span>
      </h3>
      <p>
       `/dev/ttyHS8` can be exposed on USB D+D- lines. It's configured in data mover mode by downstream kernel.
      </p>
      <h3>
       <span class="mw-headline" id="Getting_logs_from_pstore">
        Getting logs from pstore
       </span>
      </h3>
      <p>
       Boot to twrp, and check
       <code>
        /sys/fs/pstore
       </code>
       folder
      </p>
      <h3>
       <span class="mw-headline" id="Stock_bootloader">
        Stock bootloader
       </span>
      </h3>
      <p>
       Loads payload into ram at random physical address (for security reason?). Physical address range determination attempts:
      </p>
      <ul>
       <li>
        0x80160000
       </li>
       <li>
        0x80090000
       </li>
       <li>
        0x8012c000
       </li>
      </ul>
      <p>
       Initramfs physical load address is 0xa2000000 both for boot image and recovery image
      </p>
      <h2>
       <span class="mw-headline" id="See_also">
        See also
       </span>
      </h2>
      <p>
       <a class="external text" href="https://gitlab.com/postmarketOS/pmaports/-/merge_requests/2835" rel="nofollow">
        aport MR
       </a>
      </p>
      <p>
       <a class="external text" href="https://github.com/u-boot/u-boot/tree/master/board/samsung/starqltechn" rel="nofollow">
        u-boot
       </a>
      </p>
      <p>
       <a class="external text" href="https://github.com/u-boot/u-boot/blob/master/doc/board/qualcomm/sdm845.rst" rel="nofollow">
        u-boot sdm845 devices docs
       </a>
      </p>
      <p>
       <a class="external text" href="https://gitlab.com/dsankouski/pmaports/-/tree/device/samsung-starqltechn" rel="nofollow">
        aport fork for SM-G9600
       </a>
      </p>
      <p>
       <a class="external text" href="https://gitlab.com/dsankouski/sdm845-linux-next/-/tree/starqltechn" rel="nofollow">
        mainline kernel fork for SM-G9600
       </a>
      </p>
     </div>
    </div>
    <div class="catlinks" data-mw="interface" id="catlinks">
     <div class="mw-normal-catlinks" id="mw-normal-catlinks">
      <a href="../Special:Categories.html" title="Special:Categories">
       Categories
      </a>
      :
      <ul>
       <li>
        <a href="../en/Category:Devices.html" title="Category:Devices">
         Devices
        </a>
       </li>
       <li>
        <a href="../en/Category:Todo_Items.html" title="Category:Todo Items">
         Todo Items
        </a>
       </li>
      </ul>
     </div>
    </div>
    <div class="visualClear">
    </div>
   </div>
  </div>
  <div id="footer" role="contentinfo" style="margin: 0">
   <ul id="footer-info">
    <li>
     Retrieved from "
     <a dir="ltr" href="https://wiki.postmarketos.org/index.php?title=Samsung_Galaxy_S9_(samsung-starqltechn)&amp;oldid=26403">
      https://wiki.postmarketos.org/index.php?title=Samsung_Galaxy_S9_(samsung-starqltechn)&amp;oldid=26403
     </a>
     "
    </li>
    <li id="footer-info-lastmod">
     This page was last edited on 21 March 2022, at 18:34.
    </li>
    <li id="footer-info-copyright">
     Content is available under
     <a class="external" href="https://creativecommons.org/licenses/by-sa/4.0/" rel="nofollow">
      Creative Commons Attribution-ShareAlike
     </a>
     unless otherwise noted.
    </li>
    <br/>
   </ul>
   <ul id="footer-places">
    <li id="footer-places-privacy">
     <a href="../en/PostmarketOS:Privacy_policy.html" title="PostmarketOS:Privacy policy">
      Privacy policy
     </a>
    </li>
    <li id="footer-places-about">
     <a class="mw-redirect" href="../en/About_postmarketOS.html" title="PostmarketOS:About">
      About postmarketOS
     </a>
    </li>
    <li id="footer-places-disclaimer">
     <a href="../en/PostmarketOS:General_disclaimer.html" title="PostmarketOS:General disclaimer">
      Disclaimers
     </a>
    </li>
    <li id="footer-places-mobileview">
     <a class="noprint stopMobileRedirectToggle" href="https://wiki.postmarketos.org/index.php?title=Samsung_Galaxy_S9_(samsung-starqltechn)&amp;mobileaction=toggle_view_mobile">
      Mobile view
     </a>
    </li>
   </ul>
   <ul class="noprint" id="footer-icons">
    <li id="footer-copyrightico">
     <a href="https://creativecommons.org/licenses/by-sa/4.0/">
      <img alt="Creative Commons Attribution-ShareAlike" height="31" src="../cc-by-sa.png" width="88"/>
     </a>
    </li>
    <li id="footer-poweredbyico">
     <a href="https://www.mediawiki.org/">
      <img alt="Powered by MediaWiki" height="31" src="../poweredby_mediawiki_88x31.png" srcset="" width="88"/>
     </a>
    </li>
   </ul>
   <div style="clear: both;">
   </div>
  </div>
 </body>
</html>
