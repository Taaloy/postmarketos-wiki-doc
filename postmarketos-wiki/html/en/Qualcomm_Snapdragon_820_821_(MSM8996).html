<!DOCTYPE html>
<html class="client-nojs" dir="ltr" lang="en">
 <head>
  <meta charset="utf-8"/>
  <title>
   Qualcomm Snapdragon 820/821 (MSM8996) - postmarketOS
  </title>
  <link href="../PostmarketOSWikiOffline.css" rel="stylesheet"/>
  <meta content="" name="ResourceLoaderDynamicStyles"/>
  <meta content="MediaWiki 1.34.2" name="generator"/>
  <link href="/favicon.ico" rel="shortcut icon"/>
  <link href="/opensearch_desc.php" rel="search" title="postmarketOS (en)" type="application/opensearchdescription+xml"/>
  <link href="https://wiki.postmarketos.org/api.php?action=rsd" rel="EditURI" type="application/rsd+xml"/>
  <link href="https://creativecommons.org/licenses/by-sa/4.0/" rel="license"/>
  <link href="/index.php?title=Special:RecentChanges&amp;feed=atom" rel="alternate" title="postmarketOS Atom feed" type="application/atom+xml"/>
 </head>
 <body class="mediawiki ltr sitedir-ltr mw-hide-empty-elt ns-0 ns-subject page-Qualcomm_Snapdragon_820_821_MSM8996 rootpage-Qualcomm_Snapdragon_820_821_MSM8996 skin-vector action-view">
  <div class="mw-body" id="content" role="main" style="margin: 0">
   <a id="top">
   </a>
   <div class="mw-indicators mw-body-content">
   </div>
   <h1 class="firstHeading" id="firstHeading" lang="en">
    Qualcomm Snapdragon 820/821 (MSM8996)
   </h1>
   <div class="mw-body-content" id="bodyContent">
    <div class="noprint" id="siteSub">
     From postmarketOS
    </div>
    <div id="contentSub">
    </div>
    <div id="jump-to-nav">
    </div>
    <a class="mw-jump-link" href="#mw-head">
     Jump to navigation
    </a>
    <a class="mw-jump-link" href="#p-search">
     Jump to search
    </a>
    <div class="mw-content-ltr" dir="ltr" id="mw-content-text" lang="en">
     <div class="mw-parser-output">
      <table cellspacing="3" class="infobox" style="border-spacing: 3px; width:22em;">
       <caption class="" style="">
        Qualcomm MSM8996
       </caption>
       <tbody>
        <tr class="">
         <td class="" colspan="2" style="text-align:center;">
          <a class="image" href="../Qualcomm_MSM8996.jpg">
           <img alt="MSM8996 in ceramic capsule" decoding="async" height="208" src="../Qualcomm_MSM8996.jpg" srcset="../Qualcomm_MSM8996.jpg 1.5x ../Qualcomm_MSM8996.jpg 2x" width="200"/>
          </a>
          <br/>
          <span style="">
           MSM8996 in ceramic capsule
          </span>
         </td>
        </tr>
        <tr class="">
         <th scope="row" style="text-align:left;">
          Manufacturer
         </th>
         <td class="" style="">
          Qualcomm
         </td>
        </tr>
        <tr class="">
         <th scope="row" style="text-align:left;">
          Name
         </th>
         <td class="" style="">
          MSM8996
         </td>
        </tr>
        <tr class="">
         <th scope="row" style="text-align:left;">
          Codenames
         </th>
         <td class="" style="">
          msmthulium/apqthulium
         </td>
        </tr>
        <tr class="">
         <th scope="row" style="text-align:left;">
          Architecture
         </th>
         <td class="" style="">
          aarch64
         </td>
        </tr>
        <tr class="">
         <th scope="row" style="text-align:left;">
          CPU
         </th>
         <td class="" style="">
          2x 2.2/2.3 GHz Kryo, 2x 1.6 GHz Kryo
         </td>
        </tr>
        <tr class="">
         <th scope="row" style="text-align:left;">
          GPU
         </th>
         <td class="" style="">
          Adreno 530
         </td>
        </tr>
        <tr class="">
         <th scope="row" style="text-align:left;">
          Year
         </th>
         <td class="" style="">
          2016
         </td>
        </tr>
        <tr class="">
         <th scope="row" style="text-align:left;">
          Process
         </th>
         <td class="" style="">
          14nm
         </td>
        </tr>
        <tr class="">
         <th scope="row" style="text-align:left;">
          Mainline
         </th>
         <td class="" style="">
          yes
         </td>
        </tr>
        <tr class="">
         <th scope="row" style="text-align:left;">
          <abbr title="A link to a git{hub,lab} organisation/repo where development happens">
           Community Page
          </abbr>
         </th>
         <td class="" style="">
          <a class="external free" href="https://gitlab.com/msm8996-mainline" rel="nofollow">
           https://gitlab.com/msm8996-mainline
          </a>
         </td>
        </tr>
        <tr>
         <th class="" colspan="2" style="text-align:center;">
          Components
         </th>
        </tr>
        <tr class="">
         <th scope="row" style="text-align:left;">
          <abbr title="SMP (bring up secondary CPU cores), CPU frequency scaling, CPUidle">
           CPU
          </abbr>
         </th>
         <td class="" style="">
          <div class="feature feature-partial">
           Partial
          </div>
         </td>
        </tr>
        <tr class="">
         <th scope="row" style="text-align:left;">
          UART
         </th>
         <td class="" style="">
          <div class="feature feature-yes">
           Works
          </div>
         </td>
        </tr>
        <tr class="">
         <th scope="row" style="text-align:left;">
          <abbr title="eMMC, SD cards, UFS, ...">
           Storage
          </abbr>
         </th>
         <td class="" style="">
          <div class="feature feature-partial">
           Partial
          </div>
         </td>
        </tr>
        <tr class="">
         <th scope="row" style="text-align:left;">
          USB
         </th>
         <td class="" style="">
          <div class="feature feature-yes">
           Works
          </div>
         </td>
        </tr>
        <tr class="">
         <th scope="row" style="text-align:left;">
          Display
         </th>
         <td class="" style="">
          <div class="feature feature-yes">
           Works
          </div>
         </td>
        </tr>
        <tr class="">
         <th scope="row" style="text-align:left;">
          GPU
         </th>
         <td class="" style="">
          <div class="feature feature-yes">
           Works
          </div>
         </td>
        </tr>
        <tr class="">
         <th scope="row" style="text-align:left;">
          Pinctrl
         </th>
         <td class="" style="">
          <div class="feature feature-yes">
           Works
          </div>
         </td>
        </tr>
        <tr class="">
         <th scope="row" style="text-align:left;">
          IÂ²C
         </th>
         <td class="" style="">
          <div class="feature feature-yes">
           Works
          </div>
         </td>
        </tr>
        <tr class="">
         <th scope="row" style="text-align:left;">
          Audio
         </th>
         <td class="" style="">
          <div class="feature feature-yes">
           Works
          </div>
         </td>
        </tr>
        <tr class="">
         <th scope="row" style="text-align:left;">
          <abbr title="Hardware-accelerated video de/encoding">
           Video
          </abbr>
         </th>
         <td class="" style="">
          <div class="feature feature-yes">
           Works
          </div>
         </td>
        </tr>
        <tr class="">
         <th scope="row" style="text-align:left;">
          Thermal
         </th>
         <td class="" style="">
          <div class="feature feature-yes">
           Works
          </div>
         </td>
        </tr>
        <tr class="">
         <th scope="row" style="text-align:left;">
          WiFi
         </th>
         <td class="" style="">
          <div class="feature feature-unavailable">
           Unavailable
          </div>
         </td>
        </tr>
        <tr class="">
         <th scope="row" style="text-align:left;">
          Bluetooth
         </th>
         <td class="" style="">
          <div class="feature feature-unavailable">
           Unavailable
          </div>
         </td>
        </tr>
        <tr class="">
         <th scope="row" style="text-align:left;">
          <abbr title="Calls, SMS, Internet">
           Modem
          </abbr>
         </th>
         <td class="" style="">
          <div class="feature feature-partial">
           Partial
          </div>
         </td>
        </tr>
        <tr class="">
         <th scope="row" style="text-align:left;">
          GPS
         </th>
         <td class="" style="">
          <div>
          </div>
         </td>
        </tr>
        <tr class="">
         <th scope="row" style="text-align:left;">
          Camera
         </th>
         <td class="" style="">
          <div class="feature feature-partial">
           Partial
          </div>
         </td>
        </tr>
        <tr class="">
         <th scope="row" style="text-align:left;">
          Suspend
         </th>
         <td class="" style="">
          <div class="feature feature-no">
           Broken
          </div>
         </td>
        </tr>
        <tr>
         <td colspan="2" style="text-align:right">
         </td>
        </tr>
       </tbody>
      </table>
      <p>
       <br/>
      </p>
      <p>
       <a class="external text" href="https://www.qualcomm.com/products/snapdragon-820-mobile-platform" rel="nofollow">
        MSM8996
       </a>
       /
       <a class="external text" href="https://www.qualcomm.com/products/apq8096sg" rel="nofollow">
        APQ8096
       </a>
       (or Snapdragon 820) is a Qualcomm SoC released in 2016, with great mainline support orginally added for the
       <a class="external text" href="https://www.96boards.org/product/dragonboard820c/" rel="nofollow">
        Dragonboard 820c
       </a>
       . There is also a slightly higher clocked (and supposedly less problematic architecture-wise)
       <a class="external text" href="https://www.qualcomm.com/products/snapdragon-821-mobile-platform" rel="nofollow">
        MSM8996Pro
       </a>
       also known as Snapdragon 821.
      </p>
      <h2>
       <span class="mw-headline" id="Devices">
        Devices
       </span>
      </h2>
      <h3>
       <span id="APQ8096(SG)_(Snapdragon_820E,_WiFi-only)">
       </span>
       <span class="mw-headline" id="APQ8096.28SG.29_.28Snapdragon_820E.2C_WiFi-only.29">
        APQ8096(SG) (Snapdragon 820E, WiFi-only)
       </span>
      </h3>
      <p>
       <em>
        No results
       </em>
      </p>
      <h3>
       <span id="MSM8996_(Snapdragon_820)">
       </span>
       <span class="mw-headline" id="MSM8996_.28Snapdragon_820.29">
        MSM8996 (Snapdragon 820)
       </span>
      </h3>
      <table class="cargoTable noMerge sortable" style="border-collapse: collapse;">
       <thead>
        <tr style="background-color: #eeeeee;">
         <th class="field_Device">
          Device
         </th>
         <th class="field_Codename">
          Codename
         </th>
         <th class="field_Mainline">
          Mainline
         </th>
        </tr>
       </thead>
       <tbody>
        <tr>
         <td class="field_Device">
          <a href="../en/HTC_10_(htc-pme).html" title="HTC 10 (htc-pme)">
           HTC 10
          </a>
         </td>
         <td class="field_Codename">
          htc-pme
         </td>
         <td class="field_Mainline">
         </td>
        </tr>
        <tr style="background-color: #eeeeee;">
         <td class="field_Device">
          <a href="../en/Lenovo_zuk_z2_Plus_(zuk-z2-plus).html" title="Lenovo zuk z2 Plus (zuk-z2-plus)">
           Lenovo ZUK Z2 plus
          </a>
         </td>
         <td class="field_Codename">
          zuk-z2-plus
         </td>
         <td class="field_Mainline">
         </td>
        </tr>
        <tr>
         <td class="field_Device">
          <a href="../en/Lenovo_ZUK_Z2_Pro_(zuk-z2-row).html" title="Lenovo ZUK Z2 Pro (zuk-z2-row)">
           Lenovo ZUK Z2 Pro
          </a>
         </td>
         <td class="field_Codename">
          zuk-z2-row
         </td>
         <td class="field_Mainline">
         </td>
        </tr>
        <tr style="background-color: #eeeeee;">
         <td class="field_Device">
          <a href="../en/LG_V20_(lg-us996).html" title="LG V20 (lg-us996)">
           LG V20
          </a>
         </td>
         <td class="field_Codename">
          lg-us996
         </td>
         <td class="field_Mainline">
         </td>
        </tr>
        <tr>
         <td class="field_Device">
          <a href="../en/OnePlus_3_(oneplus-oneplus3).html" title="OnePlus 3 (oneplus-oneplus3)">
           OnePlus 3
          </a>
         </td>
         <td class="field_Codename">
          oneplus-oneplus3
         </td>
         <td class="feature feature-yes">
          Y
         </td>
        </tr>
        <tr style="background-color: #eeeeee;">
         <td class="field_Device">
          <a href="../en/Xiaomi_Mi_5_(xiaomi-gemini).html" title="Xiaomi Mi 5 (xiaomi-gemini)">
           Xiaomi Mi 5
          </a>
         </td>
         <td class="field_Codename">
          xiaomi-gemini
         </td>
         <td class="feature feature-yes">
          Y
         </td>
        </tr>
        <tr>
         <td class="field_Device">
          <a href="../en/ZTE_Axon_7_(zte-axon7).html" title="ZTE Axon 7 (zte-axon7)">
           ZTE Axon 7
          </a>
         </td>
         <td class="field_Codename">
          zte-axon7
         </td>
         <td class="feature feature-partial">
          P
         </td>
        </tr>
       </tbody>
      </table>
      <h3>
       <span id="MSM8996Pro_(Snapdragon_821)">
       </span>
       <span class="mw-headline" id="MSM8996Pro_.28Snapdragon_821.29">
        MSM8996Pro (Snapdragon 821)
       </span>
      </h3>
      <table class="cargoTable noMerge sortable" style="border-collapse: collapse;">
       <thead>
        <tr style="background-color: #eeeeee;">
         <th class="field_Device">
          Device
         </th>
         <th class="field_Codename">
          Codename
         </th>
         <th class="field_Mainline">
          Mainline
         </th>
        </tr>
       </thead>
       <tbody>
        <tr>
         <td class="field_Device">
          <a href="../en/LG_G6_(lg-h870).html" title="LG G6 (lg-h870)">
           LG G6
          </a>
         </td>
         <td class="field_Codename">
          lg-h870
         </td>
         <td class="field_Mainline">
         </td>
        </tr>
        <tr style="background-color: #eeeeee;">
         <td class="field_Device">
          <a href="../en/OnePlus_3T_(oneplus-oneplus3t).html" title="OnePlus 3T (oneplus-oneplus3t)">
           OnePlus 3T
          </a>
         </td>
         <td class="field_Codename">
          oneplus-oneplus3t
         </td>
         <td class="feature feature-yes">
          Y
         </td>
        </tr>
        <tr>
         <td class="field_Device">
          <a href="../en/Xiaomi_Mi_5s_Plus_(xiaomi-natrium).html" title="Xiaomi Mi 5s Plus (xiaomi-natrium)">
           Xiaomi Mi 5s Plus
          </a>
         </td>
         <td class="field_Codename">
          xiaomi-natrium
         </td>
         <td class="feature feature-yes">
          Y
         </td>
        </tr>
        <tr style="background-color: #eeeeee;">
         <td class="field_Device">
          <a href="../en/Xiaomi_Mi_Note_2_(xiaomi-scorpio).html" title="Xiaomi Mi Note 2 (xiaomi-scorpio)">
           Xiaomi Mi Note 2
          </a>
         </td>
         <td class="field_Codename">
          xiaomi-scorpio
         </td>
         <td class="feature feature-yes">
          Y
         </td>
        </tr>
       </tbody>
      </table>
      <h2>
       <span class="mw-headline" id="Porting_to_a_new_device">
        Porting to a new device
       </span>
      </h2>
      <p>
       Getting mainline to boot on MSM8996 devices is generally a straightforward process. Check the mainlining guide to get started:
      </p>
      <span style="display:block; height: 40px; float: left;">
       <div class="floatleft">
        <a class="image" href="../Icon-numix-light-system-run.svg">
         <img alt="Icon-numix-light-system-run.svg" decoding="async" height="32" src="../Icon-numix-light-system-run.svg" srcset="../48px-Icon-numix-light-system-run.svg 1.5x ../64px-Icon-numix-light-system-run.svg 2x" width="32"/>
        </a>
       </div>
       <a href="../en/MSM8996_Mainlining.html" title="MSM8996 Mainlining">
        <span style="border: 1px solid lightgray; background: #f8f8f8; padding: 5px; width:200px; height: 20px; line-height: 20px; display: inline-block; margin-left: 5px;">
         MSM8996 Mainlining
        </span>
       </a>
      </span>
      <p>
       <span style="clear:left; display: block">
       </span>
      </p>
      <h2>
       <span class="mw-headline" id="Booting">
        Booting
       </span>
      </h2>
      <p>
       On at least the
       <a href="../en/Xiaomi_Mi_Note_2_(xiaomi-scorpio).html" title="Xiaomi Mi Note 2 (xiaomi-scorpio)">
        Xiaomi Mi Note 2
       </a>
       , some IOMMU hacks (
       <a class="external text" href="https://gitlab.com/Tooniis/linux/-/commit/d3d753f212ee45f1a01c060b9f50feb43fd5f616" rel="nofollow">
        1
       </a>
       ,
       <a class="external text" href="https://gitlab.com/Tooniis/linux/-/commit/96da3bd12174a76cd3e47cb3aaa79f19f2aa9dd3" rel="nofollow">
        2
       </a>
       ) are needed to let it to boot properly. Otherwise it would crash and reboot as soon as the MDP SMMU is probed.
      </p>
      <h2>
       <span class="mw-headline" id="USB">
        USB
       </span>
      </h2>
      <p>
       Enabling
       <code>
        usb3
       </code>
       or
       <code>
        usb2
       </code>
       depending on which one the USB port is connected to should be enough to make USB work, although forcing it to peripheral mode might be needed before adding support for extcon:
      </p>
      <div class="toccolours mw-collapsible mw-collapsed" style="width: 500px; overflow: auto;">
       <p>
        MSM8996 USB peripheral mode configuration
       </p>
       <div class="mw-collapsible-content">
        <pre>&amp;usb3 {
	...

	dwc3@6a00000 {
 	 	dr_mode = "peripheral";
 	 	...
	};
};
</pre>
       </div>
      </div>
      <p>
       Some devices have a USB 2.0 port wired to
       <code>
        usb3
       </code>
       . In this case it must be limited to high-speed and have
       <code>
        usb3phy
       </code>
       removed from it:
      </p>
      <div class="toccolours mw-collapsible mw-collapsed" style="width: 500px; overflow: auto;">
       <p>
        MSM8996 USB 2.0 configuration
       </p>
       <div class="mw-collapsible-content">
        <pre>&amp;usb3 {
	/* Disable USB3 pipe_clk requirement */
	qcom,select-utmi-as-pipe-clk;
	...

	dwc3@6a00000 {
		/* usb3-phy is not used on this device */
		phys = &lt;&amp;hsusb_phy1&gt;;
		phy-names = "usb2-phy";

		/* Limit USB to high-speed */
		maximum-speed = "high-speed";
		...
	};
};
</pre>
       </div>
      </div>
      <h2>
       <span class="mw-headline" id="Haptics">
        Haptics
       </span>
      </h2>
      <p>
       Haptics are supported, see
       <a href="../en/Haptics.html" title="Haptics">
        Haptics
       </a>
       for more details.
      </p>
      <h2>
       <span class="mw-headline" id="See_also">
        See also
       </span>
      </h2>
      <ul>
       <li>
        <a class="external text" href="https://gitlab.com/msm8996-mainline/linux" rel="nofollow">
         msm8996-mainline/linux
        </a>
        a common near-mainline kernel tree for MSM8996 devices.
       </li>
       <li>
        <a href="../en/Xiaomi_Mi_Note_2_(xiaomi-scorpio).html#Mainline" title="Xiaomi Mi Note 2 (xiaomi-scorpio)">
         Xiaomi_Mi_Note_2_(xiaomi-scorpio)#Mainline
        </a>
       </li>
      </ul>
      <h2>
       <span id="Who's_working_on_it">
       </span>
       <span class="mw-headline" id="Who.27s_working_on_it">
        Who's working on it
       </span>
      </h2>
      <ul>
       <li>
        <a href="../User:Tooniis.html" title="User:Tooniis">
         User:Tooniis
        </a>
        (@tooniis on Matrix)
       </li>
      </ul>
      <table role="text container" style="color: inherit; background-color: #f6efe5; border: 1px solid #ac6600; margin: 4px 0; border-collapse: collapse;">
       <tbody>
        <tr>
         <td style="padding: 2px 0 2px 0.9em; text-align: center;">
          <span style="white-space: nowrap;">
           <img alt="Note" decoding="async" height="20" src="../Reference_icon.svg" srcset="../Reference_icon.svg 1.5x ../Reference_icon.svg 2x" title="Note" width="20"/>
          </span>
         </td>
         <td style="padding: 0.35em 0.9em; width: 100%;">
          Please add yourself if you're working on MSM8996 mainlining!
         </td>
        </tr>
       </tbody>
      </table>
     </div>
    </div>
    <div class="catlinks" data-mw="interface" id="catlinks">
     <div class="mw-normal-catlinks" id="mw-normal-catlinks">
      <a href="../Special:Categories.html" title="Special:Categories">
       Category
      </a>
      :
      <ul>
       <li>
        <a href="../en/Category:Socs.html" title="Category:Socs">
         Socs
        </a>
       </li>
      </ul>
     </div>
    </div>
    <div class="visualClear">
    </div>
   </div>
  </div>
  <div id="footer" role="contentinfo" style="margin: 0">
   <ul id="footer-info">
    <li>
     Retrieved from "
     <a dir="ltr" href="https://wiki.postmarketos.org/index.php?title=Qualcomm_Snapdragon_820/821_(MSM8996)&amp;oldid=26803">
      https://wiki.postmarketos.org/index.php?title=Qualcomm_Snapdragon_820/821_(MSM8996)&amp;oldid=26803
     </a>
     "
    </li>
    <li id="footer-info-lastmod">
     This page was last edited on 7 April 2022, at 14:37.
    </li>
    <li id="footer-info-copyright">
     Content is available under
     <a class="external" href="https://creativecommons.org/licenses/by-sa/4.0/" rel="nofollow">
      Creative Commons Attribution-ShareAlike
     </a>
     unless otherwise noted.
    </li>
    <br/>
   </ul>
   <ul id="footer-places">
    <li id="footer-places-privacy">
     <a href="../en/PostmarketOS:Privacy_policy.html" title="PostmarketOS:Privacy policy">
      Privacy policy
     </a>
    </li>
    <li id="footer-places-about">
     <a class="mw-redirect" href="../en/About_postmarketOS.html" title="PostmarketOS:About">
      About postmarketOS
     </a>
    </li>
    <li id="footer-places-disclaimer">
     <a href="../en/PostmarketOS:General_disclaimer.html" title="PostmarketOS:General disclaimer">
      Disclaimers
     </a>
    </li>
    <li id="footer-places-mobileview">
     <a class="noprint stopMobileRedirectToggle" href="https://wiki.postmarketos.org/index.php?title=Qualcomm_Snapdragon_820/821_(MSM8996)&amp;mobileaction=toggle_view_mobile">
      Mobile view
     </a>
    </li>
   </ul>
   <ul class="noprint" id="footer-icons">
    <li id="footer-copyrightico">
     <a href="https://creativecommons.org/licenses/by-sa/4.0/">
      <img alt="Creative Commons Attribution-ShareAlike" height="31" src="../cc-by-sa.png" width="88"/>
     </a>
    </li>
    <li id="footer-poweredbyico">
     <a href="https://www.mediawiki.org/">
      <img alt="Powered by MediaWiki" height="31" src="../poweredby_mediawiki_88x31.png" srcset="" width="88"/>
     </a>
    </li>
   </ul>
   <div style="clear: both;">
   </div>
  </div>
 </body>
</html>
