<!DOCTYPE html>
<html class="client-nojs" lang="en" dir="ltr">
<head>
<meta charset="UTF-8">
<title>Installation/Using pmbootstrap - postmarketOS</title>
<link rel="stylesheet" href="../PostmarketOSWikiOffline.css">
<meta name="ResourceLoaderDynamicStyles" content="">
<meta name="generator" content="MediaWiki 1.39.6">
<meta name="format-detection" content="telephone=no">
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes, minimum-scale=0.25, maximum-scale=5.0">
<link rel="icon" href="/favicon.ico">
<link rel="search" type="application/opensearchdescription+xml" href="/opensearch_desc.php" title="postmarketOS (en)">
<link rel="EditURI" type="application/rsd+xml" href="https://wiki.postmarketos.org/api.php?action=rsd">
<link rel="license" href="https://creativecommons.org/licenses/by-sa/4.0/">
<link rel="alternate" type="application/atom+xml" title="postmarketOS Atom feed" href="/index.php?title=Special:RecentChanges&amp;feed=atom">
</head>
<body class="skin-vector skin-vector-search-vue mediawiki ltr sitedir-ltr mw-hide-empty-elt ns-0 ns-subject page-Installation_Using_pmbootstrap rootpage-Installation_Using_pmbootstrap skin-vector-2022 action-view skin--responsive vector-feature-language-in-header-enabled vector-feature-language-in-main-page-header-disabled vector-feature-language-alert-in-sidebar-disabled vector-feature-sticky-header-disabled vector-feature-sticky-header-edit-disabled vector-feature-table-of-contents-disabled vector-feature-visual-enhancement-next-disabled">
<div class="mw-page-container">
	<span id="top-page"></span>
	<a class="mw-jump-link" href="#content">Jump to content</a>
	<div class="mw-page-container-inner">
		<input type="checkbox" id="mw-sidebar-checkbox" class="mw-checkbox-hack-checkbox">
		<header class="mw-header">
			<div class="mw-header-aside">
			<label id="mw-sidebar-button" class="mw-checkbox-hack-button mw-ui-icon mw-ui-button mw-ui-quiet mw-ui-icon-element" for="mw-sidebar-checkbox" role="button" aria-controls="mw-panel" data-event-name="ui.sidebar" tabindex="0" title="Main menu">
				<span>Toggle sidebar</span>
			</label>
			
<a href="../en/Main_Page.html" class="mw-logo">
	<img class="mw-logo-icon" src="/logo_50x50.svg" alt="" aria-hidden="true" height="50" width="50">
	<span class="mw-logo-container">
		<strong class="mw-logo-wordmark">postmarketOS</strong>
	</span>
</a>

			</div>
			<div class="mw-header-content">
			
<div id="p-search" role="search" class="vector-search-box-vue  vector-search-box-collapses  vector-search-box-show-thumbnail vector-search-box-auto-expand-width vector-search-box">
	<a href="../Special:Search.html" title="Search postmarketOS [f]" accesskey="f" class="mw-ui-button mw-ui-quiet mw-ui-icon mw-ui-icon-element mw-ui-icon-wikimedia-search search-toggle">
		<span>Search</span>
	</a>
	
	<div>
		<form action="/index.php" id="searchform" class="vector-search-box-form">
			<div id="simpleSearch" class="vector-search-box-inner" data-search-loc="header-moved">
				<input class="vector-search-box-input" type="search" name="search" placeholder="Search postmarketOS" aria-label="Search postmarketOS" autocapitalize="sentences" title="Search postmarketOS [f]" accesskey="f" id="searchInput">
				<input type="hidden" name="title" value="Special:Search">
				<input id="mw-searchButton" class="searchButton mw-fallbackSearchButton" type="submit" name="fulltext" title="Search the pages for this text" value="Search">
				<input id="searchButton" class="searchButton" type="submit" name="go" title="Go to a page with this exact name if it exists" value="Go">
			</div>
		</form>
	</div>
</div>

			<nav class="vector-user-links" aria-label="Personal tools" role="navigation">
	

<div id="p-vector-user-menu-overflow" class="vector-menu mw-portlet mw-portlet-vector-user-menu-overflow vector-user-menu-overflow">
	<div class="vector-menu-content">
		
		<ul class="vector-menu-content-list"><li id="pt-createaccount-2" class="user-links-collapsible-item mw-list-item"><a href="../Special:RequestAccount.html"><span>Request account</span></a></li></ul>
		
	</div>
</div>

	

<div id="p-personal" class="vector-menu mw-portlet mw-portlet-personal vector-user-menu vector-user-menu-logged-out vector-menu-dropdown" title="More options">
	<input type="checkbox" id="p-personal-checkbox" role="button" aria-haspopup="true" data-event-name="ui.dropdown-p-personal" class="vector-menu-checkbox">
	<label id="p-personal-label" for="p-personal-checkbox" class="vector-menu-heading mw-ui-button mw-ui-quiet mw-ui-icon mw-ui-icon-element mw-ui-icon-ellipsis mw-ui-icon-wikimedia-ellipsis">
		<span class="vector-menu-heading-label">Personal tools</span>
	</label>
	<div class="vector-menu-content">
		<div class="vector-user-menu-create-account"><a href="/index.php?title=Special:CreateAccount&amp;returnto=Installation%2FUsing+pmbootstrap" class="vector-menu-content-item user-links-collapsible-item" title="You are encouraged to create an account and log in; however, it is not mandatory"><span class="mw-ui-icon mw-ui-icon-userAdd mw-ui-icon-wikimedia-userAdd"></span> <span>Create account</span></a></div>
<div class="vector-user-menu-login"><a href="/index.php?title=Special:UserLogin&amp;returnto=Installation%2FUsing+pmbootstrap" class="vector-menu-content-item vector-menu-content-item-login" title="You are encouraged to log in; however, it is not mandatory [o]" accesskey="o"><span class="mw-ui-icon mw-ui-icon-logIn mw-ui-icon-wikimedia-logIn"></span> <span>Log in</span></a></div>

		<ul class="vector-menu-content-list"></ul>
		
	</div>
</div>

</nav>

			</div>
		</header>
		<div class="vector-sidebar-container ">
			</div>
		<div class="vector-sitenotice-container">
			<div id="siteNotice"></div>
		</div>
		<input type="checkbox" id="vector-toc-collapsed-checkbox" class="mw-checkbox-hack-checkbox">
		<div class="mw-table-of-contents-container">
			<div class="vector-sticky-toc-container mw-sticky-header-element">
				<nav id="mw-panel-toc" class="sidebar-toc" role="navigation" aria-labelledby="sidebar-toc-label" data-event-name="ui.sidebar-toc">
	<div id="sidebar-toc-label" class="sidebar-toc-header">
		<p class="sidebar-toc-title">
		Contents
		<button class="vector-toc-uncollapse-button">move to sidebar</button>
		<button class="vector-toc-collapse-button">hide</button>
		</p>
	</div>
	<ul class="sidebar-toc-contents" id="mw-panel-toc-list">
		<li id="toc-mw-content-text" class="sidebar-toc-list-item sidebar-toc-level-1">
			<a href="#top-page" class="sidebar-toc-link">
				<div class="sidebar-toc-text">Beginning</div>
			</a>
		</li>
		<li id="toc-Preparation" class="sidebar-toc-list-item sidebar-toc-level-1">
			<a class="sidebar-toc-link" href="#Preparation">
				<div class="sidebar-toc-text">
				<span class="sidebar-toc-numb">1</span>Preparation</div>
			</a>
			
				<button aria-controls="toc-Preparation-sublist" class="mw-ui-icon mw-ui-icon-wikimedia-expand mw-ui-icon-small sidebar-toc-toggle">
					Toggle Preparation subsection
				</button>
			
			<ul id="toc-Preparation-sublist" class="sidebar-toc-list">
				<li id="toc-Quick_glossary" class="sidebar-toc-list-item sidebar-toc-level-2">
			<a class="sidebar-toc-link" href="#Quick_glossary">
				<div class="sidebar-toc-text">
				<span class="sidebar-toc-numb">1.1</span>Quick glossary</div>
			</a>
			
			<ul id="toc-Quick_glossary-sublist" class="sidebar-toc-list">
			</ul>
		</li>
		<li id="toc-About_pmbootstrap" class="sidebar-toc-list-item sidebar-toc-level-2">
			<a class="sidebar-toc-link" href="#About_pmbootstrap">
				<div class="sidebar-toc-text">
				<span class="sidebar-toc-numb">1.2</span>About pmbootstrap</div>
			</a>
			
			<ul id="toc-About_pmbootstrap-sublist" class="sidebar-toc-list">
			</ul>
		</li>
	</ul>
		</li>
		<li id="toc-Installing_pmbootstrap" class="sidebar-toc-list-item sidebar-toc-level-1">
			<a class="sidebar-toc-link" href="#Installing_pmbootstrap">
				<div class="sidebar-toc-text">
				<span class="sidebar-toc-numb">2</span>Installing pmbootstrap</div>
			</a>
			
			<ul id="toc-Installing_pmbootstrap-sublist" class="sidebar-toc-list">
			</ul>
		</li>
		<li id="toc-Initializing_pmbootstrap" class="sidebar-toc-list-item sidebar-toc-level-1">
			<a class="sidebar-toc-link" href="#Initializing_pmbootstrap">
				<div class="sidebar-toc-text">
				<span class="sidebar-toc-numb">3</span>Initializing pmbootstrap</div>
			</a>
			
			<ul id="toc-Initializing_pmbootstrap-sublist" class="sidebar-toc-list">
			</ul>
		</li>
		<li id="toc-Choosing_the_rootfs_destination" class="sidebar-toc-list-item sidebar-toc-level-1">
			<a class="sidebar-toc-link" href="#Choosing_the_rootfs_destination">
				<div class="sidebar-toc-text">
				<span class="sidebar-toc-numb">4</span>Choosing the rootfs destination</div>
			</a>
			
			<ul id="toc-Choosing_the_rootfs_destination-sublist" class="sidebar-toc-list">
			</ul>
		</li>
		<li id="toc-Generating_the_image" class="sidebar-toc-list-item sidebar-toc-level-1">
			<a class="sidebar-toc-link" href="#Generating_the_image">
				<div class="sidebar-toc-text">
				<span class="sidebar-toc-numb">5</span>Generating the image</div>
			</a>
			
				<button aria-controls="toc-Generating_the_image-sublist" class="mw-ui-icon mw-ui-icon-wikimedia-expand mw-ui-icon-small sidebar-toc-toggle">
					Toggle Generating the image subsection
				</button>
			
			<ul id="toc-Generating_the_image-sublist" class="sidebar-toc-list">
				<li id="toc-Usage_examples" class="sidebar-toc-list-item sidebar-toc-level-2">
			<a class="sidebar-toc-link" href="#Usage_examples">
				<div class="sidebar-toc-text">
				<span class="sidebar-toc-numb">5.1</span>Usage examples</div>
			</a>
			
			<ul id="toc-Usage_examples-sublist" class="sidebar-toc-list">
				<li id="toc-Generating_a_regular_image" class="sidebar-toc-list-item sidebar-toc-level-3">
			<a class="sidebar-toc-link" href="#Generating_a_regular_image">
				<div class="sidebar-toc-text">
				<span class="sidebar-toc-numb">5.1.1</span>Generating a regular image</div>
			</a>
			
			<ul id="toc-Generating_a_regular_image-sublist" class="sidebar-toc-list">
			</ul>
		</li>
		<li id="toc-Installing_to_the_SD_card_or_USB_storage" class="sidebar-toc-list-item sidebar-toc-level-3">
			<a class="sidebar-toc-link" href="#Installing_to_the_SD_card_or_USB_storage">
				<div class="sidebar-toc-text">
				<span class="sidebar-toc-numb">5.1.2</span>Installing to the SD card or USB storage</div>
			</a>
			
			<ul id="toc-Installing_to_the_SD_card_or_USB_storage-sublist" class="sidebar-toc-list">
			</ul>
		</li>
		<li id="toc-Enabling_full_disk_encryption_(FDE)" class="sidebar-toc-list-item sidebar-toc-level-3">
			<a class="sidebar-toc-link" href="#Enabling_full_disk_encryption_(FDE)">
				<div class="sidebar-toc-text">
				<span class="sidebar-toc-numb">5.1.3</span>Enabling full disk encryption (FDE)</div>
			</a>
			
			<ul id="toc-Enabling_full_disk_encryption_(FDE)-sublist" class="sidebar-toc-list">
			</ul>
		</li>
	</ul>
		</li>
	</ul>
		</li>
		<li id="toc-Flashing" class="sidebar-toc-list-item sidebar-toc-level-1">
			<a class="sidebar-toc-link" href="#Flashing">
				<div class="sidebar-toc-text">
				<span class="sidebar-toc-numb">6</span>Flashing</div>
			</a>
			
				<button aria-controls="toc-Flashing-sublist" class="mw-ui-icon mw-ui-icon-wikimedia-expand mw-ui-icon-small sidebar-toc-toggle">
					Toggle Flashing subsection
				</button>
			
			<ul id="toc-Flashing-sublist" class="sidebar-toc-list">
				<li id="toc-Flashing_the_rootfs" class="sidebar-toc-list-item sidebar-toc-level-2">
			<a class="sidebar-toc-link" href="#Flashing_the_rootfs">
				<div class="sidebar-toc-text">
				<span class="sidebar-toc-numb">6.1</span>Flashing the rootfs</div>
			</a>
			
			<ul id="toc-Flashing_the_rootfs-sublist" class="sidebar-toc-list">
			</ul>
		</li>
		<li id="toc-Flashing_the_kernel" class="sidebar-toc-list-item sidebar-toc-level-2">
			<a class="sidebar-toc-link" href="#Flashing_the_kernel">
				<div class="sidebar-toc-text">
				<span class="sidebar-toc-numb">6.2</span>Flashing the kernel</div>
			</a>
			
			<ul id="toc-Flashing_the_kernel-sublist" class="sidebar-toc-list">
			</ul>
		</li>
	</ul>
		</li>
		<li id="toc-Finishing_up" class="sidebar-toc-list-item sidebar-toc-level-1">
			<a class="sidebar-toc-link" href="#Finishing_up">
				<div class="sidebar-toc-text">
				<span class="sidebar-toc-numb">7</span>Finishing up</div>
			</a>
			
				<button aria-controls="toc-Finishing_up-sublist" class="mw-ui-icon mw-ui-icon-wikimedia-expand mw-ui-icon-small sidebar-toc-toggle">
					Toggle Finishing up subsection
				</button>
			
			<ul id="toc-Finishing_up-sublist" class="sidebar-toc-list">
				<li id="toc-What_to_do_with_your_newly-flashed_device" class="sidebar-toc-list-item sidebar-toc-level-2">
			<a class="sidebar-toc-link" href="#What_to_do_with_your_newly-flashed_device">
				<div class="sidebar-toc-text">
				<span class="sidebar-toc-numb">7.1</span>What to do with your newly-flashed device</div>
			</a>
			
			<ul id="toc-What_to_do_with_your_newly-flashed_device-sublist" class="sidebar-toc-list">
			</ul>
		</li>
	</ul>
		</li>
		<li id="toc-Troubleshooting" class="sidebar-toc-list-item sidebar-toc-level-1">
			<a class="sidebar-toc-link" href="#Troubleshooting">
				<div class="sidebar-toc-text">
				<span class="sidebar-toc-numb">8</span>Troubleshooting</div>
			</a>
			
				<button aria-controls="toc-Troubleshooting-sublist" class="mw-ui-icon mw-ui-icon-wikimedia-expand mw-ui-icon-small sidebar-toc-toggle">
					Toggle Troubleshooting subsection
				</button>
			
			<ul id="toc-Troubleshooting-sublist" class="sidebar-toc-list">
				<li id="toc-General_troubleshooting_steps" class="sidebar-toc-list-item sidebar-toc-level-2">
			<a class="sidebar-toc-link" href="#General_troubleshooting_steps">
				<div class="sidebar-toc-text">
				<span class="sidebar-toc-numb">8.1</span>General troubleshooting steps</div>
			</a>
			
			<ul id="toc-General_troubleshooting_steps-sublist" class="sidebar-toc-list">
			</ul>
		</li>
		<li id="toc-Newer_version_in_binary_package_repositories_than_in_aports_folder" class="sidebar-toc-list-item sidebar-toc-level-2">
			<a class="sidebar-toc-link" href="#Newer_version_in_binary_package_repositories_than_in_aports_folder">
				<div class="sidebar-toc-text">
				<span class="sidebar-toc-numb">8.2</span>Newer version in binary package repositories than in aports folder</div>
			</a>
			
			<ul id="toc-Newer_version_in_binary_package_repositories_than_in_aports_folder-sublist" class="sidebar-toc-list">
			</ul>
		</li>
		<li id='toc-"ERROR:_Could_not_find_dependency..."_or_"ERROR:_Could_not_find_aport..."' class="sidebar-toc-list-item sidebar-toc-level-2">
			<a class="sidebar-toc-link" href="#%22ERROR:_Could_not_find_dependency...%22_or_%22ERROR:_Could_not_find_aport...%22">
				<div class="sidebar-toc-text">
				<span class="sidebar-toc-numb">8.3</span>"ERROR: Could not find dependency..." or "ERROR: Could not find aport..."</div>
			</a>
			
			<ul id='toc-"ERROR:_Could_not_find_dependency..."_or_"ERROR:_Could_not_find_aport..."-sublist' class="sidebar-toc-list">
			</ul>
		</li>
		<li id='toc-Flasher_is_stuck_on_"waiting_for_device",_does_not_see_any_devices_or_reports_"permission_denied"_errors' class="sidebar-toc-list-item sidebar-toc-level-2">
			<a class="sidebar-toc-link" href="#Flasher_is_stuck_on_%22waiting_for_device%22,_does_not_see_any_devices_or_reports_%22permission_denied%22_errors">
				<div class="sidebar-toc-text">
				<span class="sidebar-toc-numb">8.4</span>Flasher is stuck on "waiting for device", does not see any devices or reports "permission denied" errors</div>
			</a>
			
			<ul id='toc-Flasher_is_stuck_on_"waiting_for_device",_does_not_see_any_devices_or_reports_"permission_denied"_errors-sublist' class="sidebar-toc-list">
			</ul>
		</li>
	</ul>
		</li>
	</ul>
</nav>

			</div>
		</div>
		<div class="mw-content-container">
			<main id="content" class="mw-body" role="main" style="margin: 0">
				<a id="top"></a>
				<header class="mw-body-header">
				
				
					<label id="vector-toc-collapsed-button" class="mw-ui-button mw-ui-quiet mw-ui-icon mw-ui-icon-element mw-ui-icon-wikimedia-listBullet mw-checkbox-hack-button" for="vector-toc-collapsed-checkbox" role="button" aria-controls="toc-toggle-list" data-event-name="vector.toc-toggle-list" tabindex="0" title="Table of Contents">
						Toggle the table of contents
					</label>
				    <h1 id="firstHeading" class="firstHeading mw-first-heading"><span class="mw-page-title-main">Installation/Using pmbootstrap</span></h1>
				</header>
				<nav class="vector-article-toolbar" aria-label="Tools" role="navigation">
					<div class="mw-article-toolbar-container">
						<div id="left-navigation">
							

<div id="p-associated-pages" class="vector-menu mw-portlet mw-portlet-associated-pages vector-menu-tabs">
	<div class="vector-menu-content">
		
		<ul class="vector-menu-content-list">
<li id="ca-nstab-main" class="selected mw-list-item"><a href="../en/Installation_Using_pmbootstrap.html" title="View the content page [c]" accesskey="c"><span>Page</span></a></li>
<li id="ca-talk" class="new mw-list-item"><a href="/index.php?title=Talk:Installation/Using_pmbootstrap&amp;action=edit&amp;redlink=1" rel="discussion" title="Discussion about the content page (page does not exist) [t]" accesskey="t"><span>Discussion</span></a></li>
</ul>
		
	</div>
</div>

							

<div id="p-variants" class="vector-menu mw-portlet mw-portlet-variants emptyPortlet vector-menu-dropdown">
	<input type="checkbox" id="p-variants-checkbox" role="button" aria-haspopup="true" data-event-name="ui.dropdown-p-variants" class="vector-menu-checkbox" aria-label="Change language variant">
	<label id="p-variants-label" for="p-variants-checkbox" class="vector-menu-heading ">
		<span class="vector-menu-heading-label">English</span>
	</label>
	<div class="vector-menu-content">
		
		<ul class="vector-menu-content-list"></ul>
		
	</div>
</div>

						</div>
						<div id="right-navigation" class="vector-collapsible ">
							

<div id="p-views" class="vector-menu mw-portlet mw-portlet-views vector-menu-tabs">
	<div class="vector-menu-content">
		
		<ul class="vector-menu-content-list">
<li id="ca-view" class="selected mw-list-item"><a href="../en/Installation_Using_pmbootstrap.html"><span>Read</span></a></li>
<li id="ca-viewsource" class="mw-list-item"><a href="/index.php?title=Installation/Using_pmbootstrap&amp;action=edit" title="This page is protected.
You can view its source [e]" accesskey="e"><span>View source</span></a></li>
<li id="ca-history" class="mw-list-item"><a href="/index.php?title=Installation/Using_pmbootstrap&amp;action=history" title="Past revisions of this page [h]" accesskey="h"><span>View history</span></a></li>
</ul>
		
	</div>
</div>

							

<div id="p-cactions" class="vector-menu mw-portlet mw-portlet-cactions emptyPortlet vector-menu-dropdown vector-has-collapsible-items" title="More options">
	<input type="checkbox" id="p-cactions-checkbox" role="button" aria-haspopup="true" data-event-name="ui.dropdown-p-cactions" class="vector-menu-checkbox">
	<label id="p-cactions-label" for="p-cactions-checkbox" class="vector-menu-heading ">
		<span class="vector-menu-heading-label">More</span>
	</label>
	<div class="vector-menu-content">
		
		<ul class="vector-menu-content-list">
<li id="ca-more-view" class="selected vector-more-collapsible-item mw-list-item"><a href="../en/Installation_Using_pmbootstrap.html"><span>Read</span></a></li>
<li id="ca-more-viewsource" class="vector-more-collapsible-item mw-list-item"><a href="/index.php?title=Installation/Using_pmbootstrap&amp;action=edit"><span>View source</span></a></li>
<li id="ca-more-history" class="vector-more-collapsible-item mw-list-item"><a href="/index.php?title=Installation/Using_pmbootstrap&amp;action=history"><span>View history</span></a></li>
</ul>
		
	</div>
</div>

						</div>
					</div>
				</nav>
				<div id="bodyContent" class="vector-body" data-mw-ve-target-container>
					<div class="mw-body-subheader">
					        <div class="mw-indicators">
        </div>

					    <div id="siteSub" class="noprint">From postmarketOS</div>
					</div>
					
					
					
					<div id="mw-content-text" class="mw-body-content mw-content-ltr" lang="en" dir="ltr">
<div class="mw-parser-output">
<div id="contentSub" style="margin-top: -8px; margin-bottom: 18px;">
<span class="subpages">&lt; <a href="../en/Installation.html" title="Installation">Installation</a></span>‎</div>
<p>This page describes the process of installing postmarketOS using pmbootstrap, the postmarketOS build tool. It provides a general outline of the installation steps - for a more detailed explanation, see the <a href="../en/Pmbootstrap.html" title="Pmbootstrap">pmbootstrap</a> article.
</p>
<tocplace></tocplace>
<h2><span class="mw-headline" id="Preparation">Preparation</span></h2>
<table role="text container" style="color: inherit; background-color: #f6efe5; border: 1px solid #ac6600; margin: 4px 0; border-collapse: collapse;"><tbody><tr>
<td style="padding: 2px 0 2px 0.9em; text-align: center;"><span style="white-space: nowrap;"><img alt="Note" src="../Reference_icon.svg" decoding="async" title="Note" width="20" height="20"></span></td>
<td style="padding: 0.35em 0.9em; width: 100%;">If you encounter any issues during the installation process, or if you have any questions, feel free to ask for help in our <a href="../en/Matrix_and_IRC.html" title="Matrix and IRC">Matrix/IRC chat</a>.</td>
</tr></tbody></table>
<ul>
<li>Check if your work drive has at least <b>10GB of free space</b>. (In case you want to use an external drive, pmbootstrap will let you set the exact location later.)</li>
<li>Make sure to <b>read your device's wiki page</b> - you can find it on the <a href="../en/Devices.html" title="Devices">Devices</a> page or by searching the wiki.
<ul><li>Keep it handy during the install process - we will be using information from it soon.</li></ul>
</li>
<li>Ensure that your device is sufficiently charged, to avoid it shutting down during the flashing process.</li>
<li>Check if your bootloader is unlocked.</li>
<li>
<b>Make sure all important data on the device is backed up</b> - see <a href="../en/Backing_up_a_non-pmOS_phone.html" title="Backing up a non-pmOS phone">Backing up a non-pmOS phone</a>.
<ul><li>Besides backing up the userdata partition, it's also worth it to have a backup of the stock system (or another working ROM) in case you'd like to revert to your previous OS.</li></ul>
</li>
</ul>
<p>To run pmbootstrap, <b>you need to be running Linux</b>. Other operating systems are not supported - while some people have succeeded at using WSL (see <a href="../en/Windows_FAQ.html" title="Windows FAQ">Windows FAQ</a>), your best option is to set up a Linux install or virtual machine.
</p>
<h3><span class="mw-headline" id="Quick_glossary">Quick glossary</span></h3>
<ul>
<li>
<b>Boot partition</b> - this refers to the /boot partition on Android devices, which contains the kernel and initramfs.</li>
<li>
<b>initramfs</b> - the initial environment loaded into RAM by the kernel. This is what mounts the partitions and prepares the system to boot, before switching to the rootfs.</li>
<li>
<b>rootfs</b> - the main system partition of postmarketOS. This is what contains all of the system and user data.</li>
</ul>
<h3><span class="mw-headline" id="About_pmbootstrap">About pmbootstrap</span></h3>
<p><a href="../en/Pmbootstrap.html" title="Pmbootstrap">pmbootstrap</a> is the postmarketOS build tool. It is used for everything from building individual packages to entire images, and has various utilities which help with the porting and installation process.
</p>
<p>It works by creating small self-contained installations (chroots) of Alpine Linux and managing all build dependencies within them. This way, you don't need to install anything manually on your host system to build images and packages; just run a few commands, and pmbootstrap will take care of everything for you.
</p>
<h2><span class="mw-headline" id="Installing_pmbootstrap">Installing pmbootstrap</span></h2>
<div class="hatnote" role="note" style="padding-left: 1.5em; margin-bottom: 0.5em; font-style: italic;"><i>See also: <a href="../en/Pmbootstrap.html#Installation" title="Pmbootstrap">pmbootstrap#Installation</a></i></div>
<p>Your distro may already have pmbootstrap available in its repositories. If it doesn't, or the packaged version is too old, you can also <a href="../en/Pmbootstrap.html#From_git" title="Pmbootstrap">install pmbootstrap from git</a>.
</p>
<p>If you've already installed pmbootstrap before, run this command to update the local clone of the pmaports repository:
</p>
<div class="mw-highlight mw-highlight-lang-shell-session mw-content-ltr" dir="ltr"><pre><span></span><span class="gp">$ </span>pmbootstrap pull
</pre></div>
<h2><span class="mw-headline" id="Initializing_pmbootstrap">Initializing pmbootstrap</span></h2>
<table role="text container" style="color: inherit; background-color: #f6efe5; border: 1px solid #ac6600; margin: 4px 0; border-collapse: collapse;"><tbody><tr>
<td style="padding: 2px 0 2px 0.9em; text-align: center;"><span style="white-space: nowrap;"><img alt="Note" src="../Reference_icon.svg" decoding="async" title="Note" width="20" height="20"></span></td>
<td style="padding: 0.35em 0.9em; width: 100%;">For a more detailed, step-by-step guide through the initialization process, see <a href="../en/Pmbootstrap.html#Initialization" title="Pmbootstrap">pmbootstrap#Initialization</a>.</td>
</tr></tbody></table>
<p>Before we can begin installing postmarketOS, we need to tell pmbootstrap what device we're using and set up some basic options. To do this, run:
</p>
<div class="mw-highlight mw-highlight-lang-shell-session mw-content-ltr" dir="ltr"><pre><span></span><span class="gp">$ </span>pmbootstrap init
</pre></div>
<p>You will be asked to answer some questions to get your environment set up, including:
</p>
<ul>
<li>Where to place the <b>work path</b> - this is where pmbootstrap will download files and set up chroots.
<ul>
<li>For most users, the default suggested location (<code>~/.local/var/pmbootstrap</code>) is fine, but you can optionally move it e.g. to an external drive if more space is needed.</li>
<li>Note that only standard Linux filesystems like ext4 are supported - NTFS, VirtualBox shared folders and various exotic filesystems will not work. You should also have about ~10GB of free space.</li>
</ul>
</li>
<li>The <b>release channel</b> to use - if you're unsure, see <a href="../en/Installation.html#Choosing_a_release_channel" title="Installation">Installation#Choosing a release channel</a>.
<ul><li>Note that only devices in the <b>main</b> and <b>community</b> categories are supported in stable releases; for devices in the <b>testing</b> category, you'll have to use <code>edge</code> instead.</li></ul>
</li>
<li>The <b>vendor</b> and <b>codename</b> of your device - these are listed on your device's wiki page.
<ul>
<li>Some devices are supported as part of "<a href="../en/Category:Generic.html" title="Category:Generic">generic ports</a>", meaning that a single port supports multiple similar devices. In some of those cases, you may need to choose the vendor and codename for the generic port instead - check the instructions on your device page if you can't find it in the device list for your vendor.</li>
<li>For some devices, you'll also be asked whether or not to install non-free firmware, if any is needed.</li>
</ul>
</li>
<li>The <b>user interface</b> to install - note that only interfaces supported by your device will be displayed. If you're unsure, see <a href="../en/Category:Interface.html" title="Category:Interface">Category:Interface</a> for a visual guide and links to individual interfaces' wiki pages.</li>
<li>The <b>username</b> and <b>hostname</b> to use on the device.</li>
<li>The <b>timezone</b> and <b>locale</b> (language) to use on the device.</li>
<li>...and a few other questions related to the build environment.</li>
</ul>
<p>For most questions, the suggested defaults are fine. The text between square brackets in the prompts shows the default option; pressing Enter/Return without typing anything will select it. For example:
</p>
<pre>Location of the 'work' path. Multiple chroots (native, device arch, device rootfs) will be created in there.
<b>Work path [/home/user/.local/var/pmbootstrap]</b>:
</pre>
<p>Pressing Enter here will set the work path to the suggested value of <code>/home/user/.local/var/pmbootstrap</code>.
</p>
<h2><span class="mw-headline" id="Choosing_the_rootfs_destination">Choosing the rootfs destination</span></h2>
<p>Before we can flash postmarketOS, we must first decide <b>where to install it</b>.
</p>
<p>In the case of Android devices, the standard Android OS is split into "system" and "data" partitions (newer devices may have a <a href="../en/Android_dynamic_partitions.html" title="Android dynamic partitions">"super" partition</a> instead of "system", and/or use <a href="../en/Android_AB_Slots.html" title="Android AB Slots">A/B slots</a>). The system partition is smaller (about 1-2GB, depending on the age of your device), but installing to it allows the user to quickly revert back to the original Android OS without losing data.
</p>
<p>However, <b>some user interfaces require more storage</b>, and you will quickly run out of space when installing new software or adding new files. Thus, the most common options for installation destinations are:
</p>
<ul>
<li>The <b>userdata partition</b> - this is the partition used by Android to store user data. <b>If you install to this partition, your Android data will be reset!</b>
</li>
<li>The <b>SD card</b> - on devices with an external storage slot, it is possible to flash the postmarketOS system image onto an SD card.</li>
</ul>
<p>Since pmbootstrap 2.0.0, the default rootfs partition (at least on devices with fastboot) is set to <code>userdata</code>.
</p>
<p>Depending on which rootfs destination you choose, the installation and flashing process will be a bit different.
</p>
<h2><span class="mw-headline" id="Generating_the_image">Generating the image</span></h2>
<p>Once pmbootstrap has been succesfully initialized, we can proceed with generating the image, which involves the <code>pmbootstrap install</code> command. This command does three things:
</p>
<ul>
<li>Builds a chroot with the full postmarketOS installation, as it will be installed onto the device</li>
<li>Asks for the user and disk encryption (if enabled) password</li>
<li>Generates an image file that will later be flashed, and for SD card installations -- flashes the generated image to the specified SD card.</li>
</ul>
<p>Depending on how you want to install postmarketOS, you may also want to append the following flags to the above command:
</p>
<ul>
<li>
<code>--fde</code>: enables <a href="../en/Full_disk_encryption.html" title="Full disk encryption">Full disk encryption</a> (FDE). (Make sure your device supports it first - there's an "FDE" column in the status table of your device's page.)</li>
<li>
<code>--sdcard=/dev/mmcblk...</code>: automatically flashes the generated image to the provided block device.</li>
<li>
<code>--android-recovery-zip</code>: generates an Android recovery ZIP. This is generally not recommended, and should only be used if other flashing methods do not work. See <a href="../en/Installation_from_recovery_mode.html" title="Installation from recovery mode">Installation from recovery mode</a> for more information.</li>
</ul>
<h3><span class="mw-headline" id="Usage_examples">Usage examples</span></h3>
<p>Choose <b>one of the following</b> depending on your usecase.
</p>
<h4><span class="mw-headline" id="Generating_a_regular_image">Generating a regular image</span></h4>
<p>Run <code>pmbootstrap install</code> without any parameters:
</p>
<div class="mw-highlight mw-highlight-lang-shell-session mw-content-ltr" dir="ltr"><pre><span></span><span class="gp">$ </span>pmbootstrap install
</pre></div>
<p>Then continue to the <a href="#Flashing">#Flashing</a> section.
</p>
<h4><span class="mw-headline" id="Installing_to_the_SD_card_or_USB_storage">Installing to the SD card or USB storage</span></h4>
<table role="text container" style="color: inherit; background-color: #fee7e6; border: 1px solid #d33; margin: 4px 0; border-collapse: collapse;"><tbody><tr>
<td style="padding: 2px 0 2px 0.9em; text-align: center;"><span style="white-space: nowrap;"><img alt="Icon" src="../Red_warning_icon.svg" decoding="async" title="Icon" width="20" height="20"></span></td>
<td style="padding: 0.35em 0.9em; width: 100%;">
<b>WARNING:</b> <b>This will overwrite all data on the SD card!</b> Make sure any important data is backed up, and double-check that you have the correct device selected.</td>
</tr></tbody></table>
<table role="text container" style="color: inherit; background-color: #f6efe5; border: 1px solid #ac6600; margin: 4px 0; border-collapse: collapse;"><tbody><tr>
<td style="padding: 2px 0 2px 0.9em; text-align: center;"><span style="white-space: nowrap;"><img alt="Note" src="../Reference_icon.svg" decoding="async" title="Note" width="20" height="20"></span></td>
<td style="padding: 0.35em 0.9em; width: 100%;">This works for any block device, including SD cards and USB drives. We will assume that an SD card is used, but these commands will work for any install target.</td>
</tr></tbody></table>
<p>First, find the path to your device using <code>lsblk</code>. SD cards will usually begin with <code>/dev/mmcblk</code>. If you're unsure, run <code>sudo fdisk -l /dev/[yourdevice]</code> - this should print information about the device, including the model, which should be enough to tell whether it's the device you're looking for.
</p>
<p>You'll need the path <b>without the partition number at the end</b> (for example, <code>/dev/mmcblk0</code>, not <code>/dev/mmcblk0p1</code>).
</p>
<p>Then, run the following command (replace <code>/dev/mmcblk...</code> with the path you got in the previous step):
</p>
<div class="mw-highlight mw-highlight-lang-shell-session mw-content-ltr" dir="ltr"><pre><span></span><span class="gp">$ </span>pmbootstrap install --disk<span class="o">=</span>/dev/mmcblk...
</pre></div>
<p>Continue to the <a href="#Flashing_the_kernel">#Flashing the kernel</a> section.
</p>
<h4>
<span id="Enabling_full_disk_encryption_.28FDE.29"></span><span class="mw-headline" id="Enabling_full_disk_encryption_(FDE)">Enabling full disk encryption (FDE)</span>
</h4>
<div class="hatnote" role="note" style="padding-left: 1.5em; margin-bottom: 0.5em; font-style: italic;"><i>See also: <a href="../en/Full_disk_encryption.html" title="Full disk encryption">Full disk encryption</a></i></div>
<p><a href="../en/Full_disk_encryption.html" title="Full disk encryption">Full disk encryption</a> allows you to encrypt the files on your device. Before you enable it, <b>make sure your device supports it</b> - there's an "FDE" column in the status table of your device's page.
</p>
<p>To enable it, add the <code>--fde</code> parameter to the <code>pmbootstrap install</code> command:
</p>
<div class="mw-highlight mw-highlight-lang-shell-session mw-content-ltr" dir="ltr"><pre><span></span><span class="gp">$ </span>pmbootstrap install --fde
</pre></div>
<p>You can also combine it with the other flags, such as <code>--disk</code>.
</p>
<h2><span class="mw-headline" id="Flashing">Flashing</span></h2>
<table role="text container" style="color: inherit; background-color: #fee7e6; border: 1px solid #d33; margin: 4px 0; border-collapse: collapse;"><tbody><tr>
<td style="padding: 2px 0 2px 0.9em; text-align: center;"><span style="white-space: nowrap;"><img alt="Icon" src="../Red_warning_icon.svg" decoding="async" title="Icon" width="20" height="20"></span></td>
<td style="padding: 0.35em 0.9em; width: 100%;">
<b>WARNING:</b> This is your last chance to <b>make sure all important data has been backed up from the device!</b>
</td>
</tr></tbody></table>
<p>Once the image has been generated, the final step is to flash it to the device. This is handled by the <code>pmbootstrap flasher</code> command, which automatically uses the correct flashing tool for your device.
</p>
<p>At this point, <b>read the Installation section in your device's wiki page</b>. The wiki page for your device might contain additional information or prerequisites for flashing (for example, some devices will require you to flash a secondary bootloader like <a href="../en/Lk2nd_lk1st.html" class="mw-redirect" title="Lk2nd">lk2nd</a> before flashing the other images).
</p>
<h3><span class="mw-headline" id="Flashing_the_rootfs">Flashing the rootfs</span></h3>
<table role="text container" style="color: inherit; background-color: #f6efe5; border: 1px solid #ac6600; margin: 4px 0; border-collapse: collapse;"><tbody><tr>
<td style="padding: 2px 0 2px 0.9em; text-align: center;"><span style="white-space: nowrap;"><img alt="Note" src="../Reference_icon.svg" decoding="async" title="Note" width="20" height="20"></span></td>
<td style="padding: 0.35em 0.9em; width: 100%;">If you chose an SD card/USB install, and used the <code>--disk</code> flag, you can skip this step.</td>
</tr></tbody></table>
<p>Boot your device into its dedicated download/flashing mode; the exact steps differ depending on the device, but usually involve holding down a button combination while booting up the phone, or running <code>adb reboot bootloader</code>. Check your device's wiki page for instructions.
</p>
<p>Then, run the following command:
</p>
<div class="mw-highlight mw-highlight-lang-shell-session mw-content-ltr" dir="ltr"><pre><span></span><span class="gp">$ </span>pmbootstrap flasher flash_rootfs
</pre></div>
<p>To specify the partition to flash the rootfs to, use the <code>--partition</code> parameter:
</p>
<div class="mw-highlight mw-highlight-lang-shell-session mw-content-ltr" dir="ltr"><pre><span></span><span class="gp">$ </span>pmbootstrap flasher flash_rootfs --partition<span class="o">=</span>userdata
</pre></div>
<h3><span class="mw-headline" id="Flashing_the_kernel">Flashing the kernel</span></h3>
<p>Boot your device into its dedicated download/flashing mode; check your device's wiki page for instructions.
</p>
<p>Then, run the following command:
</p>
<div style="margin: 0" class="mw-highlight mw-highlight-lang-shell-session mw-content-ltr" dir="ltr"><pre><span></span><span class="gp">$ </span>pmbootstrap flasher flash_kernel
</pre></div>
<table role="text container" style="color: inherit; background-color: #f6efe5; border: 1px solid #ac6600; margin: 4px 0; border-collapse: collapse;"><tbody><tr>
<td style="padding: 2px 0 2px 0.9em; text-align: center;"><span style="white-space: nowrap;"><img alt="Note" src="../Reference_icon.svg" decoding="async" title="Note" width="20" height="20"></span></td>
<td style="padding: 0.35em 0.9em; width: 100%;">
<b>If your device uses fastboot</b>, to reboot your device after flashing, run <code>pmbootstrap chroot fastboot reboot</code>. Using this command, rather than manually shutting down your device, ensures that writing finishes correctly.</td>
</tr></tbody></table>
<h2><span class="mw-headline" id="Finishing_up">Finishing up</span></h2>
<p>Once you've flashed all of the relevant images, reboot the device. If you did everything correctly, you should be presented with the login screen of your interface of choice. Use the credentials you set up during the installation step to log in.
</p>
<p>If all goes correctly, <b>you should now be running postmarketOS!</b> Enjoy!
</p>
<h3><span class="mw-headline" id="What_to_do_with_your_newly-flashed_device">What to do with your newly-flashed device</span></h3>
<ul>
<li>Find apps to install by looking at the <a href="../en/Applications_by_category.html" title="Applications by category">Applications by category</a> page</li>
<li>Take a picture of your setup on social media and share it with <a href="../en/Category:Community.html" title="Category:Community">our community</a>!</li>
</ul>
<p>You can gather more ideas by checking out the <a href="../en/Category:Dogfooding.html" title="Category:Dogfooding">Dogfooding category</a>.
</p>
<h2><span class="mw-headline" id="Troubleshooting">Troubleshooting</span></h2>
<div class="hatnote" role="note" style="padding-left: 1.5em; margin-bottom: 0.5em; font-style: italic;"><i>See also: <a href="../en/Troubleshooting.html" title="Troubleshooting">Troubleshooting</a></i></div>
<p>Some solutions to common problems are described in this section; for more specific troubleshooting steps, see the <a href="../en/Troubleshooting.html" title="Troubleshooting">Troubleshooting</a> article.
</p>
<h3><span class="mw-headline" id="General_troubleshooting_steps">General troubleshooting steps</span></h3>
<ul>
<li>Run <code>pmbootstrap status</code> and make sure everything is up-to-date. If not, run <code>pmbootstrap pull</code> to update the local clone of the pmaports repository.</li>
<li>Check <code>pmbootstrap log</code> (you may need to open the log file if it cuts off too early). This way, you will be able to see the exact errors you're encountering.</li>
<li>If all else fails, try running <code>pmbootstrap zap</code> (answer "y" to all questions).</li>
</ul>
<h3><span class="mw-headline" id="Newer_version_in_binary_package_repositories_than_in_aports_folder">Newer version in binary package repositories than in aports folder</span></h3>
<p>If you have used pmbootstrap before, you may encounter a warning like <code>Package 'package' in your aports folder has version X, but the binary package repositories already have version Y. Y will be used when installing package</code>.
</p>
<p>Unless you have modified something in the packages, <b>this message is generally harmless</b>, as the latest package will be pulled anyways. In most cases, you can fix it by running <code>pmbootstrap pull</code>, which will update the local copy of the pmaports repository; sometimes, you may also need to run <code>pmbootstrap zap -m</code>.
</p>
<h3>
<span id=".22ERROR:_Could_not_find_dependency....22_or_.22ERROR:_Could_not_find_aport....22"></span><span class="mw-headline" id='"ERROR:_Could_not_find_dependency..."_or_"ERROR:_Could_not_find_aport..."'>"ERROR: Could not find dependency..." or "ERROR: Could not find aport..."</span>
</h3>
<p>This error may sometimes happen on the "edge" branch, usually when some large package was bumped and its dependencies are still getting rebuilt, or when cross-compilation package versions become out of sync. Usually this will be resolved after a while, so <b>wait a day or two and try again</b>.
</p>
<p>In case the issue persists, try running <code>pmbootstrap zap -hc</code>.
</p>
<h3>
<span id="Flasher_is_stuck_on_.22waiting_for_device.22.2C_does_not_see_any_devices_or_reports_.22permission_denied.22_errors"></span><span class="mw-headline" id='Flasher_is_stuck_on_"waiting_for_device",_does_not_see_any_devices_or_reports_"permission_denied"_errors'>Flasher is stuck on "waiting for device", does not see any devices or reports "permission denied" errors</span>
</h3>
<ul>
<li>Make sure your device is booted into its dedicated fastboot/download mode.</li>
<li>Try a different cable.</li>
<li>If the issue persists, you may need to install udev rules that will allow you to access USB devices as a regular user - see <a href="../en/Troubleshooting.html#flasher_(fastboot)_is_stuck_in_&lt;_waiting_for_any_device_&gt;" title="Troubleshooting">Troubleshooting#flasher (fastboot) is stuck in &lt; waiting for any device &gt;</a>.</li>
<li>If flashing still doesn't work, you can either:
<ul>
<li>Export the image using <code>pmbootstrap export</code> and flash the generated files manually, using the flash tool of your choice, or;</li>
<li>Try <a href="../en/Installation_from_recovery_mode.html" title="Installation from recovery mode">Installation from recovery mode</a>.</li>
</ul>
</li>
</ul>
</div>
</div>
					<div id="catlinks" class="catlinks catlinks-allhidden" data-mw="interface"></div>
				</div>
			</main>
			
		</div>
		<div class="mw-footer-container">
			
<footer id="footer" class="mw-footer" role="contentinfo" style="margin: 0">
	<ul id="footer-info">
	<li data-nosnippet="">Retrieved from "<a dir="ltr" href="https://wiki.postmarketos.org/index.php?title=Installation/Using_pmbootstrap&amp;oldid=55934">https://wiki.postmarketos.org/index.php?title=Installation/Using_pmbootstrap&amp;oldid=55934</a>"</li>
<li id="footer-info-lastmod"> This page was last edited on 15 February 2024, at 16:01.</li>
	<li id="footer-info-copyright">Content is available under <a class="external" rel="nofollow" href="https://creativecommons.org/licenses/by-sa/4.0/">Creative Commons Attribution-ShareAlike</a> unless otherwise noted.</li>
<br>
</ul>

	<ul id="footer-places">
	<li id="footer-places-privacy"><a href="../en/PostmarketOS:Privacy_policy.html">Privacy policy</a></li>
	<li id="footer-places-about"><a href="../en/About_postmarketOS.html">About postmarketOS</a></li>
	<li id="footer-places-disclaimer"><a href="../en/PostmarketOS:General_disclaimer.html">Disclaimers</a></li>
</ul>

	<ul id="footer-icons" class="noprint">
	<li id="footer-copyrightico"><a href="https://creativecommons.org/licenses/by-sa/4.0/"><img src="../cc-by-sa.png" alt="Creative Commons Attribution-ShareAlike" width="88" height="31" loading="lazy"></a></li>
	<li id="footer-poweredbyico"><a href="https://www.mediawiki.org/"><img src="../poweredby_mediawiki_88x31.png" alt="Powered by MediaWiki" srcset="" width="88" height="31" loading="lazy"></a></li>
</ul>

</footer>

		</div>
	</div> 
</div> 

</body>
</html>
