<!DOCTYPE html>
<html class="client-nojs vector-feature-language-in-header-enabled vector-feature-language-in-main-page-header-disabled vector-feature-sticky-header-disabled vector-feature-page-tools-pinned-disabled vector-feature-toc-pinned-clientpref-1 vector-feature-main-menu-pinned-disabled vector-feature-limited-width-clientpref-1 vector-feature-limited-width-content-enabled vector-feature-custom-font-size-clientpref-0 vector-feature-appearance-pinned-clientpref-1 vector-feature-night-mode-disabled skin-theme-clientpref-day vector-toc-available" lang="en" dir="ltr">
<head>
<meta charset="UTF-8">
<title>pmbootstrap/Troubleshooting - postmarketOS Wiki</title>
<link rel="stylesheet" href="../PostmarketOSWikiOffline.css">
<meta name="ResourceLoaderDynamicStyles" content="">
<meta name="generator" content="MediaWiki 1.43.0">
<meta name="robots" content="max-image-preview:standard">
<meta name="format-detection" content="telephone=no">
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes, minimum-scale=0.25, maximum-scale=5.0">
<link rel="search" type="application/opensearchdescription+xml" href="/rest.php/v1/search" title="postmarketOS Wiki (en)">
<link rel="EditURI" type="application/rsd+xml" href="https://wiki.postmarketos.org/api.php?action=rsd">
<link rel="license" href="https://creativecommons.org/licenses/by-sa/4.0/">
<link rel="alternate" type="application/atom+xml" title="postmarketOS Wiki Atom feed" href="/index.php?title=Special:RecentChanges&amp;feed=atom">
</head>
<body class="skin--responsive skin-vector skin-vector-search-vue mediawiki ltr sitedir-ltr mw-hide-empty-elt ns-0 ns-subject page-Pmbootstrap_Troubleshooting rootpage-Pmbootstrap_Troubleshooting skin-vector-2022 action-view">
<a class="mw-jump-link" href="#bodyContent">Jump to content</a>
<div class="vector-header-container">
	<header class="vector-header mw-header">
		<div class="vector-header-start">
			<nav class="vector-main-menu-landmark" aria-label="Site">
				
<div id="vector-main-menu-dropdown" class="vector-dropdown vector-main-menu-dropdown vector-button-flush-left vector-button-flush-right">
	<input type="checkbox" id="vector-main-menu-dropdown-checkbox" role="button" aria-haspopup="true" data-event-name="ui.dropdown-vector-main-menu-dropdown" class="vector-dropdown-checkbox " aria-label="Main menu">
	<label id="vector-main-menu-dropdown-label" for="vector-main-menu-dropdown-checkbox" class="vector-dropdown-label cdx-button cdx-button--fake-button cdx-button--fake-button--enabled cdx-button--weight-quiet cdx-button--icon-only " aria-hidden="true"><span class="vector-icon mw-ui-icon-menu mw-ui-icon-wikimedia-menu"></span>

<span class="vector-dropdown-label-text">Main menu</span>
	</label>
	<div class="vector-dropdown-content">


				<div id="vector-main-menu-unpinned-container" class="vector-unpinned-container">
		
<div id="vector-main-menu" class="vector-main-menu vector-pinnable-element">
	<div class="vector-pinnable-header vector-main-menu-pinnable-header vector-pinnable-header-unpinned" data-feature-name="main-menu-pinned" data-pinnable-element-id="vector-main-menu" data-pinned-container-id="vector-main-menu-pinned-container" data-unpinned-container-id="vector-main-menu-unpinned-container">
	<div class="vector-pinnable-header-label">Main menu</div>
	<button class="vector-pinnable-header-toggle-button vector-pinnable-header-pin-button" data-event-name="pinnable-header.vector-main-menu.pin">move to sidebar</button>
	<button class="vector-pinnable-header-toggle-button vector-pinnable-header-unpin-button" data-event-name="pinnable-header.vector-main-menu.unpin">hide</button>
</div>

	
<div id="p-navigation" class="vector-menu mw-portlet mw-portlet-navigation">
	<div class="vector-menu-heading">
		Navigation
	</div>
	<div class="vector-menu-content">
		
		<ul class="vector-menu-content-list">
			
			<li id="n-mainpage-description" class="mw-list-item"><a href="../en/Main_Page.html" title="Visit the main page [z]" accesskey="z"><span>Main page</span></a></li>
<li id="n-Devices" class="mw-list-item"><a href="../en/Devices.html"><span>Devices</span></a></li>
		</ul>
		
	</div>
</div>

	
	
</div>

				</div>

	</div>
</div>

		</nav>
			
<a href="../en/Main_Page.html" class="mw-logo">
	<img class="mw-logo-icon" src="/logo_50x50.svg" alt="" aria-hidden="true" height="50" width="50">
	<span class="mw-logo-container skin-invert">
		<strong class="mw-logo-wordmark">postmarketOS Wiki</strong>
	</span>
</a>

		</div>
		<div class="vector-header-end">
			
<div id="p-search" role="search" class="vector-search-box-vue  vector-search-box-collapses vector-search-box-show-thumbnail vector-search-box-auto-expand-width vector-search-box">
	<a href="../Special:Search.html" class="cdx-button cdx-button--fake-button cdx-button--fake-button--enabled cdx-button--weight-quiet cdx-button--icon-only search-toggle" title="Search postmarketOS Wiki [f]" accesskey="f"><span class="vector-icon mw-ui-icon-search mw-ui-icon-wikimedia-search"></span>

<span>Search</span>
	</a>
	<div class="vector-typeahead-search-container">
		<div class="cdx-typeahead-search cdx-typeahead-search--show-thumbnail cdx-typeahead-search--auto-expand-width">
			<form action="/index.php" id="searchform" class="cdx-search-input cdx-search-input--has-end-button">
				<div id="simpleSearch" class="cdx-search-input__input-wrapper" data-search-loc="header-moved">
					<div class="cdx-text-input cdx-text-input--has-start-icon">
						<input class="cdx-text-input__input" type="search" name="search" placeholder="Search postmarketOS Wiki" aria-label="Search postmarketOS Wiki" autocapitalize="sentences" title="Search postmarketOS Wiki [f]" accesskey="f" id="searchInput">
						<span class="cdx-text-input__icon cdx-text-input__start-icon"></span>
					</div>
					<input type="hidden" name="title" value="Special:Search">
				</div>
				<button class="cdx-button cdx-search-input__end-button">Search</button>
			</form>
		</div>
	</div>
</div>

			<nav class="vector-user-links vector-user-links-wide" aria-label="Personal tools">
	<div class="vector-user-links-main">
	
<div id="p-vector-user-menu-preferences" class="vector-menu mw-portlet emptyPortlet">
	<div class="vector-menu-content">
		
		<ul class="vector-menu-content-list">
			
			
		</ul>
		
	</div>
</div>

	
<div id="p-vector-user-menu-userpage" class="vector-menu mw-portlet emptyPortlet">
	<div class="vector-menu-content">
		
		<ul class="vector-menu-content-list">
			
			
		</ul>
		
	</div>
</div>

	<nav class="vector-appearance-landmark" aria-label="Appearance">
		
<div id="vector-appearance-dropdown" class="vector-dropdown " title="Change the appearance of the page's font size, width, and color">
	<input type="checkbox" id="vector-appearance-dropdown-checkbox" role="button" aria-haspopup="true" data-event-name="ui.dropdown-vector-appearance-dropdown" class="vector-dropdown-checkbox " aria-label="Appearance">
	<label id="vector-appearance-dropdown-label" for="vector-appearance-dropdown-checkbox" class="vector-dropdown-label cdx-button cdx-button--fake-button cdx-button--fake-button--enabled cdx-button--weight-quiet cdx-button--icon-only " aria-hidden="true"><span class="vector-icon mw-ui-icon-appearance mw-ui-icon-wikimedia-appearance"></span>

<span class="vector-dropdown-label-text">Appearance</span>
	</label>
	<div class="vector-dropdown-content">


			<div id="vector-appearance-unpinned-container" class="vector-unpinned-container">
				
			</div>
		
	</div>
</div>

	</nav>
	
<div id="p-vector-user-menu-notifications" class="vector-menu mw-portlet emptyPortlet">
	<div class="vector-menu-content">
		
		<ul class="vector-menu-content-list">
			
			
		</ul>
		
	</div>
</div>

	
<div id="p-vector-user-menu-overflow" class="vector-menu mw-portlet">
	<div class="vector-menu-content">
		
		<ul class="vector-menu-content-list">
			<li id="pt-login-2" class="user-links-collapsible-item mw-list-item user-links-collapsible-item">
<a data-mw="interface" href="/index.php?title=Special:UserLogin&amp;returnto=Pmbootstrap%2FTroubleshooting" title="You are encouraged to log in; however, it is not mandatory [o]" accesskey="o" class=""><span>Log in</span></a>
</li>
<li id="pt-createaccount-2" class="user-links-collapsible-item mw-list-item user-links-collapsible-item">
<a data-mw="interface" href="../Special:RequestAccount.html" title="You are encouraged to create an account and log in; however, it is not mandatory" class=""><span>Request account</span></a>
</li>

			
		</ul>
		
	</div>
</div>

	</div>
	
<div id="vector-user-links-dropdown" class="vector-dropdown vector-user-menu vector-button-flush-right vector-user-menu-logged-out user-links-collapsible-item" title="More options">
	<input type="checkbox" id="vector-user-links-dropdown-checkbox" role="button" aria-haspopup="true" data-event-name="ui.dropdown-vector-user-links-dropdown" class="vector-dropdown-checkbox " aria-label="Personal tools">
	<label id="vector-user-links-dropdown-label" for="vector-user-links-dropdown-checkbox" class="vector-dropdown-label cdx-button cdx-button--fake-button cdx-button--fake-button--enabled cdx-button--weight-quiet cdx-button--icon-only " aria-hidden="true"><span class="vector-icon mw-ui-icon-ellipsis mw-ui-icon-wikimedia-ellipsis"></span>

<span class="vector-dropdown-label-text">Personal tools</span>
	</label>
	<div class="vector-dropdown-content">


		
<div id="p-personal" class="vector-menu mw-portlet mw-portlet-personal user-links-collapsible-item" title="User menu">
	<div class="vector-menu-content">
		
		<ul class="vector-menu-content-list">
			
			<li id="pt-login" class="user-links-collapsible-item mw-list-item"><a href="/index.php?title=Special:UserLogin&amp;returnto=Pmbootstrap%2FTroubleshooting" title="You are encouraged to log in; however, it is not mandatory [o]" accesskey="o"><span class="vector-icon mw-ui-icon-logIn mw-ui-icon-wikimedia-logIn"></span> <span>Log in</span></a></li>
<li id="pt-createaccount" class="user-links-collapsible-item mw-list-item"><a href="../Special:RequestAccount.html" title="You are encouraged to create an account and log in; however, it is not mandatory"><span>Request account</span></a></li>
		</ul>
		
	</div>
</div>

	
	</div>
</div>

</nav>

		</div>
	</header>
</div>
<div class="mw-page-container">
	<div class="mw-page-container-inner">
		<div class="vector-sitenotice-container">
			<div id="siteNotice"></div>
		</div>
		<div class="vector-column-start">
			<div class="vector-main-menu-container">
		</div>
	<div class="vector-sticky-pinned-container">
				<nav id="mw-panel-toc" aria-label="Contents" data-event-name="ui.sidebar-toc" class="mw-table-of-contents-container vector-toc-landmark">
					<div id="vector-toc-pinned-container" class="vector-pinned-container">
					<div id="vector-toc" class="vector-toc vector-pinnable-element">
	<div class="vector-pinnable-header vector-toc-pinnable-header vector-pinnable-header-pinned" data-feature-name="toc-pinned" data-pinnable-element-id="vector-toc">
	<h2 class="vector-pinnable-header-label">Contents</h2>
	<button class="vector-pinnable-header-toggle-button vector-pinnable-header-pin-button" data-event-name="pinnable-header.vector-toc.pin">move to sidebar</button>
	<button class="vector-pinnable-header-toggle-button vector-pinnable-header-unpin-button" data-event-name="pinnable-header.vector-toc.unpin">hide</button>
</div>


	<ul class="vector-toc-contents" id="mw-panel-toc-list">
		<li id="toc-mw-content-text" class="vector-toc-list-item vector-toc-level-1">
			<a href="#" class="vector-toc-link">
				<div class="vector-toc-text">Beginning</div>
			</a>
		</li>
		<li id="toc-Things_to_check_first" class="vector-toc-list-item vector-toc-level-1">
		<a class="vector-toc-link" href="#Things_to_check_first">
			<div class="vector-toc-text">
				<span class="vector-toc-numb">1</span>
				<span>Things to check first</span>
			</div>
		</a>
		
			<button aria-controls="toc-Things_to_check_first-sublist" class="cdx-button cdx-button--weight-quiet cdx-button--icon-only vector-toc-toggle">
				<span class="vector-icon mw-ui-icon-wikimedia-expand"></span>
				<span>Toggle Things to check first subsection</span>
			</button>
		
		<ul id="toc-Things_to_check_first-sublist" class="vector-toc-list">
			<li id="toc-Clearing_the_cache_and_zapping_chroots" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Clearing_the_cache_and_zapping_chroots">
				<div class="vector-toc-text">
					<span class="vector-toc-numb">1.1</span>
					<span>Clearing the cache and zapping chroots</span>
				</div>
			</a>
			
			<ul id="toc-Clearing_the_cache_and_zapping_chroots-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Getting_logs" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Getting_logs">
				<div class="vector-toc-text">
					<span class="vector-toc-numb">1.2</span>
					<span>Getting logs</span>
				</div>
			</a>
			
			<ul id="toc-Getting_logs-sublist" class="vector-toc-list">
			</ul>
		</li>
	</ul>
	</li>
	<li id="toc-Compatibility_issues_with_host_system" class="vector-toc-list-item vector-toc-level-1">
		<a class="vector-toc-link" href="#Compatibility_issues_with_host_system">
			<div class="vector-toc-text">
				<span class="vector-toc-numb">2</span>
				<span>Compatibility issues with host system</span>
			</div>
		</a>
		
			<button aria-controls="toc-Compatibility_issues_with_host_system-sublist" class="cdx-button cdx-button--weight-quiet cdx-button--icon-only vector-toc-toggle">
				<span class="vector-icon mw-ui-icon-wikimedia-expand"></span>
				<span>Toggle Compatibility issues with host system subsection</span>
			</button>
		
		<ul id="toc-Compatibility_issues_with_host_system-sublist" class="vector-toc-list">
			<li id="toc-Running_pmbootstrap_on_non-x86_64_architectures" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Running_pmbootstrap_on_non-x86_64_architectures">
				<div class="vector-toc-text">
					<span class="vector-toc-numb">2.1</span>
					<span>Running pmbootstrap on non-x86_64 architectures</span>
				</div>
			</a>
			
			<ul id="toc-Running_pmbootstrap_on_non-x86_64_architectures-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Using_pmbootstrap_behind_a_proxy" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Using_pmbootstrap_behind_a_proxy">
				<div class="vector-toc-text">
					<span class="vector-toc-numb">2.2</span>
					<span>Using pmbootstrap behind a proxy</span>
				</div>
			</a>
			
			<ul id="toc-Using_pmbootstrap_behind_a_proxy-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-sh:_can't_create_/proc/sys/fs/binfmt_misc/register:_nonexistent_directory" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#sh:_can't_create_/proc/sys/fs/binfmt_misc/register:_nonexistent_directory">
				<div class="vector-toc-text">
					<span class="vector-toc-numb">2.3</span>
					<span>sh: can't create /proc/sys/fs/binfmt_misc/register: nonexistent directory</span>
				</div>
			</a>
			
			<ul id="toc-sh:_can't_create_/proc/sys/fs/binfmt_misc/register:_nonexistent_directory-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Errors_with_grsec-based_kernel_on_the_host_system" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Errors_with_grsec-based_kernel_on_the_host_system">
				<div class="vector-toc-text">
					<span class="vector-toc-numb">2.4</span>
					<span>Errors with grsec-based kernel on the host system</span>
				</div>
			</a>
			
			<ul id="toc-Errors_with_grsec-based_kernel_on_the_host_system-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Errors_with_ecryptfs" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Errors_with_ecryptfs">
				<div class="vector-toc-text">
					<span class="vector-toc-numb">2.5</span>
					<span>Errors with ecryptfs</span>
				</div>
			</a>
			
			<ul id="toc-Errors_with_ecryptfs-sublist" class="vector-toc-list">
			</ul>
		</li>
	</ul>
	</li>
	<li id="toc-Specific_issues" class="vector-toc-list-item vector-toc-level-1">
		<a class="vector-toc-link" href="#Specific_issues">
			<div class="vector-toc-text">
				<span class="vector-toc-numb">3</span>
				<span>Specific issues</span>
			</div>
		</a>
		
			<button aria-controls="toc-Specific_issues-sublist" class="cdx-button cdx-button--weight-quiet cdx-button--icon-only vector-toc-toggle">
				<span class="vector-icon mw-ui-icon-wikimedia-expand"></span>
				<span>Toggle Specific issues subsection</span>
			</button>
		
		<ul id="toc-Specific_issues-sublist" class="vector-toc-list">
			<li id="toc-ERROR:_This_device_does_not_exist_anymore,_check_&lt;https://postmarketos.org/renamed&gt;_to_see_if_it_was_renamed" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#ERROR:_This_device_does_not_exist_anymore,_check_&lt;https://postmarketos.org/renamed&gt;_to_see_if_it_was_renamed">
				<div class="vector-toc-text">
					<span class="vector-toc-numb">3.1</span>
					<span>ERROR: This device does not exist anymore, check &lt;https://postmarketos.org/renamed&gt; to see if it was renamed</span>
				</div>
			</a>
			
			<ul id="toc-ERROR:_This_device_does_not_exist_anymore,_check_&lt;https://postmarketos.org/renamed&gt;_to_see_if_it_was_renamed-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id='toc-"1_error;_XXXX_MiB_in_XXX_packages"_but_no_visible_error,_"Command_failed_(exit_code_1):_apk_add_..."' class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#%221_error;_XXXX_MiB_in_XXX_packages%22_but_no_visible_error,_%22Command_failed_(exit_code_1):_apk_add_...%22">
				<div class="vector-toc-text">
					<span class="vector-toc-numb">3.2</span>
					<span>"1 error; XXXX MiB in XXX packages" but no visible error, "Command failed (exit code 1): apk add ..."</span>
				</div>
			</a>
			
			<ul id='toc-"1_error;_XXXX_MiB_in_XXX_packages"_but_no_visible_error,_"Command_failed_(exit_code_1):_apk_add_..."-sublist' class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-WARNING:_No_provider_for_dependency..." class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#WARNING:_No_provider_for_dependency...">
				<div class="vector-toc-text">
					<span class="vector-toc-numb">3.3</span>
					<span>WARNING: No provider for dependency...</span>
				</div>
			</a>
			
			<ul id="toc-WARNING:_No_provider_for_dependency...-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-ERROR:_/mnt/pmbootstrap-packages/x86_64/qemu-user-static-repack-2.8-r6.apk:_UNTRUSTED_signature" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#ERROR:_/mnt/pmbootstrap-packages/x86_64/qemu-user-static-repack-2.8-r6.apk:_UNTRUSTED_signature">
				<div class="vector-toc-text">
					<span class="vector-toc-numb">3.4</span>
					<span>ERROR: /mnt/pmbootstrap-packages/x86_64/qemu-user-static-repack-2.8-r6.apk: UNTRUSTED signature</span>
				</div>
			</a>
			
			<ul id="toc-ERROR:_/mnt/pmbootstrap-packages/x86_64/qemu-user-static-repack-2.8-r6.apk:_UNTRUSTED_signature-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-APK_package_index_(APKINDEX.tar.gz)_is_missing_required_key" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#APK_package_index_(APKINDEX.tar.gz)_is_missing_required_key">
				<div class="vector-toc-text">
					<span class="vector-toc-numb">3.5</span>
					<span>APK package index (<i>APKINDEX.tar.gz</i>) is missing required key</span>
				</div>
			</a>
			
			<ul id="toc-APK_package_index_(APKINDEX.tar.gz)_is_missing_required_key-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Installed_version_newer_than_the_version_in_the_repositories" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Installed_version_newer_than_the_version_in_the_repositories">
				<div class="vector-toc-text">
					<span class="vector-toc-numb">3.6</span>
					<span>Installed version newer than the version in the repositories</span>
				</div>
			</a>
			
			<ul id="toc-Installed_version_newer_than_the_version_in_the_repositories-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Newer_version_in_binary_package_repositories_than_in_aports_folder" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Newer_version_in_binary_package_repositories_than_in_aports_folder">
				<div class="vector-toc-text">
					<span class="vector-toc-numb">3.7</span>
					<span>Newer version in binary package repositories than in aports folder</span>
				</div>
			</a>
			
			<ul id="toc-Newer_version_in_binary_package_repositories_than_in_aports_folder-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Permission_denied:_.../pmbootstrap/work/chroot_native/proc/1/cwd'" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Permission_denied:_.../pmbootstrap/work/chroot_native/proc/1/cwd'">
				<div class="vector-toc-text">
					<span class="vector-toc-numb">3.8</span>
					<span>Permission denied: .../pmbootstrap/work/chroot_native/proc/1/cwd'</span>
				</div>
			</a>
			
			<ul id="toc-Permission_denied:_.../pmbootstrap/work/chroot_native/proc/1/cwd'-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-can't_create_/dev/null:_Permission_denied" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#can't_create_/dev/null:_Permission_denied">
				<div class="vector-toc-text">
					<span class="vector-toc-numb">3.9</span>
					<span>can't create /dev/null: Permission denied</span>
				</div>
			</a>
			
			<ul id="toc-can't_create_/dev/null:_Permission_denied-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-cp:_write_error:_No_space_left_on_device_(during_file_transfer_from_chrooted_environment_to_target_image)" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#cp:_write_error:_No_space_left_on_device_(during_file_transfer_from_chrooted_environment_to_target_image)">
				<div class="vector-toc-text">
					<span class="vector-toc-numb">3.10</span>
					<span>cp: write error: No space left on device (during file transfer from chrooted environment to target image)</span>
				</div>
			</a>
			
			<ul id="toc-cp:_write_error:_No_space_left_on_device_(during_file_transfer_from_chrooted_environment_to_target_image)-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id='toc-Cannot_download_packages_from_mirrors:_"temporary_error_(try_again_later)"' class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Cannot_download_packages_from_mirrors:_%22temporary_error_(try_again_later)%22">
				<div class="vector-toc-text">
					<span class="vector-toc-numb">3.11</span>
					<span>Cannot download packages from mirrors: "temporary error (try again later)"</span>
				</div>
			</a>
			
			<ul id='toc-Cannot_download_packages_from_mirrors:_"temporary_error_(try_again_later)"-sublist' class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-ERROR:_..._BAD_archive" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#ERROR:_..._BAD_archive">
				<div class="vector-toc-text">
					<span class="vector-toc-numb">3.12</span>
					<span>ERROR: ... BAD archive</span>
				</div>
			</a>
			
			<ul id="toc-ERROR:_..._BAD_archive-sublist" class="vector-toc-list">
			</ul>
		</li>
	</ul>
	</li>
	<li id="toc-Build_errors" class="vector-toc-list-item vector-toc-level-1">
		<a class="vector-toc-link" href="#Build_errors">
			<div class="vector-toc-text">
				<span class="vector-toc-numb">4</span>
				<span>Build errors</span>
			</div>
		</a>
		
			<button aria-controls="toc-Build_errors-sublist" class="cdx-button cdx-button--weight-quiet cdx-button--icon-only vector-toc-toggle">
				<span class="vector-icon mw-ui-icon-wikimedia-expand"></span>
				<span>Toggle Build errors subsection</span>
			</button>
		
		<ul id="toc-Build_errors-sublist" class="vector-toc-list">
			<li id="toc-It's_not_installing_my_changed_package" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#It's_not_installing_my_changed_package">
				<div class="vector-toc-text">
					<span class="vector-toc-numb">4.1</span>
					<span>It's not installing my changed package</span>
				</div>
			</a>
			
			<ul id="toc-It's_not_installing_my_changed_package-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-musl-*/busybox-static-*_fails_to_build_with_a_404_error" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#musl-*/busybox-static-*_fails_to_build_with_a_404_error">
				<div class="vector-toc-text">
					<span class="vector-toc-numb">4.2</span>
					<span>musl-*/busybox-static-* fails to build with a 404 error</span>
				</div>
			</a>
			
			<ul id="toc-musl-*/busybox-static-*_fails_to_build_with_a_404_error-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-boot-deploy_exits_with_ERROR:_&quot;deviceinfo_header_version_is_2,_but_'deviceinfo_dtb'_is_missing._Set_'deviceinfo_dtb'&quot;_when_compiling_downstream_kernel" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#boot-deploy_exits_with_ERROR:_%22deviceinfo_header_version_is_2,_but_'deviceinfo_dtb'_is_missing._Set_'deviceinfo_dtb'%22_when_compiling_downstream_kernel">
				<div class="vector-toc-text">
					<span class="vector-toc-numb">4.3</span>
					<span>boot-deploy exits with ERROR: "deviceinfo_header_version is 2, but 'deviceinfo_dtb' is missing. Set 'deviceinfo_dtb'" when compiling downstream kernel</span>
				</div>
			</a>
			
			<ul id="toc-boot-deploy_exits_with_ERROR:_&quot;deviceinfo_header_version_is_2,_but_'deviceinfo_dtb'_is_missing._Set_'deviceinfo_dtb'&quot;_when_compiling_downstream_kernel-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-BusyBox_does_something_different_than_the_standard_tool_for_the_job,_and_this_breaks_building_my_package!" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#BusyBox_does_something_different_than_the_standard_tool_for_the_job,_and_this_breaks_building_my_package!">
				<div class="vector-toc-text">
					<span class="vector-toc-numb">4.4</span>
					<span>BusyBox does something different than the standard tool for the job, and this breaks building my package!</span>
				</div>
			</a>
			
			<ul id="toc-BusyBox_does_something_different_than_the_standard_tool_for_the_job,_and_this_breaks_building_my_package!-sublist" class="vector-toc-list">
			</ul>
		</li>
	</ul>
	</li>
	<li id="toc-Kernel_building_issues" class="vector-toc-list-item vector-toc-level-1">
		<a class="vector-toc-link" href="#Kernel_building_issues">
			<div class="vector-toc-text">
				<span class="vector-toc-numb">5</span>
				<span>Kernel building issues</span>
			</div>
		</a>
		
			<button aria-controls="toc-Kernel_building_issues-sublist" class="cdx-button cdx-button--weight-quiet cdx-button--icon-only vector-toc-toggle">
				<span class="vector-icon mw-ui-icon-wikimedia-expand"></span>
				<span>Toggle Kernel building issues subsection</span>
			</button>
		
		<ul id="toc-Kernel_building_issues-sublist" class="vector-toc-list">
			<li id="toc-mkbootimg:_error:_argument_--dt:_can't_open_'/boot/dt.img'" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#mkbootimg:_error:_argument_--dt:_can't_open_'/boot/dt.img'">
				<div class="vector-toc-text">
					<span class="vector-toc-numb">5.1</span>
					<span>mkbootimg: error: argument --dt: can't open '/boot/dt.img'</span>
				</div>
			</a>
			
			<ul id="toc-mkbootimg:_error:_argument_--dt:_can't_open_'/boot/dt.img'-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Packaging_for_aarch64:_./config.guess:_unable_to_guess_system_type" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Packaging_for_aarch64:_./config.guess:_unable_to_guess_system_type">
				<div class="vector-toc-text">
					<span class="vector-toc-numb">5.2</span>
					<span>Packaging for aarch64: ./config.guess: unable to guess system type</span>
				</div>
			</a>
			
			<ul id="toc-Packaging_for_aarch64:_./config.guess:_unable_to_guess_system_type-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id='toc-"ERROR:_Is_$builddir_set_correctly?"_for_linux-*_package' class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#%22ERROR:_Is_%24builddir_set_correctly?%22_for_linux-*_package">
				<div class="vector-toc-text">
					<span class="vector-toc-numb">5.3</span>
					<span>"ERROR: Is $builddir set correctly?" for linux-* package</span>
				</div>
			</a>
			
			<ul id='toc-"ERROR:_Is_$builddir_set_correctly?"_for_linux-*_package-sublist' class="vector-toc-list">
			</ul>
		</li>
	</ul>
	</li>
	<li id="toc-Flashing_problems" class="vector-toc-list-item vector-toc-level-1">
		<a class="vector-toc-link" href="#Flashing_problems">
			<div class="vector-toc-text">
				<span class="vector-toc-numb">6</span>
				<span>Flashing problems</span>
			</div>
		</a>
		
			<button aria-controls="toc-Flashing_problems-sublist" class="cdx-button cdx-button--weight-quiet cdx-button--icon-only vector-toc-toggle">
				<span class="vector-icon mw-ui-icon-wikimedia-expand"></span>
				<span>Toggle Flashing problems subsection</span>
			</button>
		
		<ul id="toc-Flashing_problems-sublist" class="vector-toc-list">
			<li id="toc-Invalid_sparse_file_format_at_header_magic" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Invalid_sparse_file_format_at_header_magic">
				<div class="vector-toc-text">
					<span class="vector-toc-numb">6.1</span>
					<span>Invalid sparse file format at header magic</span>
				</div>
			</a>
			
			<ul id="toc-Invalid_sparse_file_format_at_header_magic-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Heimdall:_Flashing_fails_at_7%" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Heimdall:_Flashing_fails_at_7%">
				<div class="vector-toc-text">
					<span class="vector-toc-numb">6.2</span>
					<span>Heimdall: Flashing fails at 7%</span>
				</div>
			</a>
			
			<ul id="toc-Heimdall:_Flashing_fails_at_7%-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-FAILED_(remote:_Unknown_chunk_type)" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#FAILED_(remote:_Unknown_chunk_type)">
				<div class="vector-toc-text">
					<span class="vector-toc-numb">6.3</span>
					<span>FAILED (remote: Unknown chunk type)</span>
				</div>
			</a>
			
			<ul id="toc-FAILED_(remote:_Unknown_chunk_type)-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-flasher_(fastboot)_is_stuck_in_&lt;_waiting_for_any_device_&gt;" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#flasher_(fastboot)_is_stuck_in_&lt;_waiting_for_any_device_&gt;">
				<div class="vector-toc-text">
					<span class="vector-toc-numb">6.4</span>
					<span>flasher (fastboot) is stuck in &lt; waiting for any device &gt;</span>
				</div>
			</a>
			
			<ul id="toc-flasher_(fastboot)_is_stuck_in_&lt;_waiting_for_any_device_&gt;-sublist" class="vector-toc-list">
			</ul>
		</li>
	</ul>
	</li>
	<li id="toc-See_also" class="vector-toc-list-item vector-toc-level-1">
		<a class="vector-toc-link" href="#See_also">
			<div class="vector-toc-text">
				<span class="vector-toc-numb">7</span>
				<span>See also</span>
			</div>
		</a>
		
		<ul id="toc-See_also-sublist" class="vector-toc-list">
		</ul>
	</li>
</ul>
</div>

					</div>
		</nav>
			</div>
		</div>
		<div class="mw-content-container">
			<main id="content" class="mw-body" style="margin: 0">
				<header class="mw-body-header vector-page-titlebar">
					<nav aria-label="Contents" class="vector-toc-landmark">
						
<div id="vector-page-titlebar-toc" class="vector-dropdown vector-page-titlebar-toc vector-button-flush-left">
	<input type="checkbox" id="vector-page-titlebar-toc-checkbox" role="button" aria-haspopup="true" data-event-name="ui.dropdown-vector-page-titlebar-toc" class="vector-dropdown-checkbox " aria-label="Toggle the table of contents">
	<label id="vector-page-titlebar-toc-label" for="vector-page-titlebar-toc-checkbox" class="vector-dropdown-label cdx-button cdx-button--fake-button cdx-button--fake-button--enabled cdx-button--weight-quiet cdx-button--icon-only " aria-hidden="true"><span class="vector-icon mw-ui-icon-listBullet mw-ui-icon-wikimedia-listBullet"></span>

<span class="vector-dropdown-label-text">Toggle the table of contents</span>
	</label>
	<div class="vector-dropdown-content">


							<div id="vector-page-titlebar-toc-unpinned-container" class="vector-unpinned-container">
			</div>
		
	</div>
</div>

					</nav>
					<h1 id="firstHeading" class="firstHeading mw-first-heading">pmbootstrap/Troubleshooting</h1>
				</header>
				<div class="vector-page-toolbar">
					<div class="vector-page-toolbar-container">
						<div id="left-navigation">
							<nav aria-label="Namespaces">
								
<div id="p-associated-pages" class="vector-menu vector-menu-tabs mw-portlet mw-portlet-associated-pages">
	<div class="vector-menu-content">
		
		<ul class="vector-menu-content-list">
			
			<li id="ca-nstab-main" class="selected vector-tab-noicon mw-list-item"><a href="../en/Pmbootstrap_Troubleshooting.html" title="View the content page [c]" accesskey="c"><span>Page</span></a></li>
<li id="ca-talk" class="new vector-tab-noicon mw-list-item"><a href="/index.php?title=Talk:Pmbootstrap/Troubleshooting&amp;action=edit&amp;redlink=1" rel="discussion" class="new" title="Discussion about the content page (page does not exist) [t]" accesskey="t"><span>Discussion</span></a></li>
		</ul>
		
	</div>
</div>

								
<div id="vector-variants-dropdown" class="vector-dropdown emptyPortlet">
	<input type="checkbox" id="vector-variants-dropdown-checkbox" role="button" aria-haspopup="true" data-event-name="ui.dropdown-vector-variants-dropdown" class="vector-dropdown-checkbox " aria-label="Change language variant">
	<label id="vector-variants-dropdown-label" for="vector-variants-dropdown-checkbox" class="vector-dropdown-label cdx-button cdx-button--fake-button cdx-button--fake-button--enabled cdx-button--weight-quiet" aria-hidden="true"><span class="vector-dropdown-label-text">English</span>
	</label>
	<div class="vector-dropdown-content">


					
<div id="p-variants" class="vector-menu mw-portlet mw-portlet-variants emptyPortlet">
	<div class="vector-menu-content">
		
		<ul class="vector-menu-content-list">
			
			
		</ul>
		
	</div>
</div>

				
	</div>
</div>

							</nav>
						</div>
						<div id="right-navigation" class="vector-collapsible">
							<nav aria-label="Views">
								
<div id="p-views" class="vector-menu vector-menu-tabs mw-portlet mw-portlet-views">
	<div class="vector-menu-content">
		
		<ul class="vector-menu-content-list">
			
			<li id="ca-view" class="selected vector-tab-noicon mw-list-item"><a href="../en/Pmbootstrap_Troubleshooting.html"><span>Read</span></a></li>
<li id="ca-viewsource" class="vector-tab-noicon mw-list-item"><a href="/index.php?title=Pmbootstrap/Troubleshooting&amp;action=edit" title="This page is protected.
You can view its source [e]" accesskey="e"><span>View source</span></a></li>
<li id="ca-history" class="vector-tab-noicon mw-list-item"><a href="/index.php?title=Pmbootstrap/Troubleshooting&amp;action=history" title="Past revisions of this page [h]" accesskey="h"><span>View history</span></a></li>
		</ul>
		
	</div>
</div>

							</nav>
				
							<nav class="vector-page-tools-landmark" aria-label="Page tools">
								
<div id="vector-page-tools-dropdown" class="vector-dropdown vector-page-tools-dropdown">
	<input type="checkbox" id="vector-page-tools-dropdown-checkbox" role="button" aria-haspopup="true" data-event-name="ui.dropdown-vector-page-tools-dropdown" class="vector-dropdown-checkbox " aria-label="Tools">
	<label id="vector-page-tools-dropdown-label" for="vector-page-tools-dropdown-checkbox" class="vector-dropdown-label cdx-button cdx-button--fake-button cdx-button--fake-button--enabled cdx-button--weight-quiet" aria-hidden="true"><span class="vector-dropdown-label-text">Tools</span>
	</label>
	<div class="vector-dropdown-content">


									<div id="vector-page-tools-unpinned-container" class="vector-unpinned-container">
						
<div id="vector-page-tools" class="vector-page-tools vector-pinnable-element">
	<div class="vector-pinnable-header vector-page-tools-pinnable-header vector-pinnable-header-unpinned" data-feature-name="page-tools-pinned" data-pinnable-element-id="vector-page-tools" data-pinned-container-id="vector-page-tools-pinned-container" data-unpinned-container-id="vector-page-tools-unpinned-container">
	<div class="vector-pinnable-header-label">Tools</div>
	<button class="vector-pinnable-header-toggle-button vector-pinnable-header-pin-button" data-event-name="pinnable-header.vector-page-tools.pin">move to sidebar</button>
	<button class="vector-pinnable-header-toggle-button vector-pinnable-header-unpin-button" data-event-name="pinnable-header.vector-page-tools.unpin">hide</button>
</div>

	
<div id="p-cactions" class="vector-menu mw-portlet mw-portlet-cactions vector-has-collapsible-items" title="More options">
	<div class="vector-menu-heading">
		Actions
	</div>
	<div class="vector-menu-content">
		
		<ul class="vector-menu-content-list">
			
			<li id="ca-more-view" class="selected vector-more-collapsible-item mw-list-item"><a href="../en/Pmbootstrap_Troubleshooting.html"><span>Read</span></a></li>
<li id="ca-more-viewsource" class="vector-more-collapsible-item mw-list-item"><a href="/index.php?title=Pmbootstrap/Troubleshooting&amp;action=edit"><span>View source</span></a></li>
<li id="ca-more-history" class="vector-more-collapsible-item mw-list-item"><a href="/index.php?title=Pmbootstrap/Troubleshooting&amp;action=history"><span>View history</span></a></li>
<li id="ca-cargo-purge" class="mw-list-item"><a href="/index.php?title=Pmbootstrap/Troubleshooting&amp;action=purge"><span>Purge cache</span></a></li>
		</ul>
		
	</div>
</div>

<div id="p-tb" class="vector-menu mw-portlet mw-portlet-tb">
	<div class="vector-menu-heading">
		General
	</div>
	<div class="vector-menu-content">
		
		<ul class="vector-menu-content-list">
			
			<li id="t-whatlinkshere" class="mw-list-item"><a href="../Special:WhatLinksHere_Pmbootstrap_Troubleshooting.html" title="A list of all wiki pages that link here [j]" accesskey="j"><span>What links here</span></a></li>
<li id="t-recentchangeslinked" class="mw-list-item"><a href="../Special:RecentChangesLinked_Pmbootstrap_Troubleshooting.html" rel="nofollow" title="Recent changes in pages linked from this page [k]" accesskey="k"><span>Related changes</span></a></li>
<li id="t-specialpages" class="mw-list-item"><a href="../Special:SpecialPages.html" title="A list of all special pages [q]" accesskey="q"><span>Special pages</span></a></li>
<li id="t-print" class="mw-list-item"><a href="javascript:print();" rel="alternate" title="Printable version of this page [p]" accesskey="p"><span>Printable version</span></a></li>
<li id="t-permalink" class="mw-list-item"><a href="/index.php?title=Pmbootstrap/Troubleshooting&amp;oldid=67423" title="Permanent link to this revision of this page"><span>Permanent link</span></a></li>
<li id="t-info" class="mw-list-item"><a href="/index.php?title=Pmbootstrap/Troubleshooting&amp;action=info" title="More information about this page"><span>Page information</span></a></li>
<li id="t-cargopagevalueslink" class="mw-list-item"><a href="/index.php?title=Pmbootstrap/Troubleshooting&amp;action=pagevalues" rel="cargo-pagevalues"><span>Cargo data</span></a></li>
		</ul>
		
	</div>
</div>

<div id="p-The_usual_wiki_links" class="vector-menu mw-portlet mw-portlet-The_usual_wiki_links">
	<div class="vector-menu-heading">
		The usual wiki links
	</div>
	<div class="vector-menu-content">
		
		<ul class="vector-menu-content-list">
			
			<li id="n-Editor's-Guide" class="mw-list-item"><a href="../en/Help:Wiki_editor's_guide.html"><span>Editor's Guide</span></a></li>
<li id="n-recentchanges" class="mw-list-item"><a href="../Special:RecentChanges.html" title="A list of recent changes in the wiki [r]" accesskey="r"><span>Recent changes</span></a></li>
<li id="n-randompage" class="mw-list-item"><a href="../Special:Random.html" title="Load a random page [x]" accesskey="x"><span>Random page</span></a></li>
<li id="n-Templates" class="mw-list-item"><a href="../en/PostmarketOS:Templates.html"><span>Templates</span></a></li>
		</ul>
		
	</div>
</div>

</div>

									</div>
				
	</div>
</div>

							</nav>
						</div>
					</div>
				</div>
				<div class="vector-column-end">
					<div class="vector-sticky-pinned-container">
						<nav class="vector-page-tools-landmark" aria-label="Page tools">
							<div id="vector-page-tools-pinned-container" class="vector-pinned-container">
				
							</div>
		</nav>
						<nav class="vector-appearance-landmark" aria-label="Appearance">
							<div id="vector-appearance-pinned-container" class="vector-pinned-container">
				<div id="vector-appearance" class="vector-appearance vector-pinnable-element">
	<div class="vector-pinnable-header vector-appearance-pinnable-header vector-pinnable-header-pinned" data-feature-name="appearance-pinned" data-pinnable-element-id="vector-appearance" data-pinned-container-id="vector-appearance-pinned-container" data-unpinned-container-id="vector-appearance-unpinned-container">
	<div class="vector-pinnable-header-label">Appearance</div>
	<button class="vector-pinnable-header-toggle-button vector-pinnable-header-pin-button" data-event-name="pinnable-header.vector-appearance.pin">move to sidebar</button>
	<button class="vector-pinnable-header-toggle-button vector-pinnable-header-unpin-button" data-event-name="pinnable-header.vector-appearance.unpin">hide</button>
</div>


</div>

							</div>
		</nav>
					</div>
				</div>
				<div id="bodyContent" class="vector-body" aria-labelledby="firstHeading" data-mw-ve-target-container>
					<div class="vector-body-before-content">
							<div class="mw-indicators">
		</div>

						<div id="siteSub" class="noprint">From postmarketOS Wiki</div>
					</div>
					<div id="contentSub"><div id="mw-content-subtitle"></div></div>
					
					
					<div id="mw-content-text" class="mw-body-content">
<div class="mw-content-ltr mw-parser-output" lang="en" dir="ltr">
<div id="contentSub" style="margin-top: -8px; margin-bottom: 18px;">
<span class="subpages">&lt; <a href="../en/Pmbootstrap.html" title="Pmbootstrap">pmbootstrap</a></span>‎</div>
<p>This page contains tips for troubleshooting issues with pmbootstrap. If you're <a href="../en/Installation_Using_pmbootstrap.html" title="Installation/Using pmbootstrap">installing postmarketOS with pmbootstrap</a>, this section may be helpful.
</p>
<meta property="mw:PageProp/toc">
<h2><span class="mw-headline" id="Things_to_check_first">Things to check first</span></h2>
<p>Make sure that you're on the latest pmbootstrap version. The latest pmbootstrap version is <b>3.1.0</b>. Run:
</p>
<div class="mw-highlight mw-highlight-lang-shell-session mw-content-ltr" dir="ltr"><pre><span></span><span class="gp">$ </span>pmbootstrap<span class="w"> </span>-V
</pre></div>
<p>This should print out the currently installed version of pmbootstrap. If you're on an older version, upgrade to the latest version first (how to do this depends on how pmbootstrap was installed).
</p>
<p>Once you're on the latest pmbootstrap version, run the following to update the repositories:
</p>
<div class="mw-highlight mw-highlight-lang-shell-session mw-content-ltr" dir="ltr"><pre><span></span><span class="gp">$ </span>pmbootstrap<span class="w"> </span>update<span class="w">  </span><span class="c1"># updates package repositories in chroots</span>
<span class="gp">$ </span>pmbootstrap<span class="w"> </span>pull<span class="w">    </span><span class="c1"># updates the cloned pmaports repository</span>
</pre></div>
<h3><span class="mw-headline" id="Clearing_the_cache_and_zapping_chroots">Clearing the cache and zapping chroots</span></h3>
<p>Many issues can be resolved by clearing the cache or zapping the chroots used for building images/packages. pmbootstrap automates this with the <code>pmbootstrap zap</code> command.
</p>
<p>The following will zap all chroots (make sure to answer "y" to every prompt):
</p>
<div class="mw-highlight mw-highlight-lang-shell-session mw-content-ltr" dir="ltr"><pre><span></span><span class="gp">$ </span>pmbootstrap<span class="w"> </span>zap
</pre></div>
<p>If you're encountering issues with package building, deleting the HTTP cache (<code>-hc</code> flag), distfiles cache (<code>-d</code> flag) and previous locally-compiled packages (<code>-p</code> flag) might help:
</p>
<div class="mw-highlight mw-highlight-lang-shell-session mw-content-ltr" dir="ltr"><pre><span></span><span class="gp">$ </span>pmbootstrap<span class="w"> </span>zap<span class="w"> </span>-hc<span class="w"> </span>-d<span class="w"> </span>-p
</pre></div>
<p>You can force-delete all caches by adding the <code>-a</code> flag:
</p>
<div class="mw-highlight mw-highlight-lang-shell-session mw-content-ltr" dir="ltr"><pre><span></span><span class="gp">$ </span>pmbootstrap<span class="w"> </span>zap<span class="w"> </span>-a
</pre></div>
<h3><span class="mw-headline" id="Getting_logs">Getting logs</span></h3>
<p>When using pmbootstrap, you can run <code>pmbootstrap log</code> to print the log live as your commands are run. In another terminal window:
</p>
<div class="mw-highlight mw-highlight-lang-shell-session mw-content-ltr" dir="ltr"><pre><span></span><span class="gp">$ </span>pmbootstrap<span class="w"> </span>log
</pre></div>
<p>Note that if you want to get logs *after* completing an operation, the above command will only print the last few lines; sometimes this can be enough, but usually you'll need to open the full log file.
</p>
<p>The log file is located in the pmbootstrap work directory; by default, its location is <code>~/.local/var/pmbootstrap/log.txt</code>. If you're unsure where your work directory is, you can use the following command:
</p>
<div class="mw-highlight mw-highlight-lang-shell-session mw-content-ltr" dir="ltr"><pre><span></span><span class="gp">$ </span>pmbootstrap<span class="w"> </span>config<span class="w"> </span>work
<span class="go">/home/user/.local/var/pmbootstrap</span>
</pre></div>
<h2><span class="mw-headline" id="Compatibility_issues_with_host_system">Compatibility issues with host system</span></h2>
<h3><span class="mw-headline" id="Running_pmbootstrap_on_non-x86_64_architectures">Running pmbootstrap on non-x86_64 architectures</span></h3>
<p>pmbootstrap should run out-of-the-box on non-x86_64 64-bit architectures. However, you may need to modify the cross-compilation packages for some packages to build correctly.
</p>
<p>See the <a href="../en/Run_pmbootstrap_on_non-x86_64_arches.html" title="Run pmbootstrap on non-x86 64 arches">Run pmbootstrap on non-x86_64 arches</a> article for more information.
</p>
<h3><span class="mw-headline" id="Using_pmbootstrap_behind_a_proxy">Using pmbootstrap behind a proxy</span></h3>
<p>pmbootstrap will attempt to copy proxy variables from the host system to the created chroots. In some cases, however, this can fail.
</p>
<p>If your proxy environment variables use a hostname defined in <code>/etc/hosts</code>, you need to change them to use the IP address.
</p>
<h3>
<span id="sh:_can.27t_create_.2Fproc.2Fsys.2Ffs.2Fbinfmt_misc.2Fregister:_nonexistent_directory"></span><span class="mw-headline" id="sh:_can't_create_/proc/sys/fs/binfmt_misc/register:_nonexistent_directory">sh: can't create /proc/sys/fs/binfmt_misc/register: nonexistent directory</span>
</h3>
<p>This issue is known to happen in Alpine Virt hardened and Void Linux, and is caused by the binfmt_misc module not being loaded. The following commands can fix it:
</p>
<div class="mw-highlight mw-highlight-lang-shell-session mw-content-ltr" dir="ltr"><pre><span></span><span class="gp"># </span>modprobe<span class="w"> </span>binfmt_misc
<span class="gp"># </span>mount<span class="w"> </span>-t<span class="w"> </span>binfmt_misc<span class="w"> </span>none<span class="w"> </span>/proc/sys/fs/binfmt_misc
</pre></div>
<p>If it still does not work (or if you get an error), it is probably not supported by your host Linux distribution's kernel (<code>CONFIG_BINFMT_MISC</code>). Try to use another kernel.
</p>
<h3><span class="mw-headline" id="Errors_with_grsec-based_kernel_on_the_host_system">Errors with grsec-based kernel on the host system</span></h3>
<p>grsec and patchsets based on it are <b>not supported</b> by pmbootstrap - some of the security hardening features they provide interfere with its operation. It may be possible to get it partially working by disabling some features - see <a href="../en/Pmbootstrap_Troubleshooting_grsec.html" class="mw-redirect" title="Troubleshooting:grsec">Troubleshooting:grsec</a>.
</p>
<h3><span class="mw-headline" id="Errors_with_ecryptfs">Errors with ecryptfs</span></h3>
<table role="text container" style="color: inherit; background-color: #fdd1d1; border: 1px solid #b60000; margin: 4px 0; border-collapse: collapse;"><tbody><tr>
<td style="padding: 2px 0 2px 0.9em; text-align: center; line-height: 1;"><span style="white-space: nowrap;"><span typeof="mw:File"><span title="Icon"><img alt="Icon" src="../Red_warning_icon.svg" decoding="async" width="20" height="20" class="mw-file-element"></span></span></span></td>
<td style="padding: 0.35em 0.9em; width: 100%;">
<b>TODO:</b> This may no longer be an issue with newer versions of ecryptfs; if you use it, please test this and update this page!</td>
</tr></tbody></table>
<p>When your "work" folder is inside an ecryptfs mounted folder, <a rel="nofollow" class="external text" href="https://gitlab.postmarketos.org/postmarketOS/pmbootstrap/-/issues/53"><code>/dev/random</code> may not work inside the chroot</a> and you may have other issues. Try to move your <i>work</i> folder to another location, you can use <code>/tmp</code> to test if this resolves the issue. You can change the location in <code>pmbootstrap init</code>. See also: <a rel="nofollow" class="external text" href="https://gitlab.postmarketos.org/postmarketOS/pmbootstrap/-/issues/61">#61</a>.
</p>
<h2><span class="mw-headline" id="Specific_issues">Specific issues</span></h2>
<h3>
<span id="ERROR:_This_device_does_not_exist_anymore.2C_check_.3Chttps:.2F.2Fpostmarketos.org.2Frenamed.3E_to_see_if_it_was_renamed"></span><span class="mw-headline" id="ERROR:_This_device_does_not_exist_anymore,_check_&lt;https://postmarketos.org/renamed&gt;_to_see_if_it_was_renamed">ERROR: This device does not exist anymore, check &lt;<a rel="nofollow" class="external free" href="https://postmarketos.org/renamed">https://postmarketos.org/renamed</a>&gt; to see if it was renamed</span>
</h3>
<p>One case where this might happen is if you remove pmbootstrap's work path, and then run a <code>pmbootstrap init</code>. As you might notice it is still remembering values and devices from previous executions. 
</p>
<p>To solve this you need to remove (or rename) <code>$XDG_CONFIG/pmbootstrap.cfg</code> (i.e <code>~/.config/pmbootstrap.cfg</code>). After doing so <code>pmbootstrap init</code> should work fine.
</p>
<h3>
<span id=".221_error.3B_XXXX_MiB_in_XXX_packages.22_but_no_visible_error.2C_.22Command_failed_.28exit_code_1.29:_apk_add_....22"></span><span class="mw-headline" id='"1_error;_XXXX_MiB_in_XXX_packages"_but_no_visible_error,_"Command_failed_(exit_code_1):_apk_add_..."'>"1 error; XXXX MiB in XXX packages" but no visible error, "Command failed (exit code 1): apk add ..."</span>
</h3>
<p>Sometimes if package installation fails on a previous command, the error carries over to all subsequent apk operations - that's the "1 error" mentioned in the line. Check the log further back to see if you can't find the exact error there.
</p>
<p>To fix this, try running <code>pmbootstrap chroot apk fix</code> (you may need to pass e.g. the <code>--rootfs</code> flag or the <code>--arch=...</code> flag depending on which chroot the error happened in). This will attempt to fix the encountered errors, and if it fails, it will print the error message again.
</p>
<p>Alternatively, you could try zapping the relevant chroot with <code>pmbootstrap zap</code> (see <a href="#Clearing_the_cache_and_zapping_chroots">#Clearing the cache and zapping chroots</a>) and re-doing your command.
</p>
<h3><span class="mw-headline" id="WARNING:_No_provider_for_dependency...">WARNING: No provider for dependency...</span></h3>
<p><b>Normal behavior.</b> it means, that your "user" repository (the repository with all custom compiled packaged from pmOS, such as your device package and kernel) does not have the dependencies from the official Alpine Linux repositories (such as <code>cryptsetup</code>, <code>iw</code>, <code>htop</code>, ...) when indexing it. But these dependencies <i>are</i> in the official repositories, so they will be found when you try to install something. Usually the package indexing is done on all repositories at once in Alpine (then you wouldn't get the error), but pmOS does it only on the "user" repository.
</p>
<h3>
<span id="ERROR:_.2Fmnt.2Fpmbootstrap-packages.2Fx86_64.2Fqemu-user-static-repack-2.8-r6.apk:_UNTRUSTED_signature"></span><span class="mw-headline" id="ERROR:_/mnt/pmbootstrap-packages/x86_64/qemu-user-static-repack-2.8-r6.apk:_UNTRUSTED_signature">ERROR: /mnt/pmbootstrap-packages/x86_64/qemu-user-static-repack-2.8-r6.apk: UNTRUSTED signature</span>
</h3>
<p>You don't have your own package signing key imported, which gets generated when you compile a package for the first time. pmbootstrap should automatically import it, but when you hit <code>^C</code> during that, it may go wrong.
</p>
<p>Your generated key is in <code>~/.local/var/pmbootstrap/config_abuild</code>, all imported keys are in <code>~/.local/var/pmbootstrap/config_apk_keys</code>.
</p>
<p>A quick fix is deleting all packages:
</p>
<pre>./pmbootstrap zap -p</pre>
<p>See issue <a rel="nofollow" class="external text" href="https://gitlab.postmarketos.org/postmarketOS/pmbootstrap/-/issues/270">#270</a> for more information and don't hesitate to reopen if this didn't work for you.
</p>
<h3>
<span id="APK_package_index_.28APKINDEX.tar.gz.29_is_missing_required_key"></span><span class="mw-headline" id="APK_package_index_(APKINDEX.tar.gz)_is_missing_required_key">APK package index (<i>APKINDEX.tar.gz</i>) is missing required key</span>
</h3>
<p>Check the file downloaded right.
</p>
<p>Use <i>https://</i> in the <i>mirror</i> section package mirror URLs with "<i>pmbootstrap config</i>".
</p>
<h3><span class="mw-headline" id="Installed_version_newer_than_the_version_in_the_repositories">Installed version newer than the version in the repositories</span></h3>
<p><i>You have a program installed in one of your chroots with a higher version, than what is available in the binary package repositories (either from upstream or the packages you have built yourself).</i>
</p>
<p><b>Example how this can happen:</b>
</p>
<ul>
<li>Git branch switch to one which increased the version of <code>postmarketos-mkinitfs</code>
</li>
<li>Build <code>postmarketos-mkinitfs</code>
</li>
<li>Install it in a chroot (e.g. by running <code>pmbootstrap install</code>)</li>
<li>Branch switched to <code>master</code>
</li>
<li>All packages got zapped, but not the chroots</li>
<li>Build <code>postmarketos-mkinitfs</code> again (this time it has a lower version count!)</li>
</ul>
<p><b>Solution:</b> Simply zap your chroot! When it gets set up again, it will use the current package version.
</p>
<h3><span class="mw-headline" id="Newer_version_in_binary_package_repositories_than_in_aports_folder">Newer version in binary package repositories than in aports folder</span></h3>
<p><i>You have built a package earlier, and the branch you are currently working in has a lower version in the aports folder.</i>
</p>
<p><b>Example how this can happen:</b>
</p>
<ul>
<li>Git branch switch to a feature branch which increased the version of <code>postmarketos-mkinitfs</code>
</li>
<li>Build <code>postmarketos-mkinitfs</code>
</li>
<li>Switch to <code>master</code> branch</li>
<li>Run just about any <code>pmbootstrap</code> command, it will print this warning:</li>
</ul>
<pre> Package 'postmarketos-mkinitfs' in your aports folder has version X, but the binary package repositories already have version Y
</pre>
<p><b>Solution:</b> Run <code>pmbootstrap zap -m</code> to delete the mismatched binary packages.
</p>
<p><b>Note:</b> If that does not help it, you can manually delete that specific packages from your aports folder: <code>sudo rm ~/.local/var/pmbootstrap/packages/*/postmarketos-mkinitfs*.apk</code> and run <code>pmbootstrap index</code> to re-index all packages. See also: <a rel="nofollow" class="external text" href="https://gitlab.postmarketos.org/postmarketOS/pmbootstrap/-/issues/466">#466</a>, <a rel="nofollow" class="external text" href="https://gitlab.postmarketos.org/postmarketOS/pmbootstrap/-/merge_requests/474">!474</a>
</p>
<p><b>If you want to use older package built locally from pmaports:</b>
</p>
<ol>
<li>Build the package using <code>pmbootstrap build &lt;pkg&gt; --force</code> to ignore newer version present in binary repos</li>
<li>Enter chroot, e.g. device's rootfs: <code>pmbootstrap chroot -r</code>
</li>
<li>Install package in specific version, e.g. <code>apk add linux-postmarketos-qcom-sdm845==6.2.0-r3</code>
</li>
</ol>
<p>The warning (<code>package &lt;pkg&gt;: aport version &lt;v1&gt; is lower than &lt;v2&gt; from the binary repository. &lt;v2&gt; will be used when installing &lt;pkg&gt;.</code>) will still appear during e.g. <code>pmbootstrap install</code>, but your package will stay at specified version until chroot is wiped.
</p>
<h3>
<span id="Permission_denied:_....2Fpmbootstrap.2Fwork.2Fchroot_native.2Fproc.2F1.2Fcwd.27"></span><span class="mw-headline" id="Permission_denied:_.../pmbootstrap/work/chroot_native/proc/1/cwd'">Permission denied: .../pmbootstrap/work/chroot_native/proc/1/cwd'</span>
</h3>
<p>It looks like you have created your work folder as: <code>pmbootstrap/work</code>, where <code>pmbootstrap</code> is the folder with the checked out source code. That is not supported. Please run <code>pmbootstrap shutdown</code>, then delete that folder, then run <code>pmbootstrap init</code> again and choose another work folder (e.g. <code>~/.local/var/pmbootstrap</code>).
</p>
<p>After that it should work - if this still does not resolve it, please open up an issue in the GitLab issue tracker.
</p>
<h3>
<span id="can.27t_create_.2Fdev.2Fnull:_Permission_denied"></span><span class="mw-headline" id="can't_create_/dev/null:_Permission_denied">can't create <code>/dev/null</code>: Permission denied</span>
</h3>
<p>Make sure that your working directory is mounted correctly. This can happen when working over NFS, or when you mounted the drive your working directory is on through the file explorer (if that's the case, <code>umount</code> it, and <code>mount</code> it manually). This can probably happen on every drive mounted with <code>nosuid</code> or similar.
</p>
<h3>
<span id="cp:_write_error:_No_space_left_on_device_.28during_file_transfer_from_chrooted_environment_to_target_image.29"></span><span class="mw-headline" id="cp:_write_error:_No_space_left_on_device_(during_file_transfer_from_chrooted_environment_to_target_image)">cp: write error: No space left on device (during file transfer from chrooted environment to target image)</span>
</h3>
<p>This issue is triggered when <code>pmbootstrap</code> determines the wrong size for the target image, as it is unfortunately very hard to calculate the correct size independent of the filesystem on which the chroot resides. Some examples for this: <a rel="nofollow" class="external text" href="https://gitlab.postmarketos.org/postmarketOS/pmbootstrap/-/issues/1916">#1916</a>; <a rel="nofollow" class="external text" href="https://gitlab.postmarketos.org/postmarketOS/pmbootstrap/-/issues/928">#928</a> where more elaborate information can be found.
</p>
<p>While fixing the problem seems impossible for every configuration, there is a workaround available (<a rel="nofollow" class="external text" href="https://gitlab.postmarketos.org/postmarketOS/pmbootstrap/-/issues/1904">#1904</a> and its associated merge request <a rel="nofollow" class="external text" href="https://gitlab.postmarketos.org/postmarketOS/pmbootstrap/-/merge_requests/1989">!1989</a>): Use the <code>-E</code>/<code>--extra-space</code> option of <code>pmbootstrap</code> to specify extra space on the resulting image file in MB. Just play around with the value until it works for you. You can specify the value also through <code>pmbootstrap init</code> in its <i>Additional options</i>.
</p>
<h3>
<span id="Cannot_download_packages_from_mirrors:_.22temporary_error_.28try_again_later.29.22"></span><span class="mw-headline" id='Cannot_download_packages_from_mirrors:_"temporary_error_(try_again_later)"'>Cannot download packages from mirrors: "temporary error (try again later)"</span>
</h3>
<p>Another symptom of this error is the message: "alpine-base (no such package)."
</p>
<p>This is because of a network error - APK cannot connect to any of the package mirrors. <code>pmbootstrap</code> will copy your <code>/etc/resolv.conf</code> into the chroot. If your resolv.conf is empty or misconfigured, APK will not be able to connect to a DNS server. See: <a rel="nofollow" class="external text" href="https://man.archlinux.org/man/resolv.conf.5">resolv.conf(5)</a>
</p>
<h3><span class="mw-headline" id="ERROR:_..._BAD_archive">ERROR: ... BAD archive</span></h3>
<p>If you <code>pmbootstrap log</code> shows something similar to the following:
</p>
<pre>(005853) [22:25:47] (native) % apk --no-progress add -u qemu-user-static-repack qemu-user-static-repack-binfmt
WARNING: Ignoring /mnt/pmbootstrap-packages/x86_64/APKINDEX.tar.gz: No such file or directory
(1/2) Installing qemu-user-static-repack (2.8-r9)
ERROR: qemu-user-static-repack-2.8-r9: BAD archive
(2/2) Installing qemu-user-static-repack-binfmt (2.8-r9)
1 error; 20 MiB in 36 packages
(005853) [22:25:53] ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
</pre>
<p>...then downloading a package (in this case <code>qemu-user-static-repack</code>) failed. Please delete the broken package and try it again:
</p>
<div class="mw-highlight mw-highlight-lang-shell-session mw-content-ltr" dir="ltr"><pre><span></span><span class="gp">$ </span><span class="nb">cd</span><span class="w"> </span>~/.local/var/pmbootstrap/<span class="w"> </span><span class="c1"># go into your work folder, as specified in 'pmbootstrap init'</span>
<span class="gp">$ </span>sudo<span class="w"> </span>rm<span class="w"> </span>-v<span class="w"> </span>cache_apk_*/qemu-user-static-repack-*<span class="w"> </span><span class="c1"># adjust the failing package name accordingly</span>
</pre></div>
<h2><span class="mw-headline" id="Build_errors">Build errors</span></h2>
<h3>
<span id="It.27s_not_installing_my_changed_package"></span><span class="mw-headline" id="It's_not_installing_my_changed_package">It's not installing my changed package</span>
</h3>
<p><i>You have changed a package but it's using the one from the repository and not your changed build.</i>
</p>
<p>You probably didn't build it or not for the correct architecture. <code>pmbootstrap build</code> defaults to the host architecture (usually <code>x86_64</code>), if you need that package on your device, use the <code>--arch</code> flag.
</p>
<h3>
<span id="musl-.2A.2Fbusybox-static-.2A_fails_to_build_with_a_404_error"></span><span class="mw-headline" id="musl-*/busybox-static-*_fails_to_build_with_a_404_error"><code>musl-*</code>/<code>busybox-static-*</code> fails to build with a 404 error</span>
</h3>
<p>Run <code>pmbootstrap aportgen musl-armhf musl-aarch64 musl-x86_64</code>. The reason why this fails from time to time is, that we use Alpine's binary <code>musl</code> lib c package for <code>armhf</code>/<code>aarch64</code> in the native chroot, to get the cross-compiler working. So the download URL inside the <code>aports/cross/musl-*/APKBUILD</code> file must be in sync with the upstream version. This pmbootstrap command safely gets the new version, uses <code>apk</code> to verify the signature of the package, generates the hash, and updates the <code>APKBUILD</code> file. To make sure, that <code>pmbootstrap aportgen</code> receives the latest <code>musl</code> version, delete your HTTP cache right before by executing this command: <code>pmbootstrap zap -hc</code>. Don't bother making a pull-request for this, as the fix is really trivial (see <a rel="nofollow" class="external text" href="https://gitlab.postmarketos.org/postmarketOS/pmbootstrap/commit/0f3b2ea4277679056079000eac581d1b9d05afc8">this commit</a>). Just report it as issue, if it happens.
</p>
<h3>
<span id="boot-deploy_exits_with_ERROR:_.22deviceinfo_header_version_is_2.2C_but_.27deviceinfo_dtb.27_is_missing._Set_.27deviceinfo_dtb.27.22_when_compiling_downstream_kernel"></span><span class="mw-headline" id="boot-deploy_exits_with_ERROR:_&quot;deviceinfo_header_version_is_2,_but_'deviceinfo_dtb'_is_missing._Set_'deviceinfo_dtb'&quot;_when_compiling_downstream_kernel">boot-deploy exits with ERROR: "deviceinfo_header_version is 2, but 'deviceinfo_dtb' is missing. Set 'deviceinfo_dtb'" when compiling downstream kernel</span>
</h3>
<p>Deviceinfo file is generated with <code>deviceinfo_header_version</code> set to 2 and boot-deploy expects a dtb file to be to be specified in deviceinfo. Verify that the deviceinfo_dtb entry in your deviceinfo is not empty or points to a non-existent dtb/dts in your kernel source.
</p>
<h3>
<span id="BusyBox_does_something_different_than_the_standard_tool_for_the_job.2C_and_this_breaks_building_my_package.21"></span><span class="mw-headline" id="BusyBox_does_something_different_than_the_standard_tool_for_the_job,_and_this_breaks_building_my_package!">BusyBox does something different than the standard tool for the job, and this breaks building my package!</span>
</h3>
<p><b>Example:</b> unzip in BusyBox doesn't extract symlinks like the normal unzip implementation (<a rel="nofollow" class="external text" href="https://gitlab.postmarketos.org/postmarketOS/pmbootstrap/-/issues/82">#82</a>).
</p>
<p><b>Solution:</b> Simply add <code>unzip</code> to the makedepends in the APKBUILD, and the "real" unzip will be used (or in that case, try to get the sources in another archive format, such as <code>.tar.bz2</code>, <code>.tar.xz</code>, <code>.tar.gz</code>).
</p>
<h2><span class="mw-headline" id="Kernel_building_issues">Kernel building issues</span></h2>
<table role="text container" style="color: inherit; background-color: #fdd1d1; border: 1px solid #b60000; margin: 4px 0; border-collapse: collapse;"><tbody><tr>
<td style="padding: 2px 0 2px 0.9em; text-align: center; line-height: 1;"><span style="white-space: nowrap;"><span typeof="mw:File"><span title="Icon"><img alt="Icon" src="../Red_warning_icon.svg" decoding="async" width="20" height="20" class="mw-file-element"></span></span></span></td>
<td style="padding: 0.35em 0.9em; width: 100%;">
<b>TODO:</b> Move these to <a href="../en/Troubleshooting_downstream_kernel_compilation.html" class="mw-redirect" title="Troubleshooting:kernel">Troubleshooting:kernel</a>?</td>
</tr></tbody></table>
<h3>
<span id="mkbootimg:_error:_argument_--dt:_can.27t_open_.27.2Fboot.2Fdt.img.27"></span><span class="mw-headline" id="mkbootimg:_error:_argument_--dt:_can't_open_'/boot/dt.img'">mkbootimg: error: argument --dt: can't open '/boot/dt.img'</span>
</h3>
<p>This happens when you have <code>deviceinfo_bootimg_qcdt</code> enabled (which is correct when pmbootstrap generated it that way), but your kernel does not generate the <code>/boot/dt.img</code> file.
Please adjust your kernel <code>APKBUILD</code> as follows:
</p>
<ul>
<li>add <code>dtbtool</code> to <code>makedepends</code>
</li>
<li>extend your <code>build()</code> function <a rel="nofollow" class="external text" href="https://gitlab.postmarketos.org/postmarketOS/pmbootstrap/-/blob/bc2784ece7dbbb5b9fbc8e1855566d3e9e770e59/aports/device/linux-huawei-y530/APKBUILD#L74-L75">like this</a>
</li>
<li>and your <code>package()</code> function <a rel="nofollow" class="external text" href="https://gitlab.postmarketos.org/postmarketOS/pmbootstrap/-/blob/bc2784ece7dbbb5b9fbc8e1855566d3e9e770e59/aports/device/linux-huawei-y530/APKBUILD#L97-L99">like that</a>
</li>
</ul>
<p>See <a rel="nofollow" class="external text" href="https://gitlab.postmarketos.org/postmarketOS/pmbootstrap/-/issues/688">#688</a> for a plan to automatically generate the linux APKBUILD right.
</p>
<h3>
<span id="Packaging_for_aarch64:_..2Fconfig.guess:_unable_to_guess_system_type"></span><span class="mw-headline" id="Packaging_for_aarch64:_./config.guess:_unable_to_guess_system_type">Packaging for aarch64: ./config.guess: unable to guess system type</span>
</h3>
<p>This happens in packages built with autoconf (./configure; make; make install), when it ships an outdated config.guess file in the source code. Adjust your APKBUILD's <code>prepare()</code> function like done in <a rel="nofollow" class="external text" href="https://gitlab.postmarketos.org/postmarketOS/pmbootstrap/-/merge_requests/698">!698</a>.
</p>
<h3>
<span id=".22ERROR:_Is_.24builddir_set_correctly.3F.22_for_linux-.2A_package"></span><span class="mw-headline" id='"ERROR:_Is_$builddir_set_correctly?"_for_linux-*_package'>"ERROR: Is $builddir set correctly?" for linux-* package</span>
</h3>
<p>Check where the kernel sources archive has the kernel-related code stored and change the <code>builddir</code> value accordingly.
</p>
<h2><span class="mw-headline" id="Flashing_problems">Flashing problems</span></h2>
<h3><span class="mw-headline" id="Invalid_sparse_file_format_at_header_magic">Invalid sparse file format at header magic</span></h3>
<p>In some devices (e.g.: bullhead, titan), when flashing the system (<code>pmbootstrap flasher flash_rootfs</code>), it works but fastboot complains of <code>Invalid sparse file format at header magic</code>.
</p>
<pre>$ ./pmbootstrap.py flasher flash_rootfs
[23:02:58] (native) install android-tools
[23:02:58] (native) flash rootfs image
target reported max download size of 536870912 bytes
Invalid sparse file format at header magic
sending sparse 'system' 1/1 (274101 KB)...
OKAY [  9.452s]
writing 'system' 1/1...
OKAY [ 12.584s]
finished. total time: 22.036s
[23:03:20] Done</pre>
<p>It happens when your device expects a sparse system image. The workaround is as follows:
</p>
<ul><li>Set <code>deviceinfo_flash_sparse=true</code> in deviceinfo</li></ul>
<p>To do this, edit the file in ./local/var/pmbootstrap/cache_git/pmaports/device/your_device_name/deviceinfo and add <code> deviceinfo_flash_sparse="true"</code>. When finished, run <code>"pmbootstrap install"</code> to rebuild the file system
</p>
<p>For more information, see issue <a rel="nofollow" class="external text" href="https://gitlab.postmarketos.org/postmarketOS/pmbootstrap/-/issues/299">#299</a>
</p>
<h3>
<span id="Heimdall:_Flashing_fails_at_7.25"></span><span class="mw-headline" id="Heimdall:_Flashing_fails_at_7%">Heimdall: Flashing fails at 7%</span>
</h3>
<p>You might also be getting the error "ERROR: Failed to confirm end of file transfer sequence"
</p>
<p>It might be, that your device only accepts "sparse images" (<a rel="nofollow" class="external text" href="https://gitlab.postmarketos.org/postmarketOS/pmbootstrap/-/issues/1643">#1643</a>). Try setting <code>deviceinfo_flash_sparse="true"</code> in the <a href="../en/Deviceinfo_reference.html" class="mw-redirect" title="Deviceinfo">deviceinfo</a>.
</p>
<h3>
<span id="FAILED_.28remote:_Unknown_chunk_type.29"></span><span class="mw-headline" id="FAILED_(remote:_Unknown_chunk_type)">FAILED (remote: Unknown chunk type)</span>
</h3>
<p>This is a bootloader limitation. Flash <a rel="nofollow" class="external text" href="https://gitlab.postmarketos.org/postmarketOS/pmbootstrap/-/issues/456">with netcat</a> as a workaround, or use this wiki's search feature to come up with more related information. Feel free to organize this in a better way, but this should be a good starting point. See also <a rel="nofollow" class="external text" href="https://gitlab.postmarketos.org/postmarketOS/pmbootstrap/-/issues/1735">#1735</a>.
</p>
<h3>
<span id="flasher_.28fastboot.29_is_stuck_in_.3C_waiting_for_any_device_.3E"></span><span class="mw-headline" id="flasher_(fastboot)_is_stuck_in_&lt;_waiting_for_any_device_&gt;">flasher (fastboot) is stuck in &lt; waiting for any device &gt;</span>
</h3>
<p>Maybe you need to install udev rules on your host Linux distribution. Arch has the <a rel="nofollow" class="external text" href="https://www.archlinux.org/packages/community/any/android-udev/">android-udev</a> package for example, which uses the rules from <a rel="nofollow" class="external text" href="https://github.com/M0Rf30/android-udev-rules">here</a>.
</p>
<p>If that does not help, it might be necessary to set the <code>flash_fastboot_vendor_id</code> in your <a href="../en/Deviceinfo_reference.html" class="mw-redirect" title="Deviceinfo">deviceinfo</a> (this was necessary for the <a href="../en/Amazon_Kindle_Fire_HDX_(amazon-thor).html" class="mw-redirect" title="Amazon Kindle Fire HDX">Amazon Kindle Fire HDX</a>). Try to search the web for your device name and "fastboot vendor id".
</p>
<p>If you were previously able to use fastboot and it stopped working, sometimes <code>pmbootstrap shutdown</code> to restart the chroot helps (<a rel="nofollow" class="external text" href="https://gitlab.postmarketos.org/postmarketOS/pmbootstrap/-/issues/1633">#1633</a>). Also try to reboot the device into fastboot again.
</p>
<h2><span class="mw-headline" id="See_also">See also</span></h2>
<ul>
<li>
<a href="../en/Pmbootstrap_Troubleshooting_QEMU.html" title="Pmbootstrap/Troubleshooting/QEMU">pmbootstrap/Troubleshooting/QEMU</a> - troubleshooting issues with <code>pmbootstrap qemu</code>
</li>
<li><a href="../en/Category:Troubleshooting.html" title="Category:Troubleshooting">Category:Troubleshooting</a></li>
</ul>
</div>
</div>
					<div id="catlinks" class="catlinks" data-mw="interface"><div id="mw-normal-catlinks" class="mw-normal-catlinks">
<a href="../Special:Categories.html" title="Special:Categories">Categories</a>: <ul>
<li><a href="../en/Category:Todo_Items.html" title="Category:Todo Items">Todo Items</a></li>
<li><a href="../en/Category:Troubleshooting.html" title="Category:Troubleshooting">Troubleshooting</a></li>
<li><a href="../en/Category:Technical_Reference.html" title="Category:Technical Reference">Technical Reference</a></li>
</ul>
</div></div>
				</div>
			</main>
			
		</div>
		<div class="mw-footer-container">
			
<footer id="footer" class="mw-footer" style="margin: 0">
	<ul id="footer-info">
	<li data-nosnippet="">Retrieved from "<a dir="ltr" href="https://wiki.postmarketos.org/index.php?title=Pmbootstrap/Troubleshooting&amp;oldid=67423">https://wiki.postmarketos.org/index.php?title=Pmbootstrap/Troubleshooting&amp;oldid=67423</a>"</li>
<li id="footer-info-lastmod"> This page was last edited on 17 December 2024, at 06:27.</li>
	<li id="footer-info-copyright">Content is available under <a class="external" rel="nofollow" href="https://creativecommons.org/licenses/by-sa/4.0/">Creative Commons Attribution-ShareAlike</a> unless otherwise noted.</li>
<br>
</ul>

	<ul id="footer-places">
	<li id="footer-places-privacy"><a href="../en/PostmarketOS:Privacy_policy.html">Privacy policy</a></li>
	<li id="footer-places-about"><a href="../en/About_postmarketOS.html">About postmarketOS Wiki</a></li>
	<li id="footer-places-disclaimers"><a href="../en/PostmarketOS:General_disclaimer.html">Disclaimers</a></li>
</ul>

	<ul id="footer-icons" class="noprint">
	<li id="footer-copyrightico"><a href="https://creativecommons.org/licenses/by-sa/4.0/" class="cdx-button cdx-button--fake-button cdx-button--size-large cdx-button--fake-button--enabled"><img src="../cc-by-sa.png" alt="Creative Commons Attribution-ShareAlike" width="88" height="31" loading="lazy"></a></li>
	<li id="footer-poweredbyico"><a href="https://www.mediawiki.org/" class="cdx-button cdx-button--fake-button cdx-button--size-large cdx-button--fake-button--enabled"><img src="../poweredby_mediawiki.svg" alt="Powered by MediaWiki" width="88" height="31" loading="lazy"></a></li>
</ul>

</footer>

		</div>
	</div> 
</div> 
<div class="vector-settings" id="p-dock-bottom">
	<ul></ul>
</div>
</body>
</html>
