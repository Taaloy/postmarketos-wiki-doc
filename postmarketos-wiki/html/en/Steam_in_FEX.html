<!DOCTYPE html>
<html class="client-nojs" lang="en" dir="ltr">
<head>
<meta charset="UTF-8">
<title>Steam in FEX - postmarketOS Wiki</title>
<link rel="stylesheet" href="../PostmarketOSWikiOffline.css">
<meta name="ResourceLoaderDynamicStyles" content="">
<meta name="generator" content="MediaWiki 1.39.10">
<meta name="format-detection" content="telephone=no">
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes, minimum-scale=0.25, maximum-scale=5.0">
<link rel="icon" href="/favicon.ico">
<link rel="search" type="application/opensearchdescription+xml" href="/opensearch_desc.php" title="postmarketOS Wiki (en)">
<link rel="EditURI" type="application/rsd+xml" href="https://wiki.postmarketos.org/api.php?action=rsd">
<link rel="license" href="https://creativecommons.org/licenses/by-sa/4.0/">
<link rel="alternate" type="application/atom+xml" title="postmarketOS Wiki Atom feed" href="/index.php?title=Special:RecentChanges&amp;feed=atom">
</head>
<body class="skin-vector skin-vector-search-vue mediawiki ltr sitedir-ltr mw-hide-empty-elt ns-0 ns-subject page-Steam_in_FEX rootpage-Steam_in_FEX skin-vector-2022 action-view skin--responsive vector-feature-language-in-header-enabled vector-feature-language-in-main-page-header-disabled vector-feature-language-alert-in-sidebar-disabled vector-feature-sticky-header-disabled vector-feature-sticky-header-edit-disabled vector-feature-table-of-contents-disabled vector-feature-visual-enhancement-next-disabled">
<div class="mw-page-container">
	<span id="top-page"></span>
	<a class="mw-jump-link" href="#content">Jump to content</a>
	<div class="mw-page-container-inner">
		<input type="checkbox" id="mw-sidebar-checkbox" class="mw-checkbox-hack-checkbox">
		<header class="mw-header">
			<div class="mw-header-aside">
			<label id="mw-sidebar-button" class="mw-checkbox-hack-button mw-ui-icon mw-ui-button mw-ui-quiet mw-ui-icon-element" for="mw-sidebar-checkbox" role="button" aria-controls="mw-panel" data-event-name="ui.sidebar" tabindex="0" title="Main menu">
				<span>Toggle sidebar</span>
			</label>
			
<a href="../en/Main_Page.html" class="mw-logo">
	<img class="mw-logo-icon" src="/logo_50x50.svg" alt="" aria-hidden="true" height="50" width="50">
	<span class="mw-logo-container">
		<strong class="mw-logo-wordmark">postmarketOS Wiki</strong>
	</span>
</a>

			</div>
			<div class="mw-header-content">
			
<div id="p-search" role="search" class="vector-search-box-vue  vector-search-box-collapses  vector-search-box-show-thumbnail vector-search-box-auto-expand-width vector-search-box">
	<a href="../Special:Search.html" title="Search postmarketOS Wiki [f]" accesskey="f" class="mw-ui-button mw-ui-quiet mw-ui-icon mw-ui-icon-element mw-ui-icon-wikimedia-search search-toggle">
		<span>Search</span>
	</a>
	
	<div>
		<form action="/index.php" id="searchform" class="vector-search-box-form">
			<div id="simpleSearch" class="vector-search-box-inner" data-search-loc="header-moved">
				<input class="vector-search-box-input" type="search" name="search" placeholder="Search postmarketOS Wiki" aria-label="Search postmarketOS Wiki" autocapitalize="sentences" title="Search postmarketOS Wiki [f]" accesskey="f" id="searchInput">
				<input type="hidden" name="title" value="Special:Search">
				<input id="mw-searchButton" class="searchButton mw-fallbackSearchButton" type="submit" name="fulltext" title="Search the pages for this text" value="Search">
				<input id="searchButton" class="searchButton" type="submit" name="go" title="Go to a page with this exact name if it exists" value="Go">
			</div>
		</form>
	</div>
</div>

			<nav class="vector-user-links" aria-label="Personal tools" role="navigation">
	

<div id="p-vector-user-menu-overflow" class="vector-menu mw-portlet mw-portlet-vector-user-menu-overflow vector-user-menu-overflow">
	<div class="vector-menu-content">
		
		<ul class="vector-menu-content-list"><li id="pt-createaccount-2" class="user-links-collapsible-item mw-list-item"><a href="../Special:RequestAccount.html"><span>Request account</span></a></li></ul>
		
	</div>
</div>

	

<div id="p-personal" class="vector-menu mw-portlet mw-portlet-personal vector-user-menu vector-user-menu-logged-out vector-menu-dropdown" title="More options">
	<input type="checkbox" id="p-personal-checkbox" role="button" aria-haspopup="true" data-event-name="ui.dropdown-p-personal" class="vector-menu-checkbox">
	<label id="p-personal-label" for="p-personal-checkbox" class="vector-menu-heading mw-ui-button mw-ui-quiet mw-ui-icon mw-ui-icon-element mw-ui-icon-ellipsis mw-ui-icon-wikimedia-ellipsis">
		<span class="vector-menu-heading-label">Personal tools</span>
	</label>
	<div class="vector-menu-content">
		<div class="vector-user-menu-create-account"><a href="/index.php?title=Special:CreateAccount&amp;returnto=Steam+in+FEX" class="vector-menu-content-item user-links-collapsible-item" title="You are encouraged to create an account and log in; however, it is not mandatory"><span class="mw-ui-icon mw-ui-icon-userAdd mw-ui-icon-wikimedia-userAdd"></span> <span>Create account</span></a></div>
<div class="vector-user-menu-login"><a href="/index.php?title=Special:UserLogin&amp;returnto=Steam+in+FEX" class="vector-menu-content-item vector-menu-content-item-login" title="You are encouraged to log in; however, it is not mandatory [o]" accesskey="o"><span class="mw-ui-icon mw-ui-icon-logIn mw-ui-icon-wikimedia-logIn"></span> <span>Log in</span></a></div>

		<ul class="vector-menu-content-list"></ul>
		
	</div>
</div>

</nav>

			</div>
		</header>
		<div class="vector-sidebar-container ">
			</div>
		<div class="vector-sitenotice-container">
			<div id="siteNotice"></div>
		</div>
		<input type="checkbox" id="vector-toc-collapsed-checkbox" class="mw-checkbox-hack-checkbox">
		<div class="mw-table-of-contents-container">
			<div class="vector-sticky-toc-container mw-sticky-header-element">
				<nav id="mw-panel-toc" class="sidebar-toc" role="navigation" aria-labelledby="sidebar-toc-label" data-event-name="ui.sidebar-toc">
	<div id="sidebar-toc-label" class="sidebar-toc-header">
		<p class="sidebar-toc-title">
		Contents
		<button class="vector-toc-uncollapse-button">move to sidebar</button>
		<button class="vector-toc-collapse-button">hide</button>
		</p>
	</div>
	<ul class="sidebar-toc-contents" id="mw-panel-toc-list">
		<li id="toc-mw-content-text" class="sidebar-toc-list-item sidebar-toc-level-1">
			<a href="#top-page" class="sidebar-toc-link">
				<div class="sidebar-toc-text">Beginning</div>
			</a>
		</li>
		<li id="toc-FEX-Emu" class="sidebar-toc-list-item sidebar-toc-level-1 sidebar-toc-list-item-expanded">
			<a class="sidebar-toc-link" href="#FEX-Emu">
				<div class="sidebar-toc-text">
				<span class="sidebar-toc-numb">1</span>FEX-Emu</div>
			</a>
			
			<ul id="toc-FEX-Emu-sublist" class="sidebar-toc-list">
			</ul>
		</li>
		<li id="toc-Distrobox" class="sidebar-toc-list-item sidebar-toc-level-1 sidebar-toc-list-item-expanded">
			<a class="sidebar-toc-link" href="#Distrobox">
				<div class="sidebar-toc-text">
				<span class="sidebar-toc-numb">2</span>Distrobox</div>
			</a>
			
			<ul id="toc-Distrobox-sublist" class="sidebar-toc-list">
			</ul>
		</li>
		<li id="toc-Before_Installing" class="sidebar-toc-list-item sidebar-toc-level-1 sidebar-toc-list-item-expanded">
			<a class="sidebar-toc-link" href="#Before_Installing">
				<div class="sidebar-toc-text">
				<span class="sidebar-toc-numb">3</span>Before Installing</div>
			</a>
			
			<ul id="toc-Before_Installing-sublist" class="sidebar-toc-list">
			</ul>
		</li>
		<li id="toc-Installing_Ubuntu_24.04_image" class="sidebar-toc-list-item sidebar-toc-level-1 sidebar-toc-list-item-expanded">
			<a class="sidebar-toc-link" href="#Installing_Ubuntu_24.04_image">
				<div class="sidebar-toc-text">
				<span class="sidebar-toc-numb">4</span>Installing Ubuntu 24.04 image</div>
			</a>
			
			<ul id="toc-Installing_Ubuntu_24.04_image-sublist" class="sidebar-toc-list">
			</ul>
		</li>
		<li id="toc-Installing_FEX-Emu" class="sidebar-toc-list-item sidebar-toc-level-1 sidebar-toc-list-item-expanded">
			<a class="sidebar-toc-link" href="#Installing_FEX-Emu">
				<div class="sidebar-toc-text">
				<span class="sidebar-toc-numb">5</span>Installing FEX-Emu</div>
			</a>
			
			<ul id="toc-Installing_FEX-Emu-sublist" class="sidebar-toc-list">
			</ul>
		</li>
		<li id="toc-Installing_Steam" class="sidebar-toc-list-item sidebar-toc-level-1 sidebar-toc-list-item-expanded">
			<a class="sidebar-toc-link" href="#Installing_Steam">
				<div class="sidebar-toc-text">
				<span class="sidebar-toc-numb">6</span>Installing Steam</div>
			</a>
			
			<ul id="toc-Installing_Steam-sublist" class="sidebar-toc-list">
			</ul>
		</li>
		<li id="toc-Issues_and_Workarounds" class="sidebar-toc-list-item sidebar-toc-level-1 sidebar-toc-list-item-expanded">
			<a class="sidebar-toc-link" href="#Issues_and_Workarounds">
				<div class="sidebar-toc-text">
				<span class="sidebar-toc-numb">7</span>Issues and Workarounds</div>
			</a>
			
			<ul id="toc-Issues_and_Workarounds-sublist" class="sidebar-toc-list">
			</ul>
		</li>
	</ul>
</nav>

			</div>
		</div>
		<div class="mw-content-container">
			<main id="content" class="mw-body" role="main" style="margin: 0">
				<a id="top"></a>
				<header class="mw-body-header">
				
				
					<label id="vector-toc-collapsed-button" class="mw-ui-button mw-ui-quiet mw-ui-icon mw-ui-icon-element mw-ui-icon-wikimedia-listBullet mw-checkbox-hack-button" for="vector-toc-collapsed-checkbox" role="button" aria-controls="toc-toggle-list" data-event-name="vector.toc-toggle-list" tabindex="0" title="Table of Contents">
						Toggle the table of contents
					</label>
				    <h1 id="firstHeading" class="firstHeading mw-first-heading"><span class="mw-page-title-main">Steam in FEX</span></h1>
				</header>
				<nav class="vector-article-toolbar" aria-label="Tools" role="navigation">
					<div class="mw-article-toolbar-container">
						<div id="left-navigation">
							

<div id="p-associated-pages" class="vector-menu mw-portlet mw-portlet-associated-pages vector-menu-tabs">
	<div class="vector-menu-content">
		
		<ul class="vector-menu-content-list">
<li id="ca-nstab-main" class="selected mw-list-item"><a href="../en/Steam_in_FEX.html" title="View the content page [c]" accesskey="c"><span>Page</span></a></li>
<li id="ca-talk" class="new mw-list-item"><a href="/index.php?title=Talk:Steam_in_FEX&amp;action=edit&amp;redlink=1" rel="discussion" title="Discussion about the content page (page does not exist) [t]" accesskey="t"><span>Discussion</span></a></li>
</ul>
		
	</div>
</div>

							

<div id="p-variants" class="vector-menu mw-portlet mw-portlet-variants emptyPortlet vector-menu-dropdown">
	<input type="checkbox" id="p-variants-checkbox" role="button" aria-haspopup="true" data-event-name="ui.dropdown-p-variants" class="vector-menu-checkbox" aria-label="Change language variant">
	<label id="p-variants-label" for="p-variants-checkbox" class="vector-menu-heading ">
		<span class="vector-menu-heading-label">English</span>
	</label>
	<div class="vector-menu-content">
		
		<ul class="vector-menu-content-list"></ul>
		
	</div>
</div>

						</div>
						<div id="right-navigation" class="vector-collapsible ">
							

<div id="p-views" class="vector-menu mw-portlet mw-portlet-views vector-menu-tabs">
	<div class="vector-menu-content">
		
		<ul class="vector-menu-content-list">
<li id="ca-view" class="selected mw-list-item"><a href="../en/Steam_in_FEX.html"><span>Read</span></a></li>
<li id="ca-viewsource" class="mw-list-item"><a href="/index.php?title=Steam_in_FEX&amp;action=edit" title="This page is protected.
You can view its source [e]" accesskey="e"><span>View source</span></a></li>
<li id="ca-history" class="mw-list-item"><a href="/index.php?title=Steam_in_FEX&amp;action=history" title="Past revisions of this page [h]" accesskey="h"><span>View history</span></a></li>
</ul>
		
	</div>
</div>

							

<div id="p-cactions" class="vector-menu mw-portlet mw-portlet-cactions emptyPortlet vector-menu-dropdown vector-has-collapsible-items" title="More options">
	<input type="checkbox" id="p-cactions-checkbox" role="button" aria-haspopup="true" data-event-name="ui.dropdown-p-cactions" class="vector-menu-checkbox">
	<label id="p-cactions-label" for="p-cactions-checkbox" class="vector-menu-heading ">
		<span class="vector-menu-heading-label">More</span>
	</label>
	<div class="vector-menu-content">
		
		<ul class="vector-menu-content-list">
<li id="ca-more-view" class="selected vector-more-collapsible-item mw-list-item"><a href="../en/Steam_in_FEX.html"><span>Read</span></a></li>
<li id="ca-more-viewsource" class="vector-more-collapsible-item mw-list-item"><a href="/index.php?title=Steam_in_FEX&amp;action=edit"><span>View source</span></a></li>
<li id="ca-more-history" class="vector-more-collapsible-item mw-list-item"><a href="/index.php?title=Steam_in_FEX&amp;action=history"><span>View history</span></a></li>
</ul>
		
	</div>
</div>

						</div>
					</div>
				</nav>
				<div id="bodyContent" class="vector-body" data-mw-ve-target-container>
					<div class="mw-body-subheader">
					        <div class="mw-indicators">
        </div>

					    <div id="siteSub" class="noprint">From postmarketOS Wiki</div>
					</div>
					
					
					
					<div id="mw-content-text" class="mw-body-content mw-content-ltr" lang="en" dir="ltr">
<div class="mw-parser-output">
<p>This is a guide for setting up FEX Emulator inside of an Ubuntu 24.04 Distrobox container to run <a href="../en/Steam.html" title="Steam">Steam</a> games on arm64 devices.
</p>
<tocplace></tocplace>
<h3><span class="mw-headline" id="FEX-Emu">FEX-Emu</span></h3>
<p>FEX-Emu is an x86/x86_64 emulator for arm64 Linux.  It utilizes an x86_64 root filesystem in conjunction with the native arm64 host filesystem with an interpreter called FEXInterpreter and a modified bash shell for running x86/x86_64 scripted applications called FEXBash.  The official install instructions for FEX-Emu are targeted for Ubuntu and utilize an Ubuntu PPA to distribute pre-built versions of FEX.  In order to use this official FEX setup on postmarketOS I will be using Distrobox to install an Ubuntu 24.04 arm64 image on top of postmarketOS that I can then install FEX on.
</p>
<h3><span class="mw-headline" id="Distrobox">Distrobox</span></h3>
<p>Distrobox is a container manager designed to install and run persistent containers, optionally with root privileges and their own init system, on top of another distribution.  It is available in postmarketOS.  To install, simply run:
</p>
<div class="mw-highlight mw-highlight-lang-shell-session mw-content-ltr" dir="ltr"><pre><span></span><span class="go">sudo apk add distrobox</span>
</pre></div>
<h3><span class="mw-headline" id="Before_Installing">Before Installing</span></h3>
<p>Before installing, if you want to make sure any previous attempts have been cleaned up from your home directory, run the following commands from your home directory:
</p>
<div class="mw-highlight mw-highlight-lang-shell-session mw-content-ltr" dir="ltr"><pre><span></span><span class="go">rm .steampid</span>
<span class="go">rm .steampath</span>
<span class="go">rm -rf .steam</span>
<span class="go">rm -rf .local/share/Steam</span>
<span class="go">rm -rf .config/.fex-emu</span>
<span class="go">rm -rf .local/share/.fex-emu</span>
</pre></div>
<h3><span class="mw-headline" id="Installing_Ubuntu_24.04_image">Installing Ubuntu 24.04 image</span></h3>
<p>Create the Ubuntu 24.04 Distrobox install by running:
</p>
<div class="mw-highlight mw-highlight-lang-shell-session mw-content-ltr" dir="ltr"><pre><span></span><span class="go">distrobox create --image ubuntu:24.04 --root --init --additional-packages "ubuntu-desktop"</span>
</pre></div>
<p>This will create an Ubuntu 24.04 container with root privileges, its own init system (systemd), and will install the ubuntu-desktop package that provides the majority of the needed libraries and utilities for a smooth setup.  You can lighten the install size by manually selecting only the needed libraries, but I chose to install the full ubuntu-desktop package to minimize risk of missing dependencies.
</p>
<p>Then you will need to enter the image by running:
</p>
<div class="mw-highlight mw-highlight-lang-shell-session mw-content-ltr" dir="ltr"><pre><span></span><span class="go">distrobox enter --root ubuntu-24-04</span>
</pre></div>
<p>This will go through the first-time setup which involves downloading all the packages and should eventually present you with a password prompt to create a password for your user account within the container.  If it doesn't provide this prompt on the first run, run this command again and it should then give the password prompt.
</p>
<p>After this, you should be inside of the Ubuntu container.
</p>
<h3><span class="mw-headline" id="Installing_FEX-Emu">Installing FEX-Emu</span></h3>
<p>Now that you're inside the container, you can prepare to run the FEX install script.
</p>
<p>First, you will need to unmask the systemd-binfmt service, as this seems to be masked by default and will break the installation if left masked:
</p>
<div class="mw-highlight mw-highlight-lang-shell-session mw-content-ltr" dir="ltr"><pre><span></span><span class="go">sudo systemctl unmask systemd-binfmt</span>
</pre></div>
<p>Next, run the install command from the FEX-Emu GitHub Readme.  I will not paste the command here as it executes a script from curl and this could be a security risk if the URL changes.  Refer to the FEX-Emu GitHub for the latest install command:
</p>
<p><a rel="nofollow" class="external free" href="https://github.com/FEX-Emu/FEX?tab=readme-ov-file#quick-start-guide">https://github.com/FEX-Emu/FEX?tab=readme-ov-file#quick-start-guide</a>
</p>
<p>When it asks if you wish to download and install a rootfs, say yes (y) to the prompts to download the Ubuntu 24.04 (SquashFS) rootfs.  When it asks if you want to extract the rootfs or use it as is, answer extract (1).  There seems to be an issue using squashed rootfs inside distrobox, so we will need to extract it.  When it asks if you want to use this rootfs as default, answer yes (y).
</p>
<p>Once this finishes running, FEX should be installed.  Confirm by running:
</p>
<div class="mw-highlight mw-highlight-lang-shell-session mw-content-ltr" dir="ltr"><pre><span></span><span class="go">FEXInterpreter /usr/bin/uname -a</span>
</pre></div>
<p>This should print out the kernel string but it should identify the architecture as x86_64 instead of arm64/aarch64.
</p>
<h3><span class="mw-headline" id="Installing_Steam">Installing Steam</span></h3>
<p>You can follow the FEX Steam installation guide from the FEX wiki: <a rel="nofollow" class="external free" href="https://wiki.fex-emu.com/index.php/Steam">https://wiki.fex-emu.com/index.php/Steam</a>
</p>
<h3><span class="mw-headline" id="Issues_and_Workarounds">Issues and Workarounds</span></h3>
<ul><li>Sometimes Steam fails to start due to steamwebhelper crashing.  I've found that deleting Steam's log files might help, but this may just be placebo.</li></ul>
<div class="mw-highlight mw-highlight-lang-shell-session mw-content-ltr" dir="ltr"><pre><span></span><span class="go">rm ~/.steam/steam/logs/*</span>
</pre></div>
<ul>
<li>Wayland-native games don't seem to be working.  For Source engine games (Half Life 2 and Half Life 2 Deathmatch tested), add SDL_VIDEODRIVER=x11 %command% to the launch options for the game.</li>
<li>I recommend setting up a swapfile of at least 4GB before attempting to run most games.  I was seeing frequent OOM crashes without, even on an 8GB RAM device.</li>
</ul>
</div>
</div>
					<div id="catlinks" class="catlinks catlinks-allhidden" data-mw="interface"></div>
				</div>
			</main>
			
		</div>
		<div class="mw-footer-container">
			
<footer id="footer" class="mw-footer" role="contentinfo" style="margin: 0">
	<ul id="footer-info">
	<li data-nosnippet="">Retrieved from "<a dir="ltr" href="https://wiki.postmarketos.org/index.php?title=Steam_in_FEX&amp;oldid=65096">https://wiki.postmarketos.org/index.php?title=Steam_in_FEX&amp;oldid=65096</a>"</li>
<li id="footer-info-lastmod"> This page was last edited on 25 October 2024, at 03:59.</li>
	<li id="footer-info-copyright">Content is available under <a class="external" rel="nofollow" href="https://creativecommons.org/licenses/by-sa/4.0/">Creative Commons Attribution-ShareAlike</a> unless otherwise noted.</li>
<br>
</ul>

	<ul id="footer-places">
	<li id="footer-places-privacy"><a href="../en/PostmarketOS:Privacy_policy.html">Privacy policy</a></li>
	<li id="footer-places-about"><a href="../en/About_postmarketOS.html">About postmarketOS Wiki</a></li>
	<li id="footer-places-disclaimer"><a href="../en/PostmarketOS:General_disclaimer.html">Disclaimers</a></li>
</ul>

	<ul id="footer-icons" class="noprint">
	<li id="footer-copyrightico"><a href="https://creativecommons.org/licenses/by-sa/4.0/"><img src="../cc-by-sa.png" alt="Creative Commons Attribution-ShareAlike" width="88" height="31" loading="lazy"></a></li>
	<li id="footer-poweredbyico"><a href="https://www.mediawiki.org/"><img src="../poweredby_mediawiki_88x31.png" alt="Powered by MediaWiki" srcset="" width="88" height="31" loading="lazy"></a></li>
</ul>

</footer>

		</div>
	</div> 
</div> 

</body>
</html>
