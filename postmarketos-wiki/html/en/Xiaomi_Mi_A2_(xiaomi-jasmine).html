<!DOCTYPE html>
<html class="client-nojs" lang="en" dir="ltr">
<head>
<meta charset="UTF-8">
<title>Xiaomi Mi A2 (xiaomi-jasmine) - postmarketOS</title>
<link rel="stylesheet" href="../PostmarketOSWikiOffline.css">
<meta name="ResourceLoaderDynamicStyles" content="">
<meta name="generator" content="MediaWiki 1.34.2">
<link rel="shortcut icon" href="/favicon.ico">
<link rel="search" type="application/opensearchdescription+xml" href="/opensearch_desc.php" title="postmarketOS (en)">
<link rel="EditURI" type="application/rsd+xml" href="https://wiki.postmarketos.org/api.php?action=rsd">
<link rel="license" href="https://creativecommons.org/licenses/by-sa/4.0/">
<link rel="alternate" type="application/atom+xml" title="postmarketOS Atom feed" href="/index.php?title=Special:RecentChanges&amp;feed=atom">
</head>
<body class="mediawiki ltr sitedir-ltr mw-hide-empty-elt ns-0 ns-subject page-Xiaomi_Mi_A2_xiaomi-jasmine rootpage-Xiaomi_Mi_A2_xiaomi-jasmine skin-vector action-view">
<div id="content" class="mw-body" role="main" style="margin: 0">
	<a id="top"></a>
	
	<div class="mw-indicators mw-body-content">
</div>

	<h1 id="firstHeading" class="firstHeading" lang="en">Xiaomi Mi A2 (xiaomi-jasmine)</h1>
	
	<div id="bodyContent" class="mw-body-content">
		<div id="siteSub" class="noprint">From postmarketOS</div>
		<div id="contentSub"></div>
		
		
		
		<div id="jump-to-nav"></div>
		<a class="mw-jump-link" href="#mw-head">Jump to navigation</a>
		<a class="mw-jump-link" href="#p-search">Jump to search</a>
		<div id="mw-content-text" lang="en" dir="ltr" class="mw-content-ltr"><div class="mw-parser-output">
<table class="infobox" cellspacing="3" style="border-spacing: 3px; width:22em;">
<caption class="" style="">Xiaomi Mi A2</caption>
<tbody>
<tr class=""><td colspan="2" class="" style="text-align:center;">
<a href="../Xiaomi-jasmine.jpg" class="image"><img alt="Xiaomi Mi A2" src="../Xiaomi-jasmine.jpg" decoding="async" width="200" height="200" srcset="../300px-Xiaomi-jasmine.jpg 1.5x ../400px-Xiaomi-jasmine.jpg 2x"></a><br><span style="">Xiaomi Mi A2</span>
</td></tr>
<tr class="">
<th scope="row" style="text-align:left;">Manufacturer</th>
    <td class="" style="">
Xiaomi</td>
</tr>
<tr class="">
<th scope="row" style="text-align:left;">Name</th>
    <td class="" style="">
Mi A2</td>
</tr>
<tr class="">
<th scope="row" style="text-align:left;">Codename</th>
    <td class="" style="">
xiaomi-jasmine_sprout</td>
</tr>
<tr class="">
<th scope="row" style="text-align:left;">Released</th>
    <td class="" style="">
2018</td>
</tr>
<tr class="">
<th scope="row" style="text-align:left;">Category</th>
    <td class="" style="">
testing</td>
</tr>
<tr class="">
<th scope="row" style="text-align:left;">Original software</th>
    <td class="" style="">
Android 8.1</td>
</tr>
<tr class="">
<th scope="row" style="text-align:left;">postmarketOS kernel</th>
    <td class="" style="">
4.4.226</td>
</tr>
<tr><th colspan="2" class="" style="text-align:center;">Hardware</th></tr>
<tr class="">
<th scope="row" style="text-align:left;">Chipset</th>
    <td class="" style="">
<a href="../en/Qualcomm_Snapdragon_660_630_636_(SDM660_SDM630_SDM636).html" class="mw-redirect" title="Qualcomm Snapdragon 660 (SDM660)">Qualcomm Snapdragon 660 (SDM660)</a>
</td>
</tr>
<tr class="">
<th scope="row" style="text-align:left;">CPU</th>
    <td class="" style="">
8-core (4x 2.2 GHz Kryo 260 &amp; 4x 1.8 GHz Kryo 260)</td>
</tr>
<tr class="">
<th scope="row" style="text-align:left;">GPU</th>
    <td class="" style="">
Adreno 512</td>
</tr>
<tr class="">
<th scope="row" style="text-align:left;">Display</th>
    <td class="" style="">
1080 x 2160 LTPS IPS LCD</td>
</tr>
<tr class="">
<th scope="row" style="text-align:left;">Storage</th>
    <td class="" style="">
32/64/128 GB</td>
</tr>
<tr class="">
<th scope="row" style="text-align:left;">Memory</th>
    <td class="" style="">
4/6 GB</td>
</tr>
<tr class="">
<th scope="row" style="text-align:left;">Architecture</th>
    <td class="" style="">
aarch64</td>
</tr>
<tr><td colspan="2" style="text-align:right"></td></tr>
</tbody>
</table>
<p><br>
</p>
<p><br>
</p>
<table class="infobox" cellspacing="3" style="border-spacing: 3px; width:22em;">
<caption class="" style="">Features</caption>
<tbody>
<tr class="">
<th scope="row" style="text-align:left;"><abbr title="After connecting the device with USB to your PC, you can connect to it via telnet (initramfs) or SSH (booted system).">USB Networking</abbr></th>
    <td class="" style="">
<div class="feature feature-yes">Works</div>
</td>
</tr>
<tr class="">
<th scope="row" style="text-align:left;"><abbr title="It is possible to flash the device with `pmbootstrap flasher`.">Flashing</abbr></th>
    <td class="" style="">
<div class="feature feature-yes">Works</div>
</td>
</tr>
<tr class="">
<th scope="row" style="text-align:left;">Touchscreen</th>
    <td class="" style="">
<div class="feature feature-yes">Works</div>
</td>
</tr>
<tr class="">
<th scope="row" style="text-align:left;"><abbr title="Display works. Ideally with sleep mode and brightness control.">Display</abbr></th>
    <td class="" style="">
<div class="feature feature-yes">Works</div>
</td>
</tr>
<tr class="">
<th scope="row" style="text-align:left;">WiFi</th>
    <td class="" style="">
<div class="feature feature-no">Broken</div>
</td>
</tr>
<tr class="">
<th scope="row" style="text-align:left;"><abbr title="Full disk encryption and unlocking with osk-sdl.">FDE</abbr></th>
    <td class="" style="">
<div></div>
</td>
</tr>
<tr class="">
<th scope="row" style="text-align:left;"><abbr title="Instead of a Linux kernel fork, it is possible to run mainline.">Mainline</abbr></th>
    <td class="" style="">
<div class="feature feature-no">Broken</div>
</td>
</tr>
<tr class="">
<th scope="row" style="text-align:left;"><abbr title="Charging and battery level reporting works">Battery</abbr></th>
    <td class="" style="">
<div></div>
</td>
</tr>
<tr class="">
<th scope="row" style="text-align:left;">3D Acceleration</th>
    <td class="" style="">
<div class="feature feature-no">Broken</div>
</td>
</tr>
<tr class="">
<th scope="row" style="text-align:left;"><abbr title="Audio playback, microphone, headset and buttons.">Audio</abbr></th>
    <td class="" style="">
<div class="feature feature-no">Broken</div>
</td>
</tr>
<tr class="">
<th scope="row" style="text-align:left;">Bluetooth</th>
    <td class="" style="">
<div class="feature feature-no">Broken</div>
</td>
</tr>
<tr class="">
<th scope="row" style="text-align:left;">Camera</th>
    <td class="" style="">
<div class="feature feature-no">Broken</div>
</td>
</tr>
<tr class="">
<th scope="row" style="text-align:left;">GPS</th>
    <td class="" style="">
<div class="feature feature-no">Broken</div>
</td>
</tr>
<tr class="">
<th scope="row" style="text-align:left;">Mobile data</th>
    <td class="" style="">
<div class="feature feature-no">Broken</div>
</td>
</tr>
<tr class="">
<th scope="row" style="text-align:left;">SMS</th>
    <td class="" style="">
<div class="feature feature-no">Broken</div>
</td>
</tr>
<tr class="">
<th scope="row" style="text-align:left;">Calls</th>
    <td class="" style="">
<div class="feature feature-no">Broken</div>
</td>
</tr>
<tr class="">
<th scope="row" style="text-align:left;">USB OTG</th>
    <td class="" style="">
<div></div>
</td>
</tr>
<tr class="">
<th scope="row" style="text-align:left;">NFC</th>
    <td class="" style="">
<div></div>
</td>
</tr>
<tr><td colspan="2" style="text-align:right"></td></tr>
</tbody>
</table>
<table class="infobox" cellspacing="3" style="border-spacing: 3px; width:22em;">
<caption class="" style="">Sensors</caption>
<tbody>
<tr class="">
<th scope="row" style="text-align:left;"><abbr title="Auto screen rotation works in desktops e.g. Phosh or Plasma Mobile">Accelerometer</abbr></th>
    <td class="" style="">
<div class="feature feature-no">Broken</div>
</td>
</tr>
<tr class="">
<th scope="row" style="text-align:left;">Magnetometer</th>
    <td class="" style="">
<div></div>
</td>
</tr>
<tr class="">
<th scope="row" style="text-align:left;">Ambient Light</th>
    <td class="" style="">
<div></div>
</td>
</tr>
<tr class="">
<th scope="row" style="text-align:left;">Proximity</th>
    <td class="" style="">
<div></div>
</td>
</tr>
<tr class="">
<th scope="row" style="text-align:left;"><abbr title="Also known as flip cover sensor">Hall Effect</abbr></th>
    <td class="" style="">
<div></div>
</td>
</tr>
<tr class="">
<th scope="row" style="text-align:left;">Barometer</th>
    <td class="" style="">
<div></div>
</td>
</tr>
<tr class="">
<th scope="row" style="text-align:left;">Power Sensor</th>
    <td class="" style="">
<div></div>
</td>
</tr>
<tr><td colspan="2" style="text-align:right"></td></tr>
</tbody>
</table>
<table class="infobox" cellspacing="3" style="border-spacing: 3px; width:22em;">
<caption class="" style="">Misc</caption>
<tbody>
<tr class="">
<th scope="row" style="text-align:left;">Camera Flash</th>
    <td class="" style="">
<div></div>
</td>
</tr>
<tr class="">
<th scope="row" style="text-align:left;">Keyboard</th>
    <td class="" style="">
<div></div>
</td>
</tr>
<tr class="">
<th scope="row" style="text-align:left;">Touchpad</th>
    <td class="" style="">
<div></div>
</td>
</tr>
<tr class="">
<th scope="row" style="text-align:left;"><abbr title="Full-sized USB-A port works (Usually applicable to SBCs and laptops).">USB-A</abbr></th>
    <td class="" style="">
<div></div>
</td>
</tr>
<tr class="">
<th scope="row" style="text-align:left;"><abbr title="Video and audio output with HDMI or Display Port works.">HDMI/DP</abbr></th>
    <td class="" style="">
<div></div>
</td>
</tr>
<tr class="">
<th scope="row" style="text-align:left;">Ir TX</th>
    <td class="" style="">
<div></div>
</td>
</tr>
<tr class="">
<th scope="row" style="text-align:left;">Ir RX</th>
    <td class="" style="">
<div></div>
</td>
</tr>
<tr class="">
<th scope="row" style="text-align:left;">Stylus</th>
    <td class="" style="">
<div></div>
</td>
</tr>
<tr class="">
<th scope="row" style="text-align:left;">Haptics</th>
    <td class="" style="">
<div></div>
</td>
</tr>
<tr class="">
<th scope="row" style="text-align:left;">Ethernet</th>
    <td class="" style="">
<div></div>
</td>
</tr>
<tr class="">
<th scope="row" style="text-align:left;">FOSS bootloader</th>
    <td class="" style="">
<div></div>
</td>
</tr>
<tr><td colspan="2" style="text-align:right"></td></tr>
</tbody>
</table>
<p><br>
</p>
<p><br>
</p>
<p><br>
</p>
<h2><span class="mw-headline" id="Contributors">Contributors</span></h2>
<ul>
<li><a href="../User:Robante15.html" title="User:Robante15">robante15</a></li>
<li><a href="../User:Profmagija.html" title="User:Profmagija">Profmagija</a></li>
</ul>
<h2>
<span id="Maintainer(s)"></span><span class="mw-headline" id="Maintainer.28s.29">Maintainer(s)</span>
</h2>
<h2><span class="mw-headline" id="Users_owning_this_device">Users owning this device</span></h2>
<div style="-webkit-column-count: 2; -moz-column-count: 2; column-count: 2;"><ul style="margin-top: 0;">
<li><a href="../User:Joeth.html" title="User:Joeth">Joeth</a></li>
<li>
<a href="../User:Jojo_autoboy.html" title="User:Jojo autoboy">Jojo autoboy</a> (<span class="cargoFieldName">Notes:</span> Also main device)</li>
<li>
<a href="../User:Medusa.html" title="User:Medusa">Medusa</a> (<span class="cargoFieldName">Notes:</span> Running LOS;Broken screen)</li>
<li><a href="../User:Profmagija.html" title="User:Profmagija">Profmagija</a></li>
<li><a href="../User:Robante15.html" title="User:Robante15">Robante15</a></li>
<li><a href="../User:Shouko.html" title="User:Shouko">Shouko</a></li>
<li><a href="../User:Somekool.html" title="User:Somekool">Somekool</a></li>
<li>
<a href="../User:XRayMan.html" title="User:XRayMan">XRayMan</a> (<span class="cargoFieldName">Notes:</span> Main device)</li>
</ul></div>
<p><br>
</p>
<h2><span class="mw-headline" id="Notes">Notes</span></h2>
<p>This device is quite similar to the <a href="../en/Xiaomi_Redmi_Note_7_(xiaomi-lavender).html" title="Xiaomi Redmi Note 7 (xiaomi-lavender)">Xiaomi Redmi Note 7 (xiaomi-lavender)</a> and <a href="../en/Xiaomi_Redmi_Note_8T_(xiaomi-willow).html" title="Xiaomi Redmi Note 8T (xiaomi-willow)">Xiaomi Redmi Note 8T (xiaomi-willow)</a>, and many of the issues were solved with steps from that devices pages, so if you're hacking on the Mi A2 it's a good idea to read the xiaomi-lavender and the xiaomi-willow page closely.
</p>
<h3>
<span id="LED_/_Torch_/_Screen_brightness_/_Vibrator"></span><span class="mw-headline" id="LED_.2F_Torch_.2F_Screen_brightness_.2F_Vibrator">LED / Torch / Screen brightness / Vibrator</span>
</h3>
<p>Write brightness or boolean value to specific sysfs files:
</p>
<ul>
<li>Front panel LED light [0-255]: <code>/sys/class/leds/white/{brightness,blink}</code>
</li>
<li>Torch light [0-255]: <code>/sys/class/leds/flashlight/brightness</code> (torch_0 is cold light, torch_1 is warm light)</li>
<li>Screen brightness [0-255]: <code>/sys/class/leds/lcd-backlight/brightness</code>
</li>
<li>Vibrator [Miliseconds]: <code>/sys/class/timed_output/vibrator/enable</code>
</li>
</ul>
<p><b>Example:</b>
<code>echo 255 &gt; /sys/class/leds/lcd-backlight/brightness</code>
That maximizes the brightness of the screen
</p>
<h2><span class="mw-headline" id="How_to_enter_flash_mode">How to enter flash mode</span></h2>
<h3><span class="mw-headline" id="Bootloader_Unlocking">Bootloader Unlocking</span></h3>
<p>Because this device is an Android One device, it can be unlocked using <code>fastboot oem unlock</code> and then <code>fastboot flashing unlock_critical</code> from fastboot mode.
</p>
<h3><span class="mw-headline" id="Recovery_mode">Recovery mode</span></h3>
<ul>
<li>Turn the device off (or restart also works)</li>
<li>Hold <span class="nowrap" title="This is not a clickable button; it illustrates the button one should find." style="padding:.2em .6em; border:1px solid; border-color:#AAA #555 #555 #AAA; border-radius: 3px; background-color: #F2F2F2;">Volume Up</span> and <span class="nowrap" title="This is not a clickable button; it illustrates the button one should find." style="padding:.2em .6em; border:1px solid; border-color:#AAA #555 #555 #AAA; border-radius: 3px; background-color: #F2F2F2;">Power</span> button</li>
<li>Once you feel vibration and phone turns on, release <span class="nowrap" title="This is not a clickable button; it illustrates the button one should find." style="padding:.2em .6em; border:1px solid; border-color:#AAA #555 #555 #AAA; border-radius: 3px; background-color: #F2F2F2;">Power</span> button</li>
<li>Keep holding <span class="nowrap" title="This is not a clickable button; it illustrates the button one should find." style="padding:.2em .6em; border:1px solid; border-color:#AAA #555 #555 #AAA; border-radius: 3px; background-color: #F2F2F2;">Volume Up</span> until you get to recovery.</li>
</ul>
<h3>
<span id="Flashing_(Download,_Fastboot)_mode"></span><span class="mw-headline" id="Flashing_.28Download.2C_Fastboot.29_mode">Flashing (Download, Fastboot) mode</span>
</h3>
<ul><li>Same as recovery, but this time hold the <span class="nowrap" title="This is not a clickable button; it illustrates the button one should find." style="padding:.2em .6em; border:1px solid; border-color:#AAA #555 #555 #AAA; border-radius: 3px; background-color: #F2F2F2;">Volume Down</span> and <span class="nowrap" title="This is not a clickable button; it illustrates the button one should find." style="padding:.2em .6em; border:1px solid; border-color:#AAA #555 #555 #AAA; border-radius: 3px; background-color: #F2F2F2;">Power</span> keys.</li></ul>
<h2><span class="mw-headline" id="Installation">Installation</span></h2>
<ul>
<li><a href="../en/Pmbootstrap.html#Installation" class="mw-redirect" title="Installing pmbootstrap">Install pmbootstrap.</a></li>
<li>Download the device/linux package from <a rel="nofollow" class="external text" href="https://github.com/robante15/mia2_pmaports">my Github</a> (because it is not merged) and paste it into your pmaports/device folder.</li>
<li>
<code>pmbootstrap -y zap; pmbootstrap init</code>, choose <code>xiaomi-jasmine_sprout</code> as your device
<ul><li>Weston, XFCE4, and GNOME have been successfully tested. Phosh and Plasma Mobile do not work</li></ul>
</li>
<li><code>pmbootstrap install</code></li>
<li>Enter fastboot, plug USB into computer</li>
<li><code>pmbootstrap flasher flash_kernel</code></li>
<li><code>pmbootstrap flasher flash_rootfs</code></li>
<li><code>pmbootstrap flasher flash_vbmeta</code></li>
<li>Reboot, sometimes <code>fastboot reboot</code> works, otherwise hold down <span class="nowrap" title="This is not a clickable button; it illustrates the button one should find." style="padding:.2em .6em; border:1px solid; border-color:#AAA #555 #555 #AAA; border-radius: 3px; background-color: #F2F2F2;">Power</span> until it reboots to system.</li>
<li>Hopefully weston comes up with <code>postmarketos-demos</code>.</li>
<li><code>ssh user@172.16.42.1</code></li>
</ul>
<h2><span class="mw-headline" id="Hardware">Hardware</span></h2>
<table class="wikitable">

<tbody>
<tr>
<td>Touchscreen
</td>
<td>Novatek NT36672
</td>
</tr>
<tr>
<td>Main cameras (front/back)
</td>
<td>Sony IMX376
</td>
</tr>
<tr>
<td>Secondary back camera
</td>
<td>Sony IMX486
</td>
</tr>
<tr>
<td>Proximity sensor
</td>
<td>Liteon LTR-579ALS
</td>
</tr>
<tr>
<td>Gyroscope
</td>
<td>Bosch BMI120
</td>
</tr>
<tr>
<td>Compass
</td>
<td>AKM AK09918
</td>
</tr>
<tr>
<td>IR Blaster
</td>
<td>Willsemi WNM2046
</td>
</tr>
<tr>
<td>WiFi/Bluetooth
</td>
<td>Qualcomm WCN3980
</td>
</tr>
<tr>
<td>RFFE
</td>
<td>Qualcomm QET4101
</td>
</tr>
<tr>
<td>Audio amplifier
</td>
<td>Texas Instruments TAS2555
</td>
</tr>
<tr>
<td>Quick Charge Controller (PMIC?)
</td>
<td>Qualcomm SMB1351
</td>
</tr>
</tbody>
</table>
<h2><span class="mw-headline" id="UART">UART</span></h2>
<div class="toccolours mw-collapsible mw-collapsed" style="width: 620px; overflow: auto;">
<p>Bootloader UART logs:
</p>
<div class="mw-collapsible-content">
<pre>Format: Log Type - Time(microsec) - Message - Optional Info
Log Type: B - Since Boot(Power On Reset),  D - Delta,  S - Statistic
S - QC_IMAGE_VERSION_STRING=BOOT.XF.1.4-00262-S660LZB-1
S - IMAGE_VARIANT_STRING=Sdm660LA
S - OEM_IMAGE_VERSION_STRING=c3-bsp-builder-job004.bj
S - Boot Interface: eMMC
S - Secure Boot: On
S - Boot Config @ 0x00786070 = 0x000001c1
S - JTAG ID @ 0x00786130 = 0x0008c0e1
S - OEM ID @ 0x00786138 = 0x00000000
S - Serial Number @ 0x00784138 = 0xf688ea69
S - Feature Config Row 0 @ 0x007841a0 = 0x0050200010f80000
S - Feature Config Row 1 @ 0x007841a8 = 0x00000000000000c0
S - Core 0 Frequency, 3715 MHz
S - PBL Patch Ver: 5
S - I-cache: On
S - D-cache: On
B -         0 - PBL, Start
B -      7027 - bootable_media_detect_entry, Start
B -     80724 - bootable_media_detect_success, Start
B -     80730 - elf_loader_entry, Start
B -     82294 - auth_hash_seg_entry, Start
B -    109960 - auth_hash_seg_exit, Start
B -    160810 - elf_segs_hash_verify_entry, Start
B -    210662 - elf_segs_hash_verify_exit, Start
B -    210678 - auth_xbl_sec_hash_seg_entry, Start
B -    239734 - auth_xbl_sec_hash_seg_exit, Start
B -    239736 - xbl_sec_segs_hash_verify_entry, Start
B -    246449 - xbl_sec_segs_hash_verify_exit, Start
B -    246494 - PBL, End
B -    272487 - SBL1, Start
B -    387960 - usb: hs_phy_nondrive_start
B -    388295 - usb: hs_phy_nondrive_finish
B -    391162 - boot_flash_init, Start
D -         0 - boot_flash_init, Delta
B -    398513 - sbl1_ddr_set_default_params, Start
D -       122 - sbl1_ddr_set_default_params, Delta
B -    406473 - boot_config_data_table_init, Start
B -    425810 - Using default CDT
D -     14823 - boot_config_data_table_init, Delta - (0 Bytes)
B -    427732 - CDT Version:3,Platform ID:8,Major ID:1,Minor ID:0,Subtype:0
B -    433191 - Image Load, Start
D -     17660 - Auth Metadata
D -       488 - Segments hash check
D -     28091 - PMIC Image Loaded, Delta - (34240 Bytes)
B -    464545 - pm_device_init, Start
B -    471774 - PM: PON REASON: PM0=0x8000028000000001:0x0 PM1=0x8000088000000020:0x0 
B -    513986 - PM: SET_VAL:Skip
D -     45079 - pm_device_init, Delta
B -    515907 - pm_driver_init, Start
B -    523075 - PM: OCP Clearing for L4A is Skipped :PM660 is not supported the LDO4
D -      4239 - pm_driver_init, Delta
B -    530120 - pm_sbl_chg_init, Start
B -    535549 - PM: Trigger FG IMA Reset
B -    537013 - PM: Trigger FG IMA Reset.Completed
B -    541893 - PM: EntryVbat: 4202; EntrySOC: -1
B -    545065 - PM: BATT TEMP: 27 DegC
D -     16226 - pm_sbl_chg_init, Delta
B -    552843 - vsense_init, Start
D -         0 - vsense_init, Delta
B -    608749 - Pre_DDR_clock_init, Start
D -       396 - Pre_DDR_clock_init, Delta
D -         0 - sbl1_ddr_set_params, Delta
B -    620309 - DSF version = 35.0, DSF RPM version = 22.0
B -    620309 - Max Frequency = 1804 MHz
B -    624426 - do_ddr_training, Start
B -    636840 - Bootup frequency set to 1296000
D -      8814 - do_ddr_training, Delta
B -    656756 - clock_init, Start
D -       274 - clock_init, Delta
B -    659227 - Image Load, Start
D -      2501 - APDP Image Loaded, Delta - (0 Bytes)
B -    664808 - usb: EMMC Serial - 2a2bca61
B -    669536 - usb: fedl, vbus_low
B -    676764 - PM: 0: PON=0x1:HARD_RESET: ON=0x80:PON_SEQ: POFF=0x2:PS_HOLD: OFF=0x80:POFF_SEQ
B -    676856 - PM: 1: PON=0x20:PON1: ON=0x80:PON_SEQ: POFF=0x8:GP1: OFF=0x80:POFF_SEQ
B -    685152 - PM: SMEM Chgr Info Write Success
B -    692533 - alloc smem for SMEM_ID_VENDOR2 successful
B -    697077 - sbl1_efs_handle_cookies, Start
D -       762 - sbl1_efs_handle_cookies, Delta
B -    706166 - Image Load, Start
D -     19764 - Auth Metadata
D -      1037 - Segments hash check
D -     27481 - QSEE Dev Config Image Loaded, Delta - (42084 Bytes)
B -    736148 - Image Load, Start
D -       579 - SEC Image Loaded, Delta - (4096 Bytes)
B -    744993 - Image Load, Start
D -     57127 - Auth Metadata
D -     18269 - Segments hash check
D -     98362 - QSEE Image Loaded, Delta - (1946008 Bytes)
B -    845216 - Image Load, Start
D -     19764 - Auth Metadata
D -      4026 - Segments hash check
D -     34038 - QHEE Image Loaded, Delta - (273136 Bytes)
B -    881297 - Image Load, Start
D -     19856 - Auth Metadata
D -      2196 - Segments hash check
D -     33184 - RPM Image Loaded, Delta - (219340 Bytes)
B -    917226 - Image Load, Start
D -      4331 - STI Image Loaded, Delta - (0 Bytes)
B -    925065 - Image Load, Start
D -     19764 - Auth Metadata
D -      1586 - Segments hash check
D -     28273 - ABL Image Loaded, Delta - (146000 Bytes)
B -    955656 - Image Load, Start
D -     20374 - Auth Metadata
D -     13969 - Segments hash check
D -     50843 - APPSBL Image Loaded, Delta - (1792000 Bytes)
B -   1008879 - SBL1, End
D -    741302 - SBL1, Delta
S - Flash Throughput, 95000 KB/s  (4462116 Bytes,  46962 us)
S - DDR Frequency, 1296 MHz


UEFI Start     [ 1182] SEC
PROD Mode   : On
DEBUG Mode : On
ASLR        : On
Timer Delta : +7 mS
RAM Entry 0 : Base 0x0000000080000000  Size 0x0000000080000000
RAM Entry 1 : Base 0x0000000100000000  Size 0x000000007E4C0000
UEFI Ver    : 4.2.181123.BOOT.XF.1.4-00262-S660LZB-1
Build Info  : 64b Nov 23 2018 20:52:46
Boot Device : eMMC
DALLOG Device [0x2000145]: Cannot turn on source[ACPL
1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, PmicDxe:: PmicSchgSetChargerDefaultSetting Setting ICL = 500 mA 
1, PmicDxe:: PmicSchgInitialChargerCheckup APSD done status: 0, Port Type = 8 
1, 1, 1, 1, QcomChargerDxe:: ChargerPlatform_Init Enabled WDOG.
Setvariable returned Success
zjl  haptic_on
zjl  haptic_off
[CheckPanel] panel reg[0xc] value: 0x00000007, uReponseSize:2
Panel_CDP_GetID: temp1 =0;temp2 =1
Display:jdi nt36672!
ReadKeyInternal: gEfiSimpleTextInputExProtocolGuid handles = 3
ReadKeyInternal: Read KEY = 0x0
 bootstate = 0
PanelWidth=1080,PanelHeight=2160
ImageWidth=1080,ImageHeight=2160,LogoPosX=0,LogoPosY=0
Avoid flicking for 2160x1080 images 
PanelWidth=1080,PanelHeight=2160
Render Splash  [ 1913]
EnvDxe Render Callback
LoadSecureApps: Load app from partition(keymaster): Status = 0x0, AppId = 65537
APC1 IDDQ WC 0 , L2:0, CPU[0]:175, CPU[1]:175, CPU[2]:175, CPU[3]:175
 APC1 Total 700
Load CPU 0 Slp: 0x8A, Int: 0xA
Load CPU 1 Slp: 0x1, Int: 0x0
Load CPU 2 Slp: 0xB3, Int: 0x1F
Load CPU 3 Slp: 0x1, Int: 0x0
GLD IDDQ WC 0
CPU PART GOOD [0x0] SUB_BIN[0x0]
-----------------------------
Platform Init  [ 2073] BDS
UEFI Ver   : 4.2.181123.BOOT.XF.1.4-00262-S660LZB-1
Platform   : MTP
Chip Name  : SDM660
Chip Ver   : 1.0
Core 0 Freq: 1382400 MHz
-----------------------------
2, ChargerLib:: ChargerLib_GetErrors Battery Presence = 1 
ChargerLib:: ChargerLib_GetBatteryID BATT_ID_2 = 68589 
2, PmicDxe:: PmicFgCommon_GetBatteryStatus StateOfCharge = 98, VBat = 4206 mV Current = 205 mA Temperature = 27 C
2, PmicDxe:: PmicFgCommon_GetBatteryStatus StateOfCharge = 98, VBat = 4206 mV Current = 205 mA Temperature = 27 C
ChargerLib::ChargerLib_GetErrors ERROR Charging source not detected 
2, 2, 2, 2, 2, 2, 2, ChargerLib:: ChargerLib_GetErrors Battery Presence = 1 
ChargerLib:: ChargerLib_GetBatteryID BATT_ID_2 = 68589 
2, PmicDxe:: PmicFgCommon_GetBatteryStatus StateOfCharge = 98, VBat = 4206 mV Current = 205 mA Temperature = 27 C
2, PmicDxe:: PmicFgCommon_GetBatteryStatus StateOfCharge = 98, VBat = 4206 mV Current = 205 mA Temperature = 27 C
ChargerLib::ChargerLib_GetErrors ERROR Charging source not detected 
2, PmicDxe:: PmicFgCommon_GetBatteryStatus StateOfCharge = 98, VBat = 4206 mV Current = 205 mA Temperature = 27 C
2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, PmicDxe:: PmicFgSram_ReadBattID: BATT_ID_2 = 68589 
2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, PmicDxe:: PmicFgSram_CondRestart VShadw = 4206 mv VEmpty = 2843 mv VPred = 4191 mv VBattEst = -15 mv 
2, 2, 2, 2, 2, 2, 2, 2, ChargerLib:: ChargerLib_GetErrors Battery Presence = 1 
ChargerLib:: ChargerLib_GetBatteryID BATT_ID_2 = 68589 
2, PmicDxe:: PmicFgCommon_GetBatteryStatus StateOfCharge = 98, VBat = 4206 mV Current = 205 mA Temperature = 27 C
2, PmicDxe:: PmicFgCommon_GetBatteryStatus StateOfCharge = 98, VBat = 4206 mV Current = 205 mA Temperature = 27 C
ChargerLib::ChargerLib_GetErrors ERROR Charging source not detected 
2, ChargerLib:: ChargerLib_GetErrors Battery Presence = 1 
ChargerLib:: ChargerLib_GetBatteryID BATT_ID_2 = 68589 
2, PmicDxe:: PmicFgCommon_GetBatteryStatus StateOfCharge = 98, VBat = 4206 mV Current = 205 mA Temperature = 27 C
2, PmicDxe:: PmicFgCommon_GetBatteryStatus StateOfCharge = 98, VBat = 4206 mV Current = 205 mA Temperature = 27 C
ChargerLib::ChargerLib_GetErrors ERROR Charging source not detected 
2, PmicDxe:: PmicFgCommon_GetBatteryStatus StateOfCharge = 98, VBat = 4206 mV Current = 205 mA Temperature = 27 C
2, 2, 2, PmicDxe:: PmicFgCommon_GetBatteryStatus StateOfCharge = 98, VBat = 4206 mV Current = 205 mA Temperature = 27 C
2, 2, 2, PmicDxe:: PmicSchgSetChargerDefaultSetting Setting ICL = 500 mA 
zjlz 3333 QcomChargerApp:: ChargerLib_Exit Error getting platform type  
2, UEFI Total : 915 ms
POST Time      [ 2097] OS Loader
Loader Build Info: Dec  6 2018 19:53:30
VB: RWDeviceState: Succeed using rpmb!
KeyPressed = (0x9CE58000)
Reboot reason: 0
Platform version : 0x10000
Booting from slot (_b)
Loading Image Start : 2115 ms
Loading Image Done : 2115 ms
Total Image Read size : 512 Bytes
Loading Image Start : 2116 ms
Loading Image Done : 2285 ms
Total Image Read size : 28921856 Bytes
No dtbo partition is found, Skip dtbo
VB: DeviceInit: Device is unlocked! Skipping verification!
ReadKeyInternal: gEfiSimpleTextInputExProtocolGuid handles = 3
ReadKeyInternal: Read KEY = 0x0
 bootstate = 4
var = UNLOCK splash update
Cannot find GraphicsHandles.
ImageWidth=1080,ImageHeight=2160,LogoPosX=0,LogoPosY=0
Avoid flicking for 2160x1080 images 
Cannot find GraphicsHandles.
Render Splash  [ 2351]
VB: VerifyImage: Image verification done! boot state is: ORANGE
Exit key detection timer
No Ffbm cookie found, ignore: Not Found
Memory Base Address: 0x80000000
Decompressing kernel image start: 12539 ms
Decompressing kernel image done: 13023 ms
BootLinux: failed to get dtbo image
Best match DTB tags 317/00000008/0x00000000/0/1001B/102001A/0/0/(offset)0x99F32B30/(size)0x0005C540
Using pmic info 0x1001B/0x102001A/0x0/0x0 for device 0x2001B/0x102001A/0x0/0x0
Memory Base Address: 0x80000000
smem protocol = 9C2FD0A0
board_id1 is 1
 board_id2 is 0
 board_id3 is 1
board_id is 1
get_boardid_from_smem,SUCCESS ,board_id=0x102
 PON Reason is 0x200001 cold_boot:1 charger path: 0
GetCheckPanelPressGuid:checkPanel = 0x1;Status:0x0
panel is Exist
get_hwconfig_cmdline, board_id=0x102
get_hwconfig_cmdline, hwlevel=0x1
get_hwconfig_cmdline, maxcount=0x30
aaaaaa
get_hwconfig_cmdline, i=0x15
Cmdline: ttyMSM0,115200,n8 androidboot.console=ttyMSM0 earlycon=msm_serial_dm,0xc170000 androidboot.hardware=qcom user_debug=31 msm_rtb.filter=0x37 ehci-hcd.park=3 lpm_levels.sleep_disabled=1 sched_enable_hmp=1 sched_enable_power_aware=1 service_locator.e
RAM Partitions
Add Base: 0x0000000080000000 Available Length: 0x0000000080000000 
Add Base: 0x0000000100000000 Available Length: 0x000000007E4C0000 
WARNING: Could not find mem-offline node.
kaslr-Seed is added to chosen node
pureason = 40001

Shutting Down UEFI Boot Services: 13118 ms
BDS: LogFs sync skipped, Unsupported
App Log Flush : 14 ms
Exit BS        [13139] UEFI End
</pre>
</div>
</div>
<ul>
<li>Pins GPIO_4 and GPIO_5 from U201 are connected to TP11 and TP10.</li>
<li>GPIO4 = TP11 = UART TX</li>
<li>GPIO5 = TP10 = UART RX</li>
<li>UART interface is 1.8v. Not sure if RX is working yet, because there's no voltage on this pin.</li>
</ul>
<h2><span class="mw-headline" id="Additional_Info">Additional Info</span></h2>
<p>Info from the Xiaomi Redmi Note 7, and Redmi Note 8 port that also applies to the Mi A2:
</p>
<ul>
<li><a href="../en/Xiaomi_Redmi_Note_7_(xiaomi-lavender).html" title="Xiaomi Redmi Note 7 (xiaomi-lavender)">Xiaomi Redmi Note 7 (xiaomi-lavender)</a></li>
<li><a href="../en/Xiaomi_Redmi_Note_8T_(xiaomi-willow).html" title="Xiaomi Redmi Note 8T (xiaomi-willow)">Xiaomi Redmi Note 8T (xiaomi-willow)</a></li>
<li><a href="../en/USB_Internet.html" title="USB Internet">USB Internet</a></li>
</ul>
<h2><span class="mw-headline" id="Photos">Photos</span></h2>
<ul class="gallery mw-gallery-traditional">
		<li class="gallerybox" style="width: 155px"><div style="width: 155px">
			<div class="thumb" style="width: 150px;"><div style="margin:32px auto;"><a href="../Xiaomi-jasmine_sprout-uart.jpg" class="image"><img alt="" src="../Xiaomi-jasmine_sprout-uart.jpg" decoding="async" width="120" height="86" srcset="../180px-Xiaomi-jasmine_sprout-uart.jpg 1.5x ../240px-Xiaomi-jasmine_sprout-uart.jpg 2x"></a></div></div>
			<div class="gallerytext">
<p>UART pins location
</p>
			</div>
		</div></li>
</ul>
<h2><span class="mw-headline" id="See_also">See also</span></h2>
<ul>
<li><a rel="nofollow" class="external text" href="https://github.com/xiaomi-sdm660/android_kernel_xiaomi_sdm660">Kernel used as downstream kernel source for jasmine_sprout</a></li>
<li><a rel="nofollow" class="external text" href="https://github.com/robante15/mia2_pmaports">Xiaomi Mi A2 Linux and Device Package</a></li>
</ul>
</div></div>
		
		<div id="catlinks" class="catlinks" data-mw="interface"><div id="mw-normal-catlinks" class="mw-normal-catlinks">
<a href="../Special:Categories.html" title="Special:Categories">Categories</a>: <ul>
<li><a href="../en/Category:Devices.html" title="Category:Devices">Devices</a></li>
<li><a href="/index.php?title=Category:Android_8.1&amp;action=edit&amp;redlink=1" class="new" title="Category:Android 8.1 (page does not exist)">Android 8.1</a></li>
<li><a href="../en/Category:Xiaomi.html" title="Category:Xiaomi">Xiaomi</a></li>
</ul>
</div></div>
		<div class="visualClear"></div>
		
	</div>
</div>


		<div id="footer" role="contentinfo" style="margin: 0">
						<ul id="footer-info">
								<li>Retrieved from "<a dir="ltr" href="https://wiki.postmarketos.org/index.php?title=Xiaomi_Mi_A2_(xiaomi-jasmine)&amp;oldid=42947">https://wiki.postmarketos.org/index.php?title=Xiaomi_Mi_A2_(xiaomi-jasmine)&amp;oldid=42947</a>"</li>
		
		<li id="footer-info-lastmod"> This page was last edited on 23 April 2023, at 14:29.</li>
								<li id="footer-info-copyright">Content is available under <a class="external" rel="nofollow" href="https://creativecommons.org/licenses/by-sa/4.0/">Creative Commons Attribution-ShareAlike</a> unless otherwise noted.</li>
							<br>
</ul>
						<ul id="footer-places">
								<li id="footer-places-privacy"><a href="../en/PostmarketOS:Privacy_policy.html" title="PostmarketOS:Privacy policy">Privacy policy</a></li>
								<li id="footer-places-about"><a href="../en/About_postmarketOS.html" class="mw-redirect" title="PostmarketOS:About">About postmarketOS</a></li>
								<li id="footer-places-disclaimer"><a href="../en/PostmarketOS:General_disclaimer.html" title="PostmarketOS:General disclaimer">Disclaimers</a></li>
								<li id="footer-places-mobileview"><a href="https://wiki.postmarketos.org/index.php?title=Xiaomi_Mi_A2_(xiaomi-jasmine)&amp;mobileaction=toggle_view_mobile" class="noprint stopMobileRedirectToggle">Mobile view</a></li>
							</ul>
										<ul id="footer-icons" class="noprint">
										<li id="footer-copyrightico">
						<a href="https://creativecommons.org/licenses/by-sa/4.0/"><img src="../cc-by-sa.png" alt="Creative Commons Attribution-ShareAlike" width="88" height="31"></a>					</li>
										<li id="footer-poweredbyico">
						<a href="https://www.mediawiki.org/"><img src="../poweredby_mediawiki_88x31.png" alt="Powered by MediaWiki" srcset="" width="88" height="31"></a>					</li>
									</ul>
						<div style="clear: both;"></div>
		</div>
		

</body>
</html>
