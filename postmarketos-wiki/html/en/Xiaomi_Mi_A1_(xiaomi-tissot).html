<!DOCTYPE html>
<html class="client-nojs" lang="en" dir="ltr">
<head>
<meta charset="UTF-8">
<title>Xiaomi Mi A1 (xiaomi-tissot) - postmarketOS</title>
<link rel="stylesheet" href="../PostmarketOSWikiOffline.css">
<meta name="ResourceLoaderDynamicStyles" content="">
<meta name="generator" content="MediaWiki 1.34.2">
<link rel="shortcut icon" href="/favicon.ico">
<link rel="search" type="application/opensearchdescription+xml" href="/opensearch_desc.php" title="postmarketOS (en)">
<link rel="EditURI" type="application/rsd+xml" href="https://wiki.postmarketos.org/api.php?action=rsd">
<link rel="license" href="https://creativecommons.org/licenses/by-sa/4.0/">
<link rel="alternate" type="application/atom+xml" title="postmarketOS Atom feed" href="/index.php?title=Special:RecentChanges&amp;feed=atom">
</head>
<body class="mediawiki ltr sitedir-ltr mw-hide-empty-elt ns-0 ns-subject page-Xiaomi_Mi_A1_xiaomi-tissot rootpage-Xiaomi_Mi_A1_xiaomi-tissot skin-vector action-view">
<div id="content" class="mw-body" role="main" style="margin: 0">
	<a id="top"></a>
	
	<div class="mw-indicators mw-body-content">
</div>

	<h1 id="firstHeading" class="firstHeading" lang="en">Xiaomi Mi A1 (xiaomi-tissot)</h1>
	
	<div id="bodyContent" class="mw-body-content">
		<div id="siteSub" class="noprint">From postmarketOS</div>
		<div id="contentSub"></div>
		
		
		
		<div id="jump-to-nav"></div>
		<a class="mw-jump-link" href="#mw-head">Jump to navigation</a>
		<a class="mw-jump-link" href="#p-search">Jump to search</a>
		<div id="mw-content-text" lang="en" dir="ltr" class="mw-content-ltr"><div class="mw-parser-output">
<table class="infobox" cellspacing="3" style="border-spacing: 3px; width:22em;">
<caption class="" style="">Xiaomi Mi A1</caption>
<tbody>
<tr class=""><td colspan="2" class="" style="text-align:center;">
<a href="../Xiaomi-tissot.png" class="image"><img alt="Xiaomi Mi A1" src="../Xiaomi-tissot.png" decoding="async" width="200" height="407" srcset="../300px-Xiaomi-tissot.png 1.5x ../400px-Xiaomi-tissot.png 2x"></a><br><span style="">Xiaomi Mi A1</span>
</td></tr>
<tr class="">
<th scope="row" style="text-align:left;">Manufacturer</th>
    <td class="" style="">
Xiaomi</td>
</tr>
<tr class="">
<th scope="row" style="text-align:left;">Name</th>
    <td class="" style="">
Mi A1</td>
</tr>
<tr class="">
<th scope="row" style="text-align:left;">Codename</th>
    <td class="" style="">
xiaomi-tissot</td>
</tr>
<tr class="">
<th scope="row" style="text-align:left;">Released</th>
    <td class="" style="">
2017</td>
</tr>
<tr class="">
<th scope="row" style="text-align:left;">Category</th>
    <td class="" style="">
testing</td>
</tr>
<tr class="">
<th scope="row" style="text-align:left;">Original software</th>
    <td class="" style="">
Android</td>
</tr>
<tr class="">
<th scope="row" style="text-align:left;"><abbr title="The version the device was shipped with.">Original version</abbr></th>
    <td class="" style="">
7.1.2</td>
</tr>
<tr class="">
<th scope="row" style="text-align:left;"><abbr title="The most recent supported version from the manufacturer.">Extended version</abbr></th>
    <td class="" style="">
9.0 (Linux 3.18.31 - 3.18.120)</td>
</tr>
<tr class="">
<th scope="row" style="text-align:left;">postmarketOS kernel</th>
    <td class="" style="">
Mainline: 5.16</td>
</tr>
<tr><th colspan="2" class="" style="text-align:center;">Hardware</th></tr>
<tr class="">
<th scope="row" style="text-align:left;">Chipset</th>
    <td class="" style="">
<a href="../en/Qualcomm_Snapdragon_450_625_626_632_(MSM8953).html" class="mw-redirect" title="Qualcomm Snapdragon 625 (MSM8953)">Qualcomm Snapdragon 625 (MSM8953)</a>
</td>
</tr>
<tr class="">
<th scope="row" style="text-align:left;">CPU</th>
    <td class="" style="">
Octa-core 2.0 GHz Cortex-A53</td>
</tr>
<tr class="">
<th scope="row" style="text-align:left;">GPU</th>
    <td class="" style="">
Adreno 506</td>
</tr>
<tr class="">
<th scope="row" style="text-align:left;">Display</th>
    <td class="" style="">
1080x1920 IPS LCD</td>
</tr>
<tr class="">
<th scope="row" style="text-align:left;">Storage</th>
    <td class="" style="">
32 GB / 64 GB</td>
</tr>
<tr class="">
<th scope="row" style="text-align:left;">Memory</th>
    <td class="" style="">
4 GB</td>
</tr>
<tr class="">
<th scope="row" style="text-align:left;">Architecture</th>
    <td class="" style="">
aarch64</td>
</tr>
<tr class="">
<th scope="row" style="text-align:left;">Unixbench Whet/Dhry score</th>
    <td class="" style="">
3703.7</td>
</tr>
<tr><td colspan="2" style="text-align:right"></td></tr>
</tbody>
</table>
<p><br>
</p>
<p><br>
</p>
<table class="infobox" cellspacing="3" style="border-spacing: 3px; width:22em;">
<caption class="" style="">Features</caption>
<tbody>
<tr class="">
<th scope="row" style="text-align:left;"><abbr title="After connecting the device with USB to your PC, you can connect to it via telnet (initramfs) or SSH (booted system).">USB Networking</abbr></th>
    <td class="" style="">
<div class="feature feature-yes">Works</div>
</td>
</tr>
<tr class="">
<th scope="row" style="text-align:left;"><abbr title="It is possible to flash the device with `pmbootstrap flasher`.">Flashing</abbr></th>
    <td class="" style="">
<div class="feature feature-yes">Works</div>
</td>
</tr>
<tr class="">
<th scope="row" style="text-align:left;">Touchscreen</th>
    <td class="" style="">
<div class="feature feature-yes">Works</div>
</td>
</tr>
<tr class="">
<th scope="row" style="text-align:left;"><abbr title="Display works. Ideally with sleep mode and brightness control.">Display</abbr></th>
    <td class="" style="">
<div class="feature feature-yes">Works</div>
</td>
</tr>
<tr class="">
<th scope="row" style="text-align:left;">WiFi</th>
    <td class="" style="">
<div class="feature feature-yes">Works</div>
</td>
</tr>
<tr class="">
<th scope="row" style="text-align:left;"><abbr title="Full disk encryption and unlocking with osk-sdl.">FDE</abbr></th>
    <td class="" style="">
<div class="feature feature-yes">Works</div>
</td>
</tr>
<tr class="">
<th scope="row" style="text-align:left;"><abbr title="Instead of a Linux kernel fork, it is possible to run mainline.">Mainline</abbr></th>
    <td class="" style="">
<div class="feature feature-yes">Works</div>
</td>
</tr>
<tr class="">
<th scope="row" style="text-align:left;"><abbr title="Charging and battery level reporting works">Battery</abbr></th>
    <td class="" style="">
<div class="feature feature-partial">Partial</div>
</td>
</tr>
<tr class="">
<th scope="row" style="text-align:left;">3D Acceleration</th>
    <td class="" style="">
<div class="feature feature-yes">Works</div>
</td>
</tr>
<tr class="">
<th scope="row" style="text-align:left;"><abbr title="Audio playback, microphone, headset and buttons.">Audio</abbr></th>
    <td class="" style="">
<div class="feature feature-partial">Partial</div>
</td>
</tr>
<tr class="">
<th scope="row" style="text-align:left;">Bluetooth</th>
    <td class="" style="">
<div class="feature feature-yes">Works</div>
</td>
</tr>
<tr class="">
<th scope="row" style="text-align:left;">Camera</th>
    <td class="" style="">
<div class="feature feature-no">Broken</div>
</td>
</tr>
<tr class="">
<th scope="row" style="text-align:left;">GPS</th>
    <td class="" style="">
<div class="feature feature-no">Broken</div>
</td>
</tr>
<tr class="">
<th scope="row" style="text-align:left;">Mobile data</th>
    <td class="" style="">
<div class="feature feature-no">Broken</div>
</td>
</tr>
<tr class="">
<th scope="row" style="text-align:left;">SMS</th>
    <td class="" style="">
<div class="feature feature-no">Broken</div>
</td>
</tr>
<tr class="">
<th scope="row" style="text-align:left;">Calls</th>
    <td class="" style="">
<div class="feature feature-no">Broken</div>
</td>
</tr>
<tr class="">
<th scope="row" style="text-align:left;">USB OTG / USB-C Role switching</th>
    <td class="" style="">
<div class="feature feature-no">Broken</div>
</td>
</tr>
<tr class="">
<th scope="row" style="text-align:left;">NFC</th>
    <td class="" style="">
<div class="feature feature-unavailable">Unavailable</div>
</td>
</tr>
<tr><td colspan="2" style="text-align:right"></td></tr>
</tbody>
</table>
<table class="infobox" cellspacing="3" style="border-spacing: 3px; width:22em;">
<caption class="" style="">Sensors</caption>
<tbody>
<tr class="">
<th scope="row" style="text-align:left;"><abbr title="Auto screen rotation works in desktops e.g. Phosh or Plasma Mobile">Accelerometer</abbr></th>
    <td class="" style="">
<div class="feature feature-yes">Works</div>
</td>
</tr>
<tr class="">
<th scope="row" style="text-align:left;">Magnetometer</th>
    <td class="" style="">
<div class="feature feature-no">Broken</div>
</td>
</tr>
<tr class="">
<th scope="row" style="text-align:left;">Ambient Light</th>
    <td class="" style="">
<div class="feature feature-no">Broken</div>
</td>
</tr>
<tr class="">
<th scope="row" style="text-align:left;">Proximity</th>
    <td class="" style="">
<div class="feature feature-no">Broken</div>
</td>
</tr>
<tr class="">
<th scope="row" style="text-align:left;"><abbr title="Also known as flip cover sensor">Hall Effect</abbr></th>
    <td class="" style="">
<div class="feature feature-yes">Works</div>
</td>
</tr>
<tr class="">
<th scope="row" style="text-align:left;">Barometer</th>
    <td class="" style="">
<div class="feature feature-unavailable">Unavailable</div>
</td>
</tr>
<tr class="">
<th scope="row" style="text-align:left;">Power Sensor</th>
    <td class="" style="">
<div class="feature feature-unavailable">Unavailable</div>
</td>
</tr>
<tr><td colspan="2" style="text-align:right"></td></tr>
</tbody>
</table>
<table class="infobox" cellspacing="3" style="border-spacing: 3px; width:22em;">
<caption class="" style="">Misc</caption>
<tbody>
<tr class="">
<th scope="row" style="text-align:left;">Camera Flash</th>
    <td class="" style="">
<div></div>
</td>
</tr>
<tr class="">
<th scope="row" style="text-align:left;">Keyboard</th>
    <td class="" style="">
<div class="feature feature-unavailable">Unavailable</div>
</td>
</tr>
<tr class="">
<th scope="row" style="text-align:left;">Touchpad</th>
    <td class="" style="">
<div class="feature feature-unavailable">Unavailable</div>
</td>
</tr>
<tr class="">
<th scope="row" style="text-align:left;"><abbr title="Full-sized USB-A port works (Usually applicable to SBCs and laptops).">USB-A</abbr></th>
    <td class="" style="">
<div class="feature feature-unavailable">Unavailable</div>
</td>
</tr>
<tr class="">
<th scope="row" style="text-align:left;"><abbr title="Video and audio output with HDMI or Display Port works.">HDMI/DP</abbr></th>
    <td class="" style="">
<div class="feature feature-unavailable">Unavailable</div>
</td>
</tr>
<tr class="">
<th scope="row" style="text-align:left;">Ir TX</th>
    <td class="" style="">
<div class="feature feature-no">Broken</div>
</td>
</tr>
<tr class="">
<th scope="row" style="text-align:left;">Ir RX</th>
    <td class="" style="">
<div></div>
</td>
</tr>
<tr class="">
<th scope="row" style="text-align:left;">Stylus</th>
    <td class="" style="">
<div></div>
</td>
</tr>
<tr class="">
<th scope="row" style="text-align:left;">Haptics</th>
    <td class="" style="">
<div></div>
</td>
</tr>
<tr class="">
<th scope="row" style="text-align:left;">Ethernet</th>
    <td class="" style="">
<div></div>
</td>
</tr>
<tr class="">
<th scope="row" style="text-align:left;">FOSS bootloader</th>
    <td class="" style="">
<div></div>
</td>
</tr>
<tr><td colspan="2" style="text-align:right"></td></tr>
</tbody>
</table>
<p><br>
</p>
<p><br>
</p>
<table class="infobox" style="float: right; width: 22em; color: inherit; background-color: #f7fff7; border: 3px solid #8a8;"><tbody><tr><td>
<b>This device is based on the <a href="../en/Qualcomm_Snapdragon_450_625_626_632_(MSM8953).html" title="Qualcomm Snapdragon 450/625/626/632 (MSM8953)">Snapdragon 625</a>.</b><br>See the SoC page for common tips, guides and troubleshooting steps</td></tr></tbody></table>
<p><a class="mw-selflink selflink">Xiaomi Mi A1 (xiaomi-tissot)</a> is <b><a href="../en/Xiaomi_Mi_5X_(xiaomi-tiffany).html" title="Xiaomi Mi 5X (xiaomi-tiffany)">Xiaomi Mi 5X (xiaomi-tiffany)</a></b>, but with <span class="nowrap" title="This is not a clickable button; it illustrates the button one should find." style="padding:.2em .6em; border:1px solid; border-color:#AAA #555 #555 #AAA; border-radius: 3px; background-color: #F2F2F2;"><a rel="nofollow" class="external text" href="https://en.wikipedia.org/wiki/Android_One">Android One</a></span> on board and <span class="nowrap" title="This is not a clickable button; it illustrates the button one should find." style="padding:.2em .6em; border:1px solid; border-color:#AAA #555 #555 #AAA; border-radius: 3px; background-color: #F2F2F2;"><a rel="nofollow" class="external text" href="https://source.android.com/devices/tech/ota/ab">A/B</a></span> structure. On the <a class="mw-selflink selflink">Xiaomi Mi A1 (xiaomi-tissot)</a>, unlike the <b><a href="../en/Xiaomi_Mi_5X_(xiaomi-tiffany).html" title="Xiaomi Mi 5X (xiaomi-tiffany)">Xiaomi Mi 5X (xiaomi-tiffany)</a></b>, you do not need to link your Mi Account and wait 15 days (360 hours) to unlock the bootloader.
</p>
<div id="toc" class="toc">
<input type="checkbox" role="button" id="toctogglecheckbox" class="toctogglecheckbox" style="display:none"><div class="toctitle" lang="en" dir="ltr">
<h2>Contents</h2>
<span class="toctogglespan"><label class="toctogglelabel" for="toctogglecheckbox"></label></span>
</div>
<ul>
<li class="toclevel-1 tocsection-1"><a href="#Contributors"><span class="tocnumber">1</span> <span class="toctext">Contributors</span></a></li>
<li class="toclevel-1 tocsection-2"><a href="#Users_owning_this_device"><span class="tocnumber">2</span> <span class="toctext">Users owning this device</span></a></li>
<li class="toclevel-1 tocsection-3">
<a href="#Installation"><span class="tocnumber">3</span> <span class="toctext">Installation</span></a>
<ul>
<li class="toclevel-2 tocsection-4"><a href="#How_to_enter_flash_mode"><span class="tocnumber">3.1</span> <span class="toctext">How to enter flash mode</span></a></li>
<li class="toclevel-2 tocsection-5"><a href="#OEM_unlock"><span class="tocnumber">3.2</span> <span class="toctext">OEM unlock</span></a></li>
<li class="toclevel-2 tocsection-6"><a href="#Wipes"><span class="tocnumber">3.3</span> <span class="toctext">Wipes</span></a></li>
<li class="toclevel-2 tocsection-7"><a href="#Dual_booting"><span class="tocnumber">3.4</span> <span class="toctext">Dual booting</span></a></li>
</ul>
</li>
<li class="toclevel-1 tocsection-8"><a href="#What_works"><span class="tocnumber">4</span> <span class="toctext">What works</span></a></li>
<li class="toclevel-1 tocsection-9"><a href="#What_works_partially"><span class="tocnumber">5</span> <span class="toctext">What works partially</span></a></li>
<li class="toclevel-1 tocsection-10"><a href="#What_does_not_work"><span class="tocnumber">6</span> <span class="toctext">What does not work</span></a></li>
<li class="toclevel-1 tocsection-11"><a href="#Downstream"><span class="tocnumber">7</span> <span class="toctext">Downstream</span></a></li>
<li class="toclevel-1 tocsection-12"><a href="#Serial_debugging_.28UART.29"><span class="tocnumber">8</span> <span class="toctext">Serial debugging (UART)</span></a></li>
<li class="toclevel-1 tocsection-13"><a href="#See_also"><span class="tocnumber">9</span> <span class="toctext">See also</span></a></li>
</ul>
</div>

<h2><span class="mw-headline" id="Contributors">Contributors</span></h2>
<ul>
<li><a href="../User:JIaxyga.html" title="User:JIaxyga">JIaxyga</a></li>
<li><a href="../User:Jenneron.html" title="User:Jenneron">Jenneron</a></li>
</ul>
<h2><span class="mw-headline" id="Users_owning_this_device">Users owning this device</span></h2>
<div style="-webkit-column-count: 2; -moz-column-count: 2; column-count: 2;"><ul style="margin-top: 0;">
<li>
<a href="../User:AAT596.html" title="User:AAT596">AAT596</a> (<span class="cargoFieldName">Notes:</span> LineageOS 18.1)</li>
<li><a href="../User:Bczeman.html" title="User:Bczeman">Bczeman</a></li>
<li><a href="../User:Dferrg.html" title="User:Dferrg">Dferrg</a></li>
<li>
<a href="../User:Hiddener.html" title="User:Hiddener">Hiddener</a> (<span class="cargoFieldName">Notes:</span> LineageOS 19.1, daily driver)</li>
<li>
<a href="../User:IonAgorria.html" title="User:IonAgorria">IonAgorria</a> (<span class="cargoFieldName">Notes:</span> LineageOS - OK)</li>
<li><a href="../User:Jenneron.html" title="User:Jenneron">Jenneron</a></li>
<li>
<a href="../User:JIaxyga.html" title="User:JIaxyga">JIaxyga</a> (<span class="cargoFieldName">Notes:</span> Mainline maintainer)</li>
<li>
<a href="../User:Miki.html" title="User:Miki">Miki</a> (<span class="cargoFieldName">Notes:</span> Secondary/rom testing device, cracked display, currently on pmOS)</li>
<li>
<a href="../User:Netman.html" title="User:Netman">Netman</a> (<span class="cargoFieldName">Notes:</span> Screen has been replaced, still having an original cracked one)</li>
<li>
<a href="../User:Paradox.html" title="User:Paradox">Paradox</a> (<span class="cargoFieldName">Notes:</span> Daily driver. Goodix, Nohon battery, EBBG/ILITEK)</li>
<li>
<a href="../User:Tfuxu.html" title="User:Tfuxu">Tfuxu</a> (<span class="cargoFieldName">Notes:</span> Flashed recently with LineageOS 18.1)</li>
<li><a href="../User:Ungeskriptet.html" title="User:Ungeskriptet">Ungeskriptet</a></li>
</ul></div>
<h2><span class="mw-headline" id="Installation">Installation</span></h2>
<ul><li>Follow the <a href="../en/Installation.html" class="mw-redirect" title="Installation guide">Installation guide</a>
</li></ul>
<table role="text container" style="color: inherit; background-color: #f6efe5; border: 1px solid #ac6600; margin: 4px 0; border-collapse: collapse;"><tbody><tr>
<td style="padding: 2px 0 2px 0.9em; text-align: center;"><span style="white-space: nowrap;"><img alt="Note" src="../Reference_icon.svg" decoding="async" title="Note" width="20" height="20" srcset="../Reference_icon.svg 1.5x ../Reference_icon.svg 2x"></span></td>
<td style="padding: 0.35em 0.9em; width: 100%;">
<b>Note:</b> <a href="../en/Lk2nd_Lk1st.html" class="mw-redirect" title="Lk2nd">lk2nd</a> is a hard dependency, without it the mainline kernel will not select the panel.</td>
</tr></tbody></table>
<table role="text container" style="color: inherit; background-color: #fee7e6; border: 1px solid #d33; margin: 4px 0; border-collapse: collapse;"><tbody><tr>
<td style="padding: 2px 0 2px 0.9em; text-align: center;"><span style="white-space: nowrap;"><img alt="Icon" src="../Red_warning_icon.svg" decoding="async" title="Icon" width="20" height="20" srcset="../Red_warning_icon.svg 1.5x ../Red_warning_icon.svg 2x"></span></td>
<td style="padding: 0.35em 0.9em; width: 100%;">
<b>WARNING:</b> At the moment, there is no charging driver in the kernel. You must not allow discharge below 15%, otherwise if there is a very low charge level and the smartphone cannot be loaded even in fastboot! You can charge in twrp. If you don't want to risk it, you can use the downstream kernel.</td>
</tr></tbody></table>
<ul><li>Use the <code>--add lk2nd-msm8953</code> flag during <code>pmbootstrap install</code> to get the lk2nd package.</li></ul>
<div class="mw-highlight mw-content-ltr" dir="ltr"><pre><span></span><span class="gp">$</span> pmbootstrap install --add lk2nd-msm8953
<span class="gp">$</span> pmbootstrap flasher flash_lk2nd
</pre></div>
<ul>
<li>Power off the device.</li>
<li>Start <b>lk2nd Fastboot</b> by powering on the device and, after it vibrates, holding <span class="nowrap" title="This is not a clickable button; it illustrates the button one should find." style="padding:.2em .6em; border:1px solid; border-color:#AAA #555 #555 #AAA; border-radius: 3px; background-color: #F2F2F2;">Volume Down</span>
</li>
</ul>
<div class="mw-highlight mw-content-ltr" dir="ltr"><pre><span></span><span class="gp">$</span> pmbootstrap flasher flash_kernel
<span class="gp">$</span> pmbootstrap flasher flash_rootfs --partition userdata
</pre></div>
<h3><span class="mw-headline" id="How_to_enter_flash_mode">How to enter flash mode</span></h3>
<ul>
<li>
<b>Stock Fastboot</b>: Power on the device with both <span class="nowrap" title="This is not a clickable button; it illustrates the button one should find." style="padding:.2em .6em; border:1px solid; border-color:#AAA #555 #555 #AAA; border-radius: 3px; background-color: #F2F2F2;">Power</span> and <span class="nowrap" title="This is not a clickable button; it illustrates the button one should find." style="padding:.2em .6em; border:1px solid; border-color:#AAA #555 #555 #AAA; border-radius: 3px; background-color: #F2F2F2;">Volume Down</span> buttons</li>
<li>
<b>lk2nd Fastboot</b>: Power on the device. After it vibrates, hold <span class="nowrap" title="This is not a clickable button; it illustrates the button one should find." style="padding:.2em .6em; border:1px solid; border-color:#AAA #555 #555 #AAA; border-radius: 3px; background-color: #F2F2F2;">Volume Down</span>
</li>
</ul>
<table role="text container" style="color: inherit; background-color: #f6efe5; border: 1px solid #ac6600; margin: 4px 0; border-collapse: collapse;"><tbody><tr>
<td style="padding: 2px 0 2px 0.9em; text-align: center;"><span style="white-space: nowrap;"><img alt="Note" src="../Reference_icon.svg" decoding="async" title="Note" width="20" height="20" srcset="../Reference_icon.svg 1.5x ../Reference_icon.svg 2x"></span></td>
<td style="padding: 0.35em 0.9em; width: 100%;">
<b>Note:</b> Pressing the keys too early will cause the stock bootloader to handle the key combination. You will end up in the wrong Fastboot interface.</td>
</tr></tbody></table>
<ul><li>
<b>Recovery</b>: Power on the device with both <span class="nowrap" title="This is not a clickable button; it illustrates the button one should find." style="padding:.2em .6em; border:1px solid; border-color:#AAA #555 #555 #AAA; border-radius: 3px; background-color: #F2F2F2;">Power</span> and <span class="nowrap" title="This is not a clickable button; it illustrates the button one should find." style="padding:.2em .6em; border:1px solid; border-color:#AAA #555 #555 #AAA; border-radius: 3px; background-color: #F2F2F2;">Volume Up</span> buttons</li></ul>
<h3><span class="mw-headline" id="OEM_unlock">OEM unlock</span></h3>
<p>First make sure to enable USB debugging <a rel="nofollow" class="external autonumber" href="https://developer.android.com/studio/debug/dev-options#enable">[1]</a> and OEM unlock in Android.
Then with device powered off, hold down <span class="nowrap" title="This is not a clickable button; it illustrates the button one should find." style="padding:.2em .6em; border:1px solid; border-color:#AAA #555 #555 #AAA; border-radius: 3px; background-color: #F2F2F2;">Volume Down</span> and <span class="nowrap" title="This is not a clickable button; it illustrates the button one should find." style="padding:.2em .6em; border:1px solid; border-color:#AAA #555 #555 #AAA; border-radius: 3px; background-color: #F2F2F2;">Power</span> buttons simultaneously for a few seconds, until Fastboot Mode screen appears. Plug in USB cable and do:
</p>
<div class="mw-highlight mw-content-ltr" dir="ltr"><pre><span></span><span class="gp">$</span> sudo fastboot oem unlock
</pre></div>
<h3><span class="mw-headline" id="Wipes">Wipes</span></h3>
<p>Wipes work very strangely. Fastboot says that the wipes were successfully completed, but the partitions are not cleared. Therefore, the only way out is to make wipes from twrp or use formatting.
</p>
<div class="mw-highlight mw-content-ltr" dir="ltr"><pre><span></span><span class="gp">$</span> sudo fastboot format:ext4 boot_a
<span class="gp">$</span> sudo fastboot format:ext4 boot_b
<span class="gp">$</span> sudo fastboot format:ext4 system_a
<span class="gp">$</span> sudo fastboot format:ext4 system_b
<span class="gp">$</span> sudo fastboot format:ext4 userdata
</pre></div>
<h3><span class="mw-headline" id="Dual_booting">Dual booting</span></h3>
<p>We can use the a/b markup feature for dual booting. In this case, we will have the kernel in the boot_a (or boot_b) section and the rootfs will be located in the same system_a (or system_b) slot. The opposite slot will use Android. The system partition severely limits the available space, so you can use an sd card for rootfs.<br>
To find out the active slot, run in fastboot:
</p>
<div class="mw-highlight mw-content-ltr" dir="ltr"><pre><span></span><span class="gp">$</span> sudo fastboot getvar current-slot
</pre></div>
<p>To switch a slot, run:
</p>
<div class="mw-highlight mw-content-ltr" dir="ltr"><pre><span></span><span class="gp">$</span> sudo fastboot set_active a / b
</pre></div>
<h2><span class="mw-headline" id="What_works">What works</span></h2>
<p>Main:
</p>
<ul>
<li>USB Networking</li>
<li>Flashing</li>
<li>Touchscreen - focaltech,ft5435 (<a rel="nofollow" class="external text" href="https://github.com/torvalds/linux/blob/master/drivers/input/touchscreen/edt-ft5x06.c">edt-ft5x06</a>)</li>
<li>Display - <a rel="nofollow" class="external text" href="https://github.com/JIaxyga/linux/blob/master/drivers/gpu/drm/panel/panel-ili7807-fhd.c">EBBG ili7807(ilitek)</a> / <a rel="nofollow" class="external text" href="https://github.com/JIaxyga/linux/blob/master/drivers/gpu/drm/panel/panel-otm1911-fhd.c">tianma otm1911(focal)</a> / <a rel="nofollow" class="external text" href="https://github.com/JIaxyga/linux/blob/master/drivers/gpu/drm/panel/panel-ft8716-fhd.c">EBBG ft8716(focal)</a>
</li>
<li>WiFi - WCN3680B (<a rel="nofollow" class="external text" href="https://github.com/torvalds/linux/tree/master/drivers/net/wireless/ath/wcn36xx">WCN36XX</a>)</li>
<li>Xwayland</li>
<li>FDE</li>
<li>Bluetooth - WCN3680B (<a rel="nofollow" class="external text" href="https://github.com/torvalds/linux/tree/master/drivers/net/wireless/ath/wcn36xx">WCN36XX</a>)</li>
<li>Hall Effect Sensor - BU52061NVX (<a rel="nofollow" class="external text" href="https://github.com/torvalds/linux/blob/master/drivers/input/keyboard/gpio_keys.c">gpio-keys</a>)</li>
<li>Charger - <a rel="nofollow" class="external text" href="https://github.com/msm8953-mainline/linux/pull/25">qcom,smbcharger</a> <a rel="nofollow" class="external text" href="https://github.com/JIaxyga/linux/tree/msm8953-test"><b>Works from here</b></a>
</li>
</ul>
<p>Other:
</p>
<ul><li>Notification LED - <a rel="nofollow" class="external text" href="https://github.com/torvalds/linux/blob/master/drivers/leds/leds-aw2013.c">awinic,aw2013</a>
</li></ul>
<h2><span class="mw-headline" id="What_works_partially">What works partially</span></h2>
<p>Main:
</p>
<ul>
<li>Battery - <a rel="nofollow" class="external text" href="https://github.com/msm8953-mainline/linux/pull/25">qcom,fg</a>
</li>
<li>Audio - <a rel="nofollow" class="external text" href="https://github.com/torvalds/linux/blob/master/sound/soc/codecs/max98927.c">maxim,max98927</a> Everything except the speaker works</li>
</ul>
<h2><span class="mw-headline" id="What_does_not_work">What does not work</span></h2>
<p>Main:
</p>
<ul>
<li>Accelerometer - bosch,bmi120 (<a rel="nofollow" class="external text" href="https://github.com/torvalds/linux/blob/master/drivers/iio/imu/bmi160">bosch,bmi160</a>) <a rel="nofollow" class="external text" href="https://github.com/JIaxyga/linux/tree/msm8953-test"><b>Works from here</b></a>
</li>
<li>Magnetometer - AKM, AK09918 (<a rel="nofollow" class="external text" href="https://github.com/torvalds/linux/blob/master/drivers/iio/magnetometer/ak8975.c">asahi-kasei,ak8975</a>)</li>
<li>Proximity Sensor - LiteOn, LTR579 (<a rel="nofollow" class="external text" href="https://github.com/torvalds/linux/blob/master/drivers/iio/light/ltr501.c">liteon,ltr501?</a>)</li>
<li>Ambient Light Sensor - LiteOn, LTR579 (<a rel="nofollow" class="external text" href="https://github.com/torvalds/linux/blob/master/drivers/iio/light/ltr501.c">liteon,ltr501?</a>)</li>
<li>Camera - Front Cam: samsung_s5k5e8 Back Cam: ov_12a10 Back Sub Cam: ov_13880</li>
<li>OTG - Requires a couple of changes to dts and charger driver</li>
<li>GPS</li>
<li>Mobile data - Works with ipa patches. So far, not in the branch</li>
<li>SMS - Works with ipa patches. So far, not in the branch</li>
<li>Calls</li>
<li>Ir TX</li>
<li>TrustZone</li>
</ul>
<p>Other:
</p>
<ul>
<li>Flashlight - <a rel="nofollow" class="external text" href="https://github.com/msm8953-mainline/linux/pull/26">qcom,spmi-flash</a> <a rel="nofollow" class="external text" href="https://github.com/JIaxyga/linux/tree/msm8953-test"><b>Works from here</b></a>
</li>
<li>Keypad backlights</li>
<li>Haptics</li>
<li>Fingerprint - fpc,fpc1020 / goodix,gf3208</li>
</ul>
<h2><span class="mw-headline" id="Downstream">Downstream</span></h2>
<p>There is an alternative device port using the downstream kernel, <code>xiaomi-tissot-downstream</code>. It can be selected by entering the name in <code>pmbootstrap init</code>.
</p>
<table role="text container" style="color: inherit; background-color: #f6efe5; border: 1px solid #ac6600; margin: 4px 0; border-collapse: collapse;"><tbody><tr>
<td style="padding: 2px 0 2px 0.9em; text-align: center;"><span style="white-space: nowrap;"><img alt="Note" src="../Reference_icon.svg" decoding="async" title="Note" width="20" height="20" srcset="../Reference_icon.svg 1.5x ../Reference_icon.svg 2x"></span></td>
<td style="padding: 0.35em 0.9em; width: 100%;">
<b>Note:</b> The downstream kernel is entirely <b>unmaintained</b> and only intended for testing features for the mainline kernel.</td>
</tr></tbody></table>
<h2>
<span id="Serial_debugging_(UART)"></span><span class="mw-headline" id="Serial_debugging_.28UART.29">Serial debugging (UART)</span>
</h2>
<ul class="gallery mw-gallery-traditional">
		<li class="gallerybox" style="width: 155px"><div style="width: 155px">
			<div class="thumb" style="width: 150px;"><div style="margin:34.5px auto;"><a href="../Xiaomi-tissot-uart.png" class="image"><img alt="Xiaomi-tissot-uart.png" src="../Xiaomi-tissot-uart.png" decoding="async" width="120" height="81" srcset="../180px-Xiaomi-tissot-uart.png 1.5x ../240px-Xiaomi-tissot-uart.png 2x"></a></div></div>
			<div class="gallerytext">
			</div>
		</div></li>
</ul>
<p>See also: <a href="../en/Serial_debugging.html" title="Serial debugging">Serial debugging</a>
</p>
<h2><span class="mw-headline" id="See_also">See also</span></h2>
<ul>
<li><a rel="nofollow" class="external text" href="https://github.com/msm8953-mainline/linux">Kernel source</a></li>
<li><a rel="nofollow" class="external text" href="https://gitlab.com/postmarketOS/pmaports/-/tree/master/device/testing/linux-postmarketos-qcom-msm8953">Kernel package</a></li>
<li><a rel="nofollow" class="external text" href="https://gitlab.com/postmarketOS/pmaports/-/tree/master/device/testing/device-xiaomi-tissot">Device package</a></li>
<li><a rel="nofollow" class="external text" href="https://gitlab.com/postmarketOS/pmaports/-/tree/master/device/testing/firmware-xiaomi-tissot">Firmware package</a></li>
<li><a rel="nofollow" class="external text" href="https://gitlab.com/postmarketOS/pmaports/-/tree/master/main/lk2nd">lk2nd (build script)</a></li>
<li><a rel="nofollow" class="external text" href="https://github.com/msm8953-mainline/lk2nd">lk2nd (source code)</a></li>
<li><a rel="nofollow" class="external text" href="https://dl.twrp.me/tissot/twrp-3.3.0-1-tissot.img">twrp-3.3.0-1-tissot.img</a></li>
<li><a rel="nofollow" class="external text" href="https://drive.google.com/file/d/1iActc8xfKr5esGW2CdH_xOtn4xGzharX">Schematic Mi A1</a></li>
<li><a href="../en/Qualcomm_Snapdragon_450_625_626_632_(MSM8953).html" title="Qualcomm Snapdragon 450/625/626/632 (MSM8953)">MSM8953 mainlining status</a></li>
</ul>

</div></div>
		
		<div id="catlinks" class="catlinks" data-mw="interface"><div id="mw-normal-catlinks" class="mw-normal-catlinks">
<a href="../Special:Categories.html" title="Special:Categories">Categories</a>: <ul>
<li><a href="../en/Category:Devices.html" title="Category:Devices">Devices</a></li>
<li><a href="../en/Category:Android.html" title="Category:Android">Android</a></li>
<li><a href="../en/Category:Xiaomi.html" title="Category:Xiaomi">Xiaomi</a></li>
</ul>
</div></div>
		<div class="visualClear"></div>
		
	</div>
</div>


		<div id="footer" role="contentinfo" style="margin: 0">
						<ul id="footer-info">
								<li>Retrieved from "<a dir="ltr" href="https://wiki.postmarketos.org/index.php?title=Xiaomi_Mi_A1_(xiaomi-tissot)&amp;oldid=44056">https://wiki.postmarketos.org/index.php?title=Xiaomi_Mi_A1_(xiaomi-tissot)&amp;oldid=44056</a>"</li>
		
		<li id="footer-info-lastmod"> This page was last edited on 7 May 2023, at 20:02.</li>
								<li id="footer-info-copyright">Content is available under <a class="external" rel="nofollow" href="https://creativecommons.org/licenses/by-sa/4.0/">Creative Commons Attribution-ShareAlike</a> unless otherwise noted.</li>
							<br>
</ul>
						<ul id="footer-places">
								<li id="footer-places-privacy"><a href="../en/PostmarketOS:Privacy_policy.html" title="PostmarketOS:Privacy policy">Privacy policy</a></li>
								<li id="footer-places-about"><a href="../en/About_postmarketOS.html" class="mw-redirect" title="PostmarketOS:About">About postmarketOS</a></li>
								<li id="footer-places-disclaimer"><a href="../en/PostmarketOS:General_disclaimer.html" title="PostmarketOS:General disclaimer">Disclaimers</a></li>
								<li id="footer-places-mobileview"><a href="https://wiki.postmarketos.org/index.php?title=Xiaomi_Mi_A1_(xiaomi-tissot)&amp;mobileaction=toggle_view_mobile" class="noprint stopMobileRedirectToggle">Mobile view</a></li>
							</ul>
										<ul id="footer-icons" class="noprint">
										<li id="footer-copyrightico">
						<a href="https://creativecommons.org/licenses/by-sa/4.0/"><img src="../cc-by-sa.png" alt="Creative Commons Attribution-ShareAlike" width="88" height="31"></a>					</li>
										<li id="footer-poweredbyico">
						<a href="https://www.mediawiki.org/"><img src="../poweredby_mediawiki_88x31.png" alt="Powered by MediaWiki" srcset="" width="88" height="31"></a>					</li>
									</ul>
						<div style="clear: both;"></div>
		</div>
		

</body>
</html>
